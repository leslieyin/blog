---
author: 
  name: 阿猫阿狗
  link: https://blog.yhz610.com
title: 支付宝条码支付
date: 2020-01-01 00:00:01
permalink: /doc/ylzfbtmzf1.html
categories: 
  - 支付业务
  - 技术文档
tags: 
  - 支付宝
---

为规范金融市场秩序、维护金融市场稳定、加强资金安全监管、防范金融系统性风险事件发生，中国银联面向支付宝提供一揽子业务合作方案，推出支付宝条码支付业务，从当前市场实际诉求出发，重点解决间连模式下银行/支付机构的支付宝收单业务相关需求。

<!-- more -->

# 收单侧接口说明（支付宝）


### 版本控制信息

##### 版本 日期 修订人 说明

##### 1. 0 2018 - 03 - 06

##### 1.1 2018 - 03 - 21

```
1 、 增加商户经营类目（category_id）取值说明；
2 、 文件增加流传输方式。
```
##### 1.2 2018 - 06 - 21

```
1 、 增加4.1.4章节，对MCC和商户经营类目（category_id）取值范围进行说明；
2 、 “间联商户分级入驻”请求报文增加 mcc、org_pid 字段；“间联商户分级信息查询”应答报文增加mcc、org_pid字段；“商户分级与信息修改”请求报文增加mcc字段；
3 、 清算明细文件增加花呗分期手续费、花呗分期数两个字段。
```
##### 1. 3 2018 - 07 - 06

```
1 、 间连商户分级信息查询、商户分级与信息修改接口增加上送org_pid字段；
2 、 间连商 户 分 级 入 驻 接 口请求时删除sub_merchant_id字段。
```
##### 1.4 2018 - 09 - 10

```
1 、 针对存量交易，收单机构必须上送orgi_trans标志值ORGINAL，涉及统一收单线下交易查询、统一收单交易退款、统一收单交易退款查询交易。
2 、 所有支付类接口机构需上送org_pid，其值为该商户所属收单机构在支付宝的pid。
```
##### 1.5 2018 - 10 - 22

```
1 、 渠道资金类型 fund_type 在通知报文中调整为fundType；
2 、 撤销接 口 应 答 新 增 返 回撤销清 算 时 间gmt_refund_pay字段；
3 、 退款查 询 接 口 新 增 返 回 退 款 清 算 时 间gmt_refund_pay 、商户实 退 金 额send_back_fee、退款使用的资金渠道refund_detail_item_list，字段用法同退款交易同步应答。
```
##### 1.6 2019 - 01 - 10

```
1 、 联机交易增加费率活动标识 charge_flag 字段，涉及交易支付接口应答、线下交易查询应答、异步通请求，对于参与活动的交易，本字段非空；
2 、 报文的验签机制3.2章节异步通知部分增加备注，说明银联可能新增返回接口中未定义的参数，收单机构需要进行兼容处理；
3 、 公共请求参数增加可选上送证书序列号cert_id，机构存在多个证书时需要上送；
4 、 账单明细文件格式调整，增加应用ID、PID、活动标识、销售产品码、银联附加数据五个字段，取值描述如下：
（ 1 ） 应用ID对应联机交易app_id字段；
（ 2 ） PID为入网材料中填写的应用ID对
（ 3 ） 活动标识对应联机交易charge_flags字段，该交易参与活动时出现；
（ 4 ） 销 售 产 品 码对应联 机 交 易product_code字段，收单交易未上送情况下， 默 认 取 值FACE_TO_FACE_PAYM ENT；
（ 5 ） 银联附加数据为base 64 编码字符串，解码后内部为JSON格式，默认为空，与银联有特殊合作的机构需解析。
```
##### 1 .7 2019 - 04 - 10

```
1 、 增加支持线上支付功能，具体变化如下：
（ 1 ）service_codes、site_info字段，应答增 加 返 回 service_codes 、service_fail_reason字段；
（ 2 ） 间连商户分级与信息查询返回增加service_codes、site_info字段；
（ 3 ） 增加4.2.5 统一收单下单并支付页面接口、4.2. 6 手机网站支付接口2.0、4.2. 7 App支付接口2.0。
```
##### 1 .8 2019 - 08 - 27

```
1 、 签名验签及证书相关改造，包括支持收单、银联多证书、支持证书提前更新、支持国密算法，具体变化如下：
（ 1 ） 新增必送请求参数sign_type表示收
单 签 名 算 法 ，取 值 范 围 SM
（SM3withSM2）算法；
（ 2 ） 新增必送请求参数cert_id 表示收单
签名证书序列号；
（ 3 ） 公共应答新增必返sign_type表示银
联使用的签名算法，同收单请求上送
的签名算法；
（ 4 ） 公共应答新增必返cert_id 表示银联
签名使用的证书编号；
（ 5 ） 异步通知新增必返cert_id 表示银联
签名使用的证书编号，特别的，该字
段不参与签名，详见 3 .2报文的验签
机制第 2 点 异步通知报文验签机制。
收单机构可以上送不同的证书序列号cert_id
达到更新证书的目的，同时收单机构需要根据银
联返回的证书序列号 cert_id查找验证银联签名
的证书达到银联更新证书的目的。
```
##### 1 .9 2019 - 09 - 27

```
1 、 增加支持预授权支付功能，具体变化如下：
（ 1 ） 统一收单交 易 支 付 接 口 ：修改auth_code、buyer_id、seller_id描述信息；
（ 2 ） 增加资金授权阶段相关 6 个接口，包括资金授权冻结接口、资金授权发码接口、小程序资金授权冻结接口，资金授权撤销接口、资金授权解冻接口、资金授权操作查询接口。
（ 3 ） 商户报备类交易：间连商户分级入驻接口、间连商户分级信息查询、商户分级与信息修改中，service_codes字段增加线下预授权（PRE_F2F枚举值。
注：银联针对资金授权阶段交易仅进行交易的传
递和信息记录，不会进行控制和逻辑处理，特别
不会代替收单机构进行资金解冻操作，收单机构
需自行保证资金授权阶段处理的完整性控制。
2 、间连商户分级入驻接口升级，商户对应银行
所开立的结算卡信息（bankcard_info），银行卡
号由 20 位扩展到 48 位长度，同时增加支持上送
银行开户行名称。
```

### 目录

## 目录

   - 版本控制信息
   - 目录
   - 收单侧接口说明（支付宝）
- 1 范围
- 2 通信方式
- 3 安全要求
   - 3.1 报文的签名机制
   - 3.2 报文的验签机制
- 4 交易报文
   - 4.1 公共部分
      - 4.1.1 接口请求地址
      - 4.1.2 公共请求参数
      - 4.1.3 公共响应参数
      - 4.1.4 MCC和经营类目
   - 4.2 支付类交易
      - 4.2.1 统一收单交易支付接口
      - 4.2.2 统一收单线下交易查询
      - 4.2.3 统一收单线下交易预创建
      - 4.2.4 统一收单交易创建接口
      - 4.2.5 统一收单下单并支付页面接口
      - 4.2.6 手机网站支付接口 2.0
      - 4.2.7 App 支付接口 2.0
      - 4.2.8 统一收单交易撤销接口
      - 4.2.9 统一收单交易退款接口
      - 4.2.10 统一收单交易退款查询
      - 4.2.11 统一收单交易关闭接口
      - 4.2.12 资金授权冻结接口
      - 4.2.13 资金授权发码接口
      - 4.2.14 资金授权撤销接口
      - 4.2.15 资金授权解冻接口
      - 4.2.16 资金授权操作查询接口
      - 4.2.17 小程序资金授权冻结接口（未启用）
   - 4.3 商户报备类交易
      - 4.3.1 间连商户分级入驻接口
      - 4.3.2 间连商户分级信息查询
      - 4.3.3 商户分级与信息修改
- 5 清算文件
   - 5.1 文件格式
      - 5.1.1 明细文件
      - 5.1.2 汇总文件
   - 5.2 文件示例
      - 5.2.1 明细文件
      - 5.2.2 汇总文件
   - 5 .3 获取方式
      - 5.3.1 FTP 方式
      - 5.3.2 SFTP 方式
      - 5.3.3 流传输方式


### 收单侧接口说明（支付宝）

## 1 范围

本文档对入网收单机构与中国银联处理系统之间转接支付宝APP二维码交易的联机处理（包括交易报文结构、格式及报文域）和文件处理（文件下发、文件格式）进行说明。

本文档适用于开展支付宝扫码业务（包括支付宝APP的当面付产品，条码支付、扫码支付子产品）的收单机构。

本文档提供的接口基本参考支付宝目前向收单机构提供的接口规范，差异部分为：

1 ）收单机构上送的商户订单号（out_trade_no）、退款唯一标识（out_request_no）字段长度调整为String 32
（原为String 64），且在收单发起退款交易时必送退款唯一标识（out_reqeust_no）； 2 ）银联对收单侧只支持成
功 交 易 通 知 ， 即tradeStatus.TRADE_SUCCESS的情况； 3 ） 银 联不 支 持收 单 机 构 上 送应用授权概述
（app_auth_token）。

## 2 通信方式

收单机构与银联间的联机交易报文采用后台方式进行通信。

公网通信时，协议为标准HTTPS；专网通信时，协议为标准HTTP。

通信报文有同步和异步两种应答模式，同步应答报文采用JSON格式，异步应答报文采用Key-Value格式。

## 3 安全要求

### 3.1 报文的签名机制

对于报文的签名处理机制如下：

##### 1 、筛选并排序

获取所有请求参数，不包括字节类型参数，如文件、字节流，剔除sign字段，剔除值为空的参数，并按照
第一个字符的键值ASCII码递增排序（字母升序排序），如果遇到相同字符则按照第二个字符的键值ASCII码
递增排序，以此类推。

2 、拼接
将排序后的参数与其对应值，组合成“参数=参数值”的格式，并且把这些参数用&字符连接起来，此时生成
的字符串为待签名字符串。

3 、调用签名函数
使用各自语言对应的SHA256WithRSA\SM3withSM2(对应sign_type为RSA2\SM2)签名函数利用商户私钥
对待签名字符串进行签名，并进行Base64编码。

4 、把生成的签名赋值给sign参数，和其他请求参数一起上送给银联。

### 3.2 报文的验签机制

同步返回和异步通知报文格式及验签方法有所区别。

##### 1 、 同步返回报文验签机制

收单机构对银联返回的json中xxx_response的值做验签（xxx代表接口名）。xxx_response的json值内容
需要包含首尾的“{” 和 “}”两个尖括号，双引号也需要参与验签，如果字符串中包含“http://”的正斜杠，需要先
将正斜杠做转义。使用各自语言对应的SHA256WithRSA\SM3withSM2(对应sign_type为RSA2\SM2)签名验证
函数，传入待验签字段、银联公钥、签名内容(sign)，验签方法(signType)进行验签，根据返回结果判定是否验
签通过。

2 、 异步通知报文验签机制
1 ）在通知返回参数列表中，除去sign、sign_type、cert_id三个参数外，凡是通知返回回来的参数皆是待
验签的参数。
2 ）将剩下参数进行url_decode, 然后进行字典排序，组成字符串，得到待签名字符串。
3 ）将签名参数（sign）使用base64解码为字节码串。
4 ）使用RSA 2 \SM2的验签方法，通过签名字符串、签名参数（经过base64解码）及银联公钥验证签名，
根据返回结果判定是否验签通过。

```
注：因扩展需要，银联返回的报文参数（key）可能会超过接口中定义的范围，收单机构需要对增加的报
```
#### 文参数进行验签处理，在业务处理阶段进行忽略处理。

## 4 交易报文

### 4.1 公共部分

联机交易接口分为支付类交易接口以及商户入驻类接口两类。

支付类交易接口包括统一收单交易支付、统一收单线下交易查询、统一收单线下交易预创建、统一收单交易创建、统一收单交易撤销、统一收单交易退款、统一收单交易退款查询、统一收单交易关闭。

商户入驻类接口包括间联商户分级入驻、间联商户分级信息查询、商户分级与信息修改。

#### 4.1.1 接口请求地址

```
https://apay.95516.com/trade
```
#### 4.1.2 公共请求参数

![avatar](http://pic.iask.cn/fimg/708528774679.jpg)

#### 4.1.3 公共响应参数

参数 类型 (^) 是否
必须

##### 最大

##### 长度

##### 描述 示例值

code String (^) 是 网关返回码 40004
msg String (^) 是 网关返回码描述 Business Failed
sub_code String (^) 否 网关明细返回码 isv.invalid-signature


sub_msg String (^) 否 (^) 网关明细返回码描述 交易已被支付
sign String (^) 是 344 签名
sign_type String 是 10 本域不出现时，默认为RSA2算法。
银联生成签名字符串所使用的签名算
法类型，本域值同收单请求银联上送
的sign_type。

##### RSA

```
cert_id String 是 128 签名证书序列号
```
#### 4.1.4 MCC和经营类目

```
MCC码 类目Code
```
##### 经营类目

##### 一级

##### 经营类目二

##### 级

##### 经营类目三级 特殊资质

(^5411) C_C04_5411 生活百货 百货商城 超市（非平台类） (^)
5914
C_C04_

##### 生活百货 百货商城

##### 成人用品/避孕用品/情

趣内衣 (^)
(^5309) C_C04_5309 生活百货 百货商城 国外代购及免税店 (^)
(^5300) C_C04_5300 生活百货 百货商城 会员制批量零售店 (^)
(^5311) C_C04_5311 生活百货 百货商城 平台类综合商城 (^)
(^5999) C_C04_5999 生活百货 百货商城 其他专业零售店 (^)
(^5399) C_C04_5399 生活百货 百货商城 其他综合零售 (^)

##### 5984

##### C_C04_

##### 生活百货 百货商城 烟花爆竹

##### 如果签约当面付需要提供资质，

##### 提供《烟花爆竹经营（批发）许

##### 可证》或《烟花爆竹经营批发(含

##### 进出口）许可证》、《烟花爆竹

##### 经营（零售）许可证》、《烟花

##### 爆竹安全生产许可证》，其他产

##### 品不允许签约

(^5983) C_C04_5983 生活百货 百货商城 油品燃料经销 (^)
(^5331) C_C04_5331 生活百货 百货商城 杂货店 (^)
(^5998) C_C04_5998 生活百货 百货商城 帐篷和遮阳篷商店 (^)
5044
B_B01_

##### 专业销售 办公用品

##### 办公、影印及微缩摄影

器材（批发商） (^)
5021
B_B01_

##### 专业销售 办公用品

##### 办公及商务家具（批发

商） (^)
5978
B_B01_

##### 专业销售 办公用品 打字设备、打印复印

机、扫描仪 (^)
5046
B_B01_

##### 专业销售 办公用品 未列入其他代码的商

用器材 (^)
5111
B_B01_

##### 专业销售 办公用品

##### 文具、办公用品、复印

纸和书写纸（批发商） (^)
(^5943) B_B01_5943 专业销售 办公用品 文具及办公用品 (^)
7995
D_D03_

##### 网络虚拟 彩票 彩票

##### 营业执照经营范围包含彩票、彩

##### 票销售相关业务

##### 1731

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 电器承包商

##### 1771

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 混凝土承包商


##### 1740

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 建筑材料承包商

##### 1761

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 金属产品承包商

##### 0780

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 景观美化与园艺服务

##### 0763

##### S_S01_0 763

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 农业合作与农具

##### 0743

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 葡萄酒生产商 《酒类经营许可证》或《酒类销

##### 售许可证》

##### 1799

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 其他工程承包商

##### 0744

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 其他酒类生产商 《酒类经营许可证》或《酒类销

##### 售许可证》

##### 0742

##### S_S01_

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 兽医服务

##### 4814

##### D_D04_

##### 网络虚拟 电信通讯 电信运营商

##### 如非电信、联通、移动等运营商

##### 签约，则需要提供与运营商的合

##### 作协议

##### 4899

##### D_D04_

##### 网络虚拟 电信通讯 付费电视

##### 营业执照经营范围包含付费电

##### 视相关业务

##### 或《广播电视节目传送业务经营

##### 许可证》

##### 4815

##### D_D04_

##### 网络虚拟 电信通讯 话费充值与缴费

##### 如非电信、联通、移动等运营商

##### 签约，则需要提供与运营商的合

##### 作协议

(^4821) D_D04_4821 网络虚拟 电信通讯 网络电话、传真 (^)
7013
S_S02_

##### 商业及生

##### 活服务

##### 房地产

##### 不动产代理——房地

##### 产经纪

##### 6513

##### S_S02_

##### 商业及生

##### 活服务

##### 房地产 不动产管理－物业管

理 (^)
1520
S_S02_

##### 商业及生

##### 活服务 房地产^ 房地产开发商^

(^5697) C_C06_5697 生活百货 服饰鞋包 裁缝、修补、改衣制衣 (^)
(^5691) C_C06_5691 生活百货 服饰鞋包 高档时装及奢侈品 (^)
(^5699) C_C06_5699 生活百货 服饰鞋包 各类服装及饰物 (^)
(^5948) C_C06_5948 生活百货 服饰鞋包 行李箱包 (^)
(^5698) C_C06_5698 生活百货 服饰鞋包 假发等饰品 (^)
(^5611) C_C06_5611 生活百货 服饰鞋包 男性服饰 (^)
(^5651) C_C06_5651 生活百货 服饰鞋包 内衣/家居服 (^)
(^5621) C_C06_5621 生活百货 服饰鞋包 女性成衣 (^)


(^5631) C_C06_5631 生活百货 服饰鞋包 配饰商店 (^)
(^5681) C_C06_5681 生活百货 服饰鞋包 皮草皮具 (^)
(^5661) C_C06_5661 生活百货 服饰鞋包 鞋类 (^)
5139
C_C06_

##### 生活百货 服饰鞋包

##### 鞋类销售平台（批发

商） (^)
(^5137) C_C06_5137 生活百货 服饰鞋包 制服与商务正装定制 (^)
(^5065) B_B02_5065 专业销售 工业产品 电气产品和设备 (^)
(^5085) B_B02_5085 专业销售 工业产品 工业设备和制成品 (^)
(^5074) B_B02_5074 专业销售 工业产品 管道及供暖设备 (^)

##### 5169

##### B_B02_

##### 专业销售 工业产品 化工产品

##### 如出售的化工产品为危险化学

##### 品，需提供危险化学品经营备案

##### 证明

##### 5051

##### B_B02_

##### 专业销售 工业产品

##### 金属产品和服务（批发

##### 商）

(^5099) B_B02_5099 专业销售 工业产品 其他工业耐用品 (^)
5199
B_B02_

##### 专业销售 工业产品

##### 其他工业原料和消耗

品 (^)

##### 5172

##### B_B02_

##### 专业销售 工业产品 石油及石油产品（批发

##### 商）

##### 营业执照经营范围包含成品油

##### 批发、仓储、零售相关业务

##### 或《成品油批发经营批准证书》

##### 或《成品油仓储经营批准证书》

##### 或《成品油零售经营批准证书》

##### 5072

##### B_B02_

##### 专业销售 工业产品

##### 五金器材及用品（批发

##### 商）

(^4121) A_A01_4121 航旅交通 公共交通 出租车服务（TAXI） (^)
(^4457) A_A01_4457 航旅交通 公共交通 出租船只 (^)
(^4468) A_A01_4468 航旅交通 公共交通 船舶、海运服务提供商 (^)
(^4111) A_A01_4111 航旅交通 公共交通 公共交通 (^)
(^4119) A_A01_4119 航旅交通 公共交通 急救服务 (^)
(^4784) A_A04_4784 航旅交通 公共交通 路桥通行费 (^)

##### 4011

##### A_A01_

##### 航旅交通 公共交通 铁路货运

##### 营业执照经营范围包含铁路货

##### 运、铁路运输相关业务

##### 或《托运人资质证书》

(^4112) A_A01_4112 航旅交通 公共交通 铁路客运 (^)
(^4411) A_A01_4411 航旅交通 公共交通 游轮及巡游航线服务 (^)
(^4131) A_A01_4131 航旅交通 公共交通 长途公路客运 (^)
4906
S_S06_

##### 商业及生

##### 活服务

##### 公共事业 充电桩

##### 营业执照经营范围包含公共事

##### 业的充电桩相关业务

##### 4900

##### S_S06_

##### 商业及生

##### 活服务 公共事业^ 公共事业（电、气、水）^

##### 营业执照经营范围包含公共事

##### 业的水、电、煤（燃）气等经营

##### 和收费相关业务，如非实际水、

##### 电、煤等机构来签约，则需要提

##### 供水电煤服务提供商授权资质

##### 4901

##### S_S06_

##### 商业及生

##### 活服务 公共事业^ 公共事业-电力缴费^

##### 营业执照经营范围包含公共事

##### 业的水、电、煤（燃）气等经营

##### 和收费相关业务，如非实际电力

##### 机构来签约，则需要提供电力服

##### 务提供商授权资质


##### 4902

##### S_S06_

##### 商业及生

##### 活服务

##### 公共事业 公共事业-煤气缴费

##### 营业执照经营范围包含公共事

##### 业的水、电、煤（燃）气等经营

##### 和收费相关业务，如非实际煤气

##### 机构来签约，则需要提供煤气服

##### 务提供商授权资质

##### 4904

##### S_S06_

##### 商业及生

##### 活服务

##### 公共事业 公共事业-清洁服务缴

费 (^)

##### 4903

##### S_S06_

##### 商业及生

##### 活服务

##### 公共事业 公共事业-自来水缴费

##### 营业执照经营范围包含公共事

##### 业的水、电、煤（燃）气等经营

##### 和收费相关业务，如非实际自来

##### 水机构来签约，则需要提供自来

##### 水服务提供商授权资质

##### 4905

##### S_S06_

##### 商业及生

##### 活服务

##### 公共事业 图书馆

(^4511) A_A03_4511 航旅交通 航空票务 航空公司 (^)
(^4514) A_A03_4514 航旅交通 航空票务 航空系统商 (^)
(^4582) A_A03_4582 航旅交通 航空票务 机场服务 (^)

##### 4512

##### A_A03_

##### 航旅交通 航空票务 机票代理人

##### 《中国民用航空运输销售代理

##### 业务资格认可证书》，或经营范

##### 围包含“代售机票业务”

##### 4513

##### A_A03_

##### 航旅交通 航空票务 机票平台

##### 《中国民用航空运输销售代理

##### 业务资格认可证书》，或经营范

##### 围包含“代售机票业务”

(^7409) D_D05_7409 网络虚拟 互联网服务 SNS社交网站 (^)
(^4816) D_D05_4816 网络虚拟 互联网服务 互联网IDC服务 (^)

##### 5734

##### D_D05_

##### 网络虚拟 互联网服务 计算机软件

##### 如经营内容包含安全软件，则需

##### 要提供《计算机信息系统安全专

##### 用产品销售许可证》

##### 7379

##### D_D05_

##### 网络虚拟 互联网服务 计算机维护和修理服

务 (^)
(^7374) D_D05_7374 网络虚拟 互联网服务 门户网站 (^)
7413
D_D05_

##### 网络虚拟 互联网服务 其他在线应用或综合

类 (^)
(^7372) D_D05_7372 网络虚拟 互联网服务 软件系统商 (^)

##### 7414

##### D_D05_

##### 网络虚拟 互联网服务 视频点播

##### 《网络文化经营许可证》且营业

##### 执照经营范围明确包含相关内

##### 容

(^7412) D_D05_7412 网络虚拟 互联网服务 手机图铃 (^)
(^7373) D_D05_7373 网络虚拟 互联网服务 网络论坛 (^)
(^7408) D_D05_7408 网络虚拟 互联网服务 网站设计、推广 (^)
7375
D_D05_

##### 网络虚拟 互联网服务 信息检索服务（信息平

台） (^)

##### 7410

##### D_D05_

##### 网络虚拟 互联网服务 休闲游戏

##### 营业执照经营范围包含休闲游

##### 戏的相关业务

##### 或者《网络文化经营许可证》，

##### 如为棋牌、捕鱼类游戏，则需要

##### 提供提交《网络文化经营许可

##### 证》

(^7411) D_D05_7411 网络虚拟 互联网服务 在线文学类 (^)


##### 5718

##### C_C03_

##### 生活百货 家居家纺建

##### 材

##### 壁炉、屏风

##### 5231

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材 玻璃、油漆涂料、墙纸^

##### 5131

##### C_C03_

##### 生活百货 家居家纺建

##### 材

##### 布料、缝纫用品和其他

纺织品（批发商） (^)
5261
C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 草坪和花园用品

##### 5714

##### C_C03_

##### 生活百货 家居家纺建

##### 材

##### 窗帘、帷幕、室内装潢

##### 5200

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 大型仓储式家庭用品

##### 卖场

##### 5713

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 地板和地毯

##### 5719

##### C_C03_

##### 生活百货 家居家纺建

##### 材

##### 各种家庭装饰专营

##### 5193

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 花木栽种用品、苗木和

花卉（批发商） (^)
5712
C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 家具/家庭摆设

##### 5949

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 家用纺织品

##### 5251

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材 家用五金工具^

##### 5211

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 木材与建材商店

##### 5039

##### C_C03_

##### 生活百货

##### 家居家纺建

##### 材

##### 未列入其他代码的建

材（批发商） (^)
5198
C_C03_

##### 生活百货 家居家纺建

##### 材

##### 油漆、清漆用品（批发

商） (^)
5996
C_C03_

##### 生活百货

##### 家居家纺建

##### 材 游泳、SPA、洗浴设备^

##### 8220

##### P_P02_

##### 专业服务 教育服务 大学与学院

##### 公立学校上传《事业单位法人证

##### 书》

##### 私立学校上传《办学许可证》

##### 8351

##### P_P02_

##### 专业服务 教育服务

##### 儿童保育服务（学前教

##### 育）

##### 公立学校上传《事业单位法人证

##### 书》

##### 私立学校上传《办学许可证》

(^8241) P_P02_8241 专业服务 教育服务 函授学校（成人教育） (^)
(^8299) P_P02_8299 专业服务 教育服务 其他学校和教育服务 (^)
(^8244) P_P02_8244 专业服务 教育服务 商业和文秘学校 (^)
8298
P_P02_

##### 专业服务 教育服务

##### 少年宫及青少年发展

##### 中心

(^8249) P_P02_8249 专业服务 教育服务 职业技能培训 (^)

##### 8211

##### P_P02_

##### 专业服务 教育服务 中小学校

##### 公立学校上传《事业单位法人证

##### 书》

##### 私立学校上传《办学许可证》


##### 6301

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 保险代理

##### 保险许可证包括下列几种类型：

##### （一）保险公司法人许可证和经

##### 营 保 险 业 务 许 可 证 ；

##### （二）保险营销服务许可证；

##### （三）经营保险代理业务许可

##### 证；

##### （四）经营保险经纪业务许可

##### 证；

##### （五）经营保险公估业务许可

##### 证；

##### （六）保险兼业代理业务许可

##### 证；

##### （七）保险资产管理

##### 6300

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 保险公司

##### 保险许可证包括下列几种类型：

##### （一）保险公司法人许可证和经

##### 营 保 险 业 务 许 可 证 ；

##### （二）保险营销服务许可证；

##### （三）经营保险代理业务许可

##### 证；

##### （四）经营保险经纪业务许可

##### 证；

##### （五）经营保险公估业务许可

##### 证；

##### （六）保险兼业代理业务许可

##### 证；

##### （七）保险资产管理

##### 5933

##### S_S04_593 3

##### 商业及生

##### 活服务

##### 金融服务 典当行

##### 营业执照经营范围明确包含相

##### 关内容，或提供《典当经营许可

##### 证》

##### 4829

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 电汇和汇票服务

##### 6760

##### S_S04_

##### 商业及生

##### 活服务 金融服务^ 个人资金借贷^

##### 6050

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 贵金属投资

##### 6068

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 借贷消费平台

##### 芝麻

##### 6012

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 金融机构-其他服务

##### 6010

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 金融机构-商业银行服

务 (^)
6011
S_S04_

##### 商业及生

##### 活服务

##### 金融服务

##### 金融机构-自动现金服

##### 务

##### 6064

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 金融租赁公司

##### 6062

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 汽车金融公司

##### 芝麻

##### 6067

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 融资担保公司

##### 芝麻

##### 6063

##### S_S04_

##### 商业及生

##### 活服务 金融服务^ 融资租赁公司^ 芝麻


##### 6051

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 外币汇兑

##### 6061

##### S_S04_

##### 商业及生

##### 活服务 金融服务^ 消费金融公司^ 芝麻

##### 6060

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 小贷公司

##### 芝麻

##### 6065

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 信托公司

##### 芝麻

##### 6211

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 证券期货基金

##### 营业执照明确说明其可从事证

##### 券、股票、基金等金融行业。（服

##### 务窗不准入，银行除外）

##### 6066

##### S_S04_

##### 商业及生

##### 活服务

##### 金融服务 支付机构

##### 芝麻

##### 6069

##### #N/A

##### 商业及生

##### 活服务

##### 金融服务 P2P

##### 芝麻

##### 6070

##### #N/A

##### 商业及生

##### 活服务 金融服务^

##### 网络借贷信息撮合平

##### 台 芝麻

4733 A_A04_4733 航旅交通 旅行住宿 大型旅游景点 (^)
7012 A_A04_7012 航旅交通 旅行住宿 度假用别墅服务 (^)
4723 A_A04_4723 航旅交通 旅行住宿 国际货运代理和报关
行 (^)
7033 A_A04_7033 (^) 航旅交通 旅行住宿 活动房车场及野营场
所 (^)
4722 A_A04_4722 航旅交通 旅行住宿 旅行社和旅游服务 (^)
4789 A_A04_4789 (^) 航旅交通 旅行住宿 未列入其他代码的运
输服务 (^)
7032 A_A04_7032 航旅交通 旅行住宿 运动和娱乐露营 (^)
7011 A_A04_7011 航旅交通 旅行住宿

##### 住宿服务（旅馆、酒店、

汽车旅馆、度假村等） (^)
5977 C_C01_5977 生活百货

##### 美妆珠宝配

##### 饰

##### 化妆品

##### 5997 C_C01_5997 生活百货

##### 美妆珠宝配

##### 饰

##### 男士用品：剃须刀、烟

酒具、瑞士军刀 (^)
5944 C_C01_5944 生活百货

##### 美妆珠宝配

##### 饰

##### 钟表店

##### 5094 C_C01_5094 生活百货

##### 美妆珠宝配

##### 饰

##### 珠宝和金银饰品

5641 C_C02_5641 (^) 生活百货 母婴玩具 母婴用品 (^)
5945 C_C02_5945 生活百货 母婴玩具 玩具、游戏用品 (^)
9702 P_P06_9702 专业服务 其他 GCAS紧急服务（仅限
Visa使用） (^)
9701 P_P06_9701 (^) 专业服务 其他 Visa信任服务 (^)
9715 P_P06_9715 专业服务 其他 档案 (^)
9752 P_P06_9752 专业服务 其他 电子档案 (^)
9950 P_P06_9950 专业服务 其他 站内清算 (^)
5551 B_B03_5551 专业销售 汽车和运输
工具

##### 船舶及配件销售

5572 B_B03_5572 (^) 专业销售 汽车和运输
工具 电动车及配件^


##### 5521 B_B03_5521 专业销售 汽车和运输

##### 工具

##### 二手车销售

5565 B_B03_5565 (^) 专业销售 汽车和运输
工具 飞机及配件、航道设施^
5564 B_B03_5564 专业销售

##### 汽车和运输

##### 工具

##### 轨道交通设备器材

##### 5271 B_B03_5271 专业销售

##### 汽车和运输

##### 工具

##### 活动房车销售商

##### 5013 P_B03_5013 专业销售

##### 汽车和运输

##### 工具

##### 机动车供应及零配件

（批发商） (^)
5599 B_B03_5599 (^) 专业销售 汽车和运输
工具

##### 机动车综合经营

##### 5542 B_B03_5542 专业销售 汽车和运输

##### 工具

##### 加油卡、加油服务

##### 营业执照经营范围包含成品油

##### 批发、仓储、零售相关业务

##### 或《成品油批发经营批准证书》

##### 或《成品油仓储经营批准证书》

##### 或《成品油零售经营批准证书》

5541 B_B03_5541 (^) 专业销售 汽车和运输
工具 加油站、服务站^

##### 营业执照经营范围包含成品油

##### 批发、仓储、零售相关业务

##### 或《成品油批发经营批准证书》

##### 或《成品油仓储经营批准证书》

##### 或《成品油零售经营批准证书》

##### 5592 B_B03_5592 专业销售

##### 汽车和运输

##### 工具

##### 露营及旅行汽车

5571 B_B03_5571 (^) 专业销售 汽车和运输
工具 摩托车及配件^
5533 B_B03_5533 (^) 专业销售 汽车和运输
工具

##### 汽车零配件

##### 5532 B_B03_5532 专业销售

##### 汽车和运输

##### 工具

##### 汽车轮胎经销

##### 5511 B_B03_5511 专业销售

##### 汽车和运输

##### 工具

##### 汽车销售

##### 5561 B_B03_5561 专业销售 汽车和运输

##### 工具

##### 拖车、篷车及娱乐用车

5598 B_B03_5598 (^) 专业销售 汽车和运输
工具 雪车^
5566 B_B03_5566 (^) 专业销售 汽车和运输
工具

##### 运输搬运设备、起重装

卸设备 (^)
7519 S_S10_7519 商业及生
活服务

##### 汽车租赁和

##### 服务

##### 房车和娱乐车辆出租

##### 7513 S_S10_7513 商业及生

##### 活服务

##### 汽车租赁和

##### 服务 卡车及拖车出租^

##### 7534 S_S10_

##### 商业及生

##### 活服务

##### 汽车租赁和

##### 服务

##### 轮胎翻新、维修

##### 7512 S_S10_

##### 商业及生

##### 活服务

##### 汽车租赁和

##### 服务

##### 汽车出租

##### 7538 S_S10_

##### 商业及生

##### 活服务

##### 汽车租赁和

##### 服务

##### 汽车改造等服务（非经

销商） (^)
7535 S_S10_

##### 商业及生

##### 活服务

##### 汽车租赁和

##### 服务

##### 汽车喷漆店

##### 7531 S_S10_7531 商业及生 汽车租赁和 汽车维修、保养、美容


##### 活服务 服务 装饰

##### 7523 S_S10_

##### 商业及生

##### 活服务

##### 汽车租赁和

##### 服务

##### 停车服务

##### 7549 S_S10_7549 商业及生

##### 活服务

##### 汽车租赁和

##### 服务

##### 拖车服务

##### 7542 S_S10_7542 商业及生

##### 活服务

##### 汽车租赁和

##### 服务 洗车^

##### 7393 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 保安和监控服务

##### 2741 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 出版印刷服务

##### 7338 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 复印及绘图服务

##### 7392 S_S05_7392 商业及生

##### 活服务 商业服务^ 公关和企业管理服务^

##### 7311 S_S05_7311 商业及生

##### 活服务

##### 商业服务 广告服务

##### 5935 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 海上船只遇难救助

##### 2791 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 刻版排版服务

##### 7361 S_S05_7361 商业及生

##### 活服务

##### 商业服务 猎头、职业中介

##### 7342 S_S05_7342 商业及生

##### 活服务

##### 商业服务 灭虫及消毒服务

##### 7399 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 其他商业服务

##### 7349 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 清洁、保养及门卫服务

##### 2842 S_S05_2842 商业及生

##### 活服务

##### 商业服务 清洁抛光服务

##### 7340 S_S05_7340 商业及生

##### 活服务 商业服务^ 商户拓展^

##### 7333 S_S05_

##### 商业及生

##### 活服务

##### 商业服务

##### 商业摄影、设计、绘图

##### 服务

##### 7395 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 商业摄影摄像服务

##### 7394 S_S05_

##### 商业及生

##### 活服务

##### 商业服务

##### 设备、工具、家具和电

器出租 (^)
7339 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 文字处理/翻译速记

##### 7322 S_S05_

##### 商业及生

##### 活服务

##### 商业服务 债务催收机构

##### 7321 S_S05_7321 商业及生

##### 活服务

##### 商业服务 征信和信用报告咨询

服务 (^)
8398 P_P03_8398 专业服务 社会组织 慈善和社会公益服务 (^) 《社会团体法人证书》
8641 P_P03_8641 (^) 专业服务 社会组织 行业协会和专业社团 (^) 《社会团体法人证书》
8699 P_P03_8699 专业服务 社会组织 其他会员组织 (^)
8675 P_P03_8675 专业服务 社会组织 汽车协会 (^)
8651 P_P03_8651 专业服务 社会组织 政府机构 (^)


8661 P_P03_8661 (^) 专业服务 社会组织 宗教组织 (^) 《宗教活动场所登记证》
7297 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 按摩服务

##### 7276 S_S08_7276 商业及生

##### 活服务

##### 生活服务 财务债务咨询

##### 7278 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 导购、经纪和拍卖服务 《拍卖经营批准证书》^

##### 或《拍卖许可证》

##### 7296 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 服装出租

##### 7216 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 干洗店

##### 7273 S_S08_7273 商业及生

##### 活服务 生活服务^ 婚介服务^

##### 7277 S_S08_7277 商业及生

##### 活服务

##### 生活服务 婚庆服务

##### 7295 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 家政服务

##### 7231 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 美甲

##### 7230 S_S08_7230 商业及生

##### 活服务

##### 生活服务 美容/美发服务

##### 7298 S_S08_7298 商业及生

##### 活服务

##### 生活服务 美容SPA和美体保健

##### 7261 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 丧仪殡葬服务

##### 7221 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 摄影服务

##### 7217 S_S08_7217 商业及生

##### 活服务 生活服务^ 室内清洁服务^

##### 7210 S_S08_7210 商业及生

##### 活服务

##### 生活服务 洗衣服务

##### 7211 S_S08_

##### 商业及生

##### 活服务

##### 生活服务

##### 洗熨服务（自助洗衣服

##### 务）

##### 7251 S_S08_

##### 商业及生

##### 活服务

##### 生活服务 鞋帽清洗

5722 C_C07_5722 (^) 生活百货 数码家电 家用电器 (^)
5045 C_C07_5045 生活百货 数码家电 商用计算机及服务器 (^)
4812 C_C07_4812 生活百货 数码家电 手机、通讯设备销售 (^)
5732 C_C07_5732 生活百货 数码家电 数码产品及配件 (^)
5946 C_C07_5946 (^) 生活百货 数码家电 专业摄影器材 (^)
7954 D_D02_7954 (^) 网络虚拟 数娱网游 网络游戏点卡、渠道代
理

##### 营业执照经营范围包含网络游

##### 戏制作、经营、销售、系统服务

##### 相关业务，如为棋牌、捕鱼类游

##### 戏，则需要提供提交《网络文化

##### 经营许可证》

##### 7958 D_D02_7958 网络虚拟 数娱网游 网游运营商（含网页游

##### 戏） 《网络文化经营许可证》

7957 D_D02_7957 (^) 网络虚拟 数娱网游 网游周边服务、交易平
台 《网络文化经营许可证》


##### 7956 D_D02_7956 网络虚拟 数娱网游 游戏系统商

##### 营业执照经营范围包含网络游

##### 戏制作、经营、销售、系统服务

##### 相关业务

5994 C_C09_5994 生活百货 图书音像 报纸、杂志 (^)
5192 C_C09_5192 生活百货 图书音像

##### 书、期刊和报纸（批发

##### 商）

5942 C_C09_5942 生活百货 图书音像 书籍 (^)
5735 C_C09_5735 生活百货 图书音像 音像制品 (^)
5310 S_S07_5310 商业及生
活服务 团购^ 团购及折扣店^
7629 S_S09_

##### 商业及生

##### 活服务

##### 维修服务

##### 办公电器和小家电维

##### 修

##### 7622 S_S09_

##### 商业及生

##### 活服务

##### 维修服务 电器维修

##### 7699 S_S09_7699 商业及生

##### 活服务

##### 维修服务 各类维修相关服务

##### 7692 S_S09_7692 商业及生

##### 活服务 维修服务^ 焊接维修服务^

##### 7641 S_S09_

##### 商业及生

##### 活服务

##### 维修服务 家具维修、翻新

##### 7623 S_S09_

##### 商业及生

##### 活服务

##### 维修服务 空调、制冷设备维修

##### 7631 S_S09_7631 商业及生

##### 活服务

##### 维修服务 手表、钟表和首饰维修

店 (^)
5995 C_C10_5995 (^) 生活百货 文化玩乐宠
物 宠物及宠物用品^
5950 C_C10_5950 生活百货

##### 文化玩乐宠

##### 物

##### 瓷器、玻璃和水晶摆件

##### 5970 C_C10_5970 生活百货

##### 文化玩乐宠

##### 物

##### 工艺美术用品

##### 5937 C_C10_5937 生活百货 文化玩乐宠

##### 物

##### 古玩复制品（赝品）

5992 C_C10_ (^5992) 生活百货 文化玩乐宠
物 花店^
7993 C_C10_7993 生活百货

##### 文化玩乐宠

##### 物

##### 家用电子游戏

##### 5931 C_C10_5931 生活百货

##### 文化玩乐宠

##### 物

##### 旧商品店、二手商品店

##### 5733 C_C10_5733 生活百货

##### 文化玩乐宠

##### 物

##### 乐器

##### 5947 C_C10_5947 生活百货 文化玩乐宠

##### 物

##### 礼品、卡片、纪念品

##### 5932 C_C10_5932 生活百货 文化玩乐宠

##### 物

##### 文物古董

##### 《文物经营许可证》

##### 或者《文物复制许可证》

##### 或者《文物复制品销售许可证》，

##### 国家文物除外

##### 5971 C_C10_5971 生活百货

##### 文化玩乐宠

##### 物

##### 艺术品和画廊

##### 5972 C_C10_5972 生活百货 文化玩乐宠

##### 物

##### 邮票/纪念币


##### 5973 C_C10_5973 生活百货 文化玩乐宠

##### 物

##### 宗教物品

4225 A_A02_4225 (^) 航旅交通 物流仓储 公共仓储、集装整理 营业执照经营范围包含物流、货
运、仓储、集装箱等相关业务
4215 A_A02_4215 (^) 航旅交通 物流仓储 快递服务

##### 营业执照经营范围包含快递服

##### 务相关业务

##### 或者《快递业务经营许可证》

##### 4214 A_A02_421 4 航旅交通 物流仓储 物流货运服务

##### 营业执照经营范围包含物流、货

##### 运、仓储、集装箱等相关业务，

##### 陆运：《道路运输经营许可证》；

##### 空运：《IATA航空货代资质》；

##### 海运：《有船无船承运业务经营

##### 资格登记证》

5976 B_B04_5976 (^) 专业销售 药品医疗 康复和身体辅助用品 (^) 《医疗器械经营企业许可证》
5122 B_B04_5122 (^) 专业销售 药品医疗 药品、药品经营者（批
发商）

##### 《药品经营许可证》或《互联网

##### 药品交易服务证》

5912 B_B04_5912 (^) 专业销售 药品医疗 药物 《药品经营许可证》或《互联网
药品交易服务证》
5047 B_B04_5047 专业销售 药品医疗 医疗器械 (^) 《医疗器械经营企业许可证》
5975 B_B04_5975 (^) 专业销售 药品医疗 助听器 (^) 《医疗器械经营企业许可证》
8041 P_P01_8041 专业服务 医疗服务 按摩医生 (^)

##### 8062 P_P01_8062 专业服务 医疗服务 公立医院

##### 认证标签为“事业单位”+单位

##### 账户名称需要包含“医院”

##### 或者

##### 认证标签为“事业单位”+《医

##### 疗机构执业许可证》

8050 P_P01_8050 专业服务 医疗服务 护理和照料服务 (^)
8061 P_P01_8061 专业服务 医疗服务 民营医院 (^) 《医疗机构执业许可证》
8099 P_P01_8099 专业服务 医疗服务 其他医疗保健服务 (^) 《医疗机构执业许可证》
8011 P_P01_8011 (^) 专业服务 医疗服务 诊所 (^) 《医疗机构执业许可证》
8049 P_P01_8049 专业服务 医疗服务

##### 公立社区卫生服务中

##### 心、卫生院 《医疗机构执业许可证》

8021 P_P01_8021 专业服务 医疗服务 牙科医生 (^) 《牙科执业许可证》

##### 8043 P_P01_8043 专业服务 医疗服务 眼镜店

##### 如经营内容包含美瞳或者隐形

##### 眼镜，则需要提供《第三类医疗

##### 器械销售资质》

8042 P_P01_8042 专业服务 医疗服务 眼科医疗服务 (^) 《医疗机构执业许可证》
8071 P_P01_8071 专业服务 医疗服务 医学及牙科实验室 (^) 《医疗机构执业许可证》
8031 P_P01_8031 专业服务 医疗服务 正骨医生 (^) 《医疗机构执业许可证》
5467 C_C05_5467 (^) 生活百货 饮食保健 保健品 (^)
5812 C_C05_5812 (^) 生活百货 饮食保健 餐厅、订餐服务 (^)
5466 C_C05_5466 生活百货 饮食保健 茶叶 (^)
5813 C_C05_5813 生活百货 饮食保健 酒吧、舞厅、夜总会 (^)
5921 C_C05_5921 (^) 生活百货 饮食保健 酒类 《酒类经营许可证》或《酒类销
售许可证》
5815 C_C05_5815 生活百货 饮食保健 咖啡厅、茶馆 (^)


5814 C_C05_5814 (^) 生活百货 饮食保健 快餐店 (^)
5462 C_C05_5462 生活百货 饮食保健 面包糕点 (^)
5499 C_C05_5499 生活百货 饮食保健 其他食品零售 (^)
5422 C_C05_5422 生活百货 饮食保健 肉、禽、蛋及水产品 (^)
5451 C_C05_5451 (^) 生活百货 饮食保健 乳制品/冷饮 (^)
5423 C_C05_5423 生活百货 饮食保健 水果店 (^)
5441 C_C05_5441 生活百货 饮食保健 糖果及坚果商店 (^)

##### 5993 C_C05_5993 生活百货 饮食保健 烟草/雪茄

##### 如果签约当面付需要提供资质，

##### 提供《烟草专卖生产企业许可

##### 证》、《烟草专卖零售许可证》

##### 或《烟草专卖批发企业许可证》，

##### 其他产品不允许签约

5811 C_C05_5811 生活百货 饮食保健 宴会提供商 (^)
7933 D_D01_7933 (^) 网络虚拟 娱乐票务 保龄球 (^)
7994 D_D01_7994 网络虚拟 娱乐票务 电玩娱乐场所 (^)
7832 D_D01_7832 网络虚拟 娱乐票务 电影院及电影票 (^)
7998 D_D01_7998 网络虚拟 娱乐票务 动物园、水族馆 (^)
7992 D_D01_7992 (^) 网络虚拟 娱乐票务 高尔夫球场 (^)
7911 D_D01_7911 网络虚拟 娱乐票务 歌舞厅/夜店 (^)
7997 D_D01_7997 网络虚拟 娱乐票务 健身和运动俱乐部

##### 《健身器材销售许可证》、《健

##### 身器材生成许可证》

7929 D_D01_7929 网络虚拟 娱乐票务 乐队和文艺表演 (^)
7999 D_D01_7999 网络虚拟 娱乐票务 其他娱乐服务 (^)
7990 D_D01_7990 网络虚拟 娱乐票务 棋牌室 (^)
7941 D_D01_7941 (^) 网络虚拟 娱乐票务 体育场馆 (^)
7989 #N/A 网络虚拟 娱乐票务 网吧 (^)
7922 D_D01_7922 网络虚拟 娱乐票务 演出票务服务 (^)
7829 D_D01_ 7829 网络虚拟 娱乐票务 艺术创作服务 (^)
7841 D_D01_7841 (^) 网络虚拟 娱乐票务 音像制品出租 (^)
7996 D_D01_7996 网络虚拟 娱乐票务

##### 游乐园、马戏团、嘉年

##### 华

7991 D_D01_7991 (^) 网络虚拟 娱乐票务 展览和艺术场馆 (^)
7932 D_D01_7932 (^) 网络虚拟 娱乐票务 桌球/桌游 (^)
5941 C_C08_5941 生活百货 运动户外 体育用品/器材 (^)
5655 C_C08_5655 生活百货 运动户外 运动服饰 (^)
5940 C_C08_ (^5940) 生活百货 运动户外 自行车及配件 (^)
9223 P_P05_9223 专业服务 政府服务 保释金 (^)
9211 P_P05_9211 专业服务 政府服务 法庭费用 (^)
9402 P_P05_9402 专业服务 政府服务 国家邮政 (^)
9222 P_P05_9222 (^) 专业服务 政府服务 行政费用和罚款 (^)
9399 P_P05_9399 专业服务 政府服务 社会保障服务 (^)
9400 P_P05_9400 专业服务 政府服务 使领馆 (^)
9311 P_P05_9311 专业服务 政府服务 税务、海关 (^)
9405 P_P05_9405 (^) 专业服务 政府服务 政府采购 (^)


##### 5960 S_S03_5960

##### 商业及生

##### 活服务

##### 直销 保险直销（代扣）

##### 保险许可证包括下列几种类型：

##### （一）保险公司法人许可证和经

##### 营 保 险 业 务 许 可 证 ；

##### （二）保险营销服务许可证；

##### （三）经营保险代理业务许可

##### 证；

##### （四）经营保险经纪业务许可

##### 证；

##### （五）经营保险公估业务许可

##### 证；

##### （六）保险兼业代理业务许可

##### 证；

##### （七）保险资产管理

##### 直销商户授权书、直销员资质或

##### 业务代理资质

##### 5967 S_S03_5967 商业及生

##### 活服务 直销^ 电话接入直销^

##### 直销商户授权书、直销员资质或

##### 业务代理资质

##### 5966 S_S03_5966

##### 商业及生

##### 活服务

##### 直销 电话外呼直销

##### 直销商户授权书、直销员资质或

##### 业务代理资质

##### 5968 S_S03_5968

##### 商业及生

##### 活服务

##### 直销 订阅订购服务

##### 5962 S_S03_5962

##### 商业及生

##### 活服务

##### 直销 旅游相关服务直销

##### 直销商户授权书、直销员资质或

##### 业务代理资质

##### 5964 S_S03_5964 商业及生

##### 活服务 直销^ 目录直销平台^

##### 直销商户授权书、直销员资质或

##### 业务代理资质

##### 5963 S_S03_5963

##### 商业及生

##### 活服务

##### 直销 上门直销（直销员）

##### 直销商户授权书、直销员资质或

##### 业务代理资质

##### 5969 S_S03_5969

##### 商业及生

##### 活服务

##### 直销 直销

##### 直销商户授权书、直销员资质或

##### 业务代理资质

##### 5965 S_S03_5965

##### 商业及生

##### 活服务

##### 直销 直销代理

##### 直销商户授权书、直销员资质或

##### 业务代理资质

8734 P_P04_8734 (^) 专业服务 专业咨询 测试实验服务 (^)
8111 P_P04_8111 专业服务 专业咨询

##### 法律咨询和律师事务

##### 所 《律师事务所执业许可证》

8931 P_P04_8931 (^) 专业服务 专业咨询 会计、审计、财务服务 (^)
8911 P_P04_8911 (^) 专业服务 专业咨询 建筑、工程和测量服务 (^)
8999 P_P04_8999 专业服务 专业咨询 其他专业服务 (^)
8912 P_P04_8912 专业服务 专业咨询 装修、装潢、园艺 (^)
7299 S_S08_7299 商业及生
活服务 生活服务^ 其他生活服务^
0742 S_S01_0742 商业及生
活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 兽医服务

##### 0743 S_S01_0743 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 葡萄酒生产商

##### 0744 S_S01_0744 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 其他酒类生产商


##### 0763 S_S01_0763

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 农业合作与农具

##### 0780 S_S01_0780

##### 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 景观美化与园艺服务

##### 1711 S_S01_1711 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 空调类承包商

##### 1750 S_S01_17 50 商业及生

##### 活服务

##### 承包商（农

##### 业、建筑、出

##### 版）

##### 木工承包商

##### 4113 A_A01_4013 航旅交通 公共交通 ETC不停车自动缴费

4114 A_A01_4014 (^) 航旅交通 公共交通 MTC半自动车道收费
4115 A_A01_4015 (^) 航旅交通 公共交通 地铁
4908 S_S06_4908 商业及生
活服务 公共事业^ 其他缴费^
4909 S_S06_4909 商业及生
活服务

##### 公共事业 有线电视缴费

5531 P_P06_5531 (^) 专业销售 汽车和运输
工具

##### 汽车商店、家庭用品商

##### 店（国际专用）

##### 5715 C_C04_5715 生活百货 百货商城

##### 酒精饮料批发商（国际

##### 专用）

5816 D_D05_5816 (^) 网络虚拟 互联网服务 数字类产品游戏（国际
专用）
5817 D_D05_5817 (^) 网络虚拟 互联网服务 数字类产品软件提供
商
5818 D_D05_5818 网络虚拟 互联网服务 数字类产品其他（国际
专用）
7511 S_S08_7511

##### 商业及生

##### 活服务

##### 生活服务

##### 货品停放交易(国际专

##### 用)

##### 9411 P_P05_9411 专业服务 政府服务 政府贷款

##### 6071 S_S11_6071 商业及生

##### 活服务

##### 无人值守服

##### 务

##### 自助贩卖机

##### 6072 S_S11_6072

##### 商业及生

##### 活服务

##### 无人值守服

##### 务

##### 自助零售

##### 6073 S_S11_6073

##### 商业及生

##### 活服务

##### 无人值守服

##### 务

##### 自助借还

##### 6074 S_S11_6074 商业及生

##### 活服务

##### 无人值守服

##### 务

##### 自助娱乐服务

##### 6075 S_S11_6075 商业及生

##### 活服务

##### 无人值守服

##### 务 其他自助生活服务^

##### 5880 C_C05_5880 生活百货 饮食保健 校园团餐 合作协议和内景照

5881 C_C05_5881 (^) 生活百货 饮食保健 综合团餐 合作协议和内景照


### 4.2 支付类交易

#### 4.2.1 统一收单交易支付接口

##### 4.2.1.1 场景说明

##### 收银员使用扫码设备读取用户手机支付宝“付款码”后，将二维码或条码信息通过本接口上送至银联发起支

##### 付。

##### 4.2.1.2 接口说明

公共请求参数中的method填写alipay.trade.pay。

##### 4.2.1.2.1 请求参数

##### 参

##### 数

类型 (^) 是否 必
须

##### 最大 长

##### 度

##### 描述 示例值

out_trade_no String (^) 是 (^32) 商户订单号,32个字符以内、 可包含
字母、数字、下划线；需保证在商户
端不重复

##### 20150320010101001

scene String (^) 是 (^32) 支付场景。条码支付取值：bar_code bar_code
auth_code String (^) 是 (^32) 支付授权码，25~30 开头的长度为
16~24位的数字，实际字符串长度以开
发者获取的付款码长度为准
预授权场景下，本域不需要上送。

##### 28763443825664394

product_code String (^) 否 32 销售产品码，线下预授权场景下必送：
PRE_AUTH；线上预授权场景下必送：
PRE_AUTH_ONLINE

##### FACE_TO_FACE_P

##### AYM ENT

subject String (^) 是 256 订单标题 Iphone6 16G
buyer_id String (^) 否 (^28) 买家的支付宝用户id，如果为空，会从
传入了码值信息中获取买家ID
预授权场景下必送，填写预授权冻结阶
段支付宝返回的payer_logon_id

##### 2088202954065786

seller_id String (^) 否 (^28) 如果该值为空，则默认为商户签约账号
对应的支付宝用户ID
预授权场景下无需上送

##### 2088102146225135

total_amount Price (^) 否 (^11) 订单总金额，单位为元，精确到小数点
后两位，取值范围[0.01,100000000]。
如果同时传入【可打折金额】 和【不
可打折金额】，该参数可以不用传入；
如果同时传入了【可打折金额】，【不
可打折金额】，【订单总金额】三者，
则必须满足如下条件：【订单总金额】
=【可打折金额】+【不可打折金额】

##### 88.88

trans_currency String (^) 否 (^8) 标价币种, total_amount对应的币种单
位。目前仅支持人民币：CNY

##### CNY

settle_currency String (^) 否 8 商户指定的结算币种，
目前仅支持人民币：
CNY

##### CNY

```
discountable_amo
unt
```
Price (^) 否 (^11) 参与优惠计算的金额，单位为元，精确
到 小 数 点 后 两 位，取值范围

##### 8.88


##### [0.01,100000000]。 如果该值未传入，

##### 但传入了【订单总金额】和【不可打折

##### 金额】，则该值默认为【订单总金额】

##### - 【不可打折金额】

undiscountable_a
mount

Price (^) 否 (^11) 不参与优惠计算的金额，单位为元，精
确 到 小 数 点 后 两 位 ， 取 值 范 围
[0.01,100000000]。如果该值未传入，
但传入了【订单总金额】和【可打折金
额】，则该值默认为【订单总金额】-
【可打折金额】

##### 80.00

body String (^) 否 128 订单描述 Iphone6 16G
goods_detail GoodsDetail
[]
否 -^ 订单包含的商品列表信息，Json格式 -^
goods_id String (^) 是 32 商品的编号 apple- 01
alipay_goods_i
d
String (^) 否 32 支付宝定义的统一商品编号 20010001
goods_name String (^) 是 256 商品名称 ipad
quantity Number (^) 是 10 商品数量 1
price Price (^) 是 9 商品单价，单位为元 2000
goods_category String (^) 否 24 商品类目 34543238
categories_tree String (^) 否 128 商品类目树，从商品类目根节点到叶子
节点的类目id组成，类目id值使用|分
割

##### 124868003|126

##### 232002|126252

##### 004

body String (^) 否 1000 商品描述信息 特价手机
show_url String (^) 否 400 商品的展示地址 (^) [http://www.alipay.co](http://www.alipay.co)
m/xxx.jpg
operator_id String (^) 否 28 商户操作员编号 yx_001
store_id String (^) 否 32 商户门店编号 NJ_001
terminal_id String (^) 否 32 商户机具终端编号 NJ_T_001
alipay_store_id String (^) 否 32 支付宝的店铺编号 201604140007700000
0
003314986
extend_params ExtendPara
ms

##### 否 -^ 业务扩展参数 -^

```
sys_service_pr
ovider_id
```
String (^) 否 (^64) 系统商编号。该参数作为系统商返佣数
据提取的依据，请填写系统商签约协议
的PID

##### 2088511833207846

hb_fq_num String (^) 否 5 使用花呗分期要进行的分期数 3
hb_fq_seller_p
ercent
String (^) 否 (^3) 使用花呗分期需要卖家承担的 手续费
比例的百分值，传入 100 代表100%

##### 100

```
industry_reflux
_info
```
String (^) 否 (^512) 行业数据回流信息 {\"scene_code\":\"me
tro_tradeorder\",\"ch
annel\":\"xxxx\",\"sce
ne_data\":{\"asset_na
me\":\"ALIPAY\"}}
card_type String (^) 否 32 卡类型 S0JP0000
timeout_express String (^) 否 6 该笔订单允许的最晚付款时间，逾期将
关闭交易。取值范围：1m～15d。m-分
钟，h-小时，d-天，1c-当天（1c-当天
的情况下，无论交易何时创建，都在 0
点关闭）。该参数数值不接受小数点，
如1.5h，可转换为90m
90m


agreement_params (^) Agreement
Para ms

##### 否 -^ 代扣业务需要传入协议相关信息 -^

agreement_no String (^) 否 (^64) 支付宝系统中用以唯一标识用户签约
记录的编号（用户签约成功后的协议
号）

##### 201703224509837692

##### 2

##### 8

```
auth_confirm_n
o
```
String (^) 否 (^10) 鉴权确认码，在需要做支付鉴权校验
时，该参数不能为空

##### 423979

apply_token String (^) 否 (^64) 鉴权申请token，其格式和内容由支付
宝定义。在需要做支付鉴权校验时，该
参数不能为空。
MDEDUCT0068292c
a3
77d1d44b65fa24ec9cd
89132f
royalty_info RoyaltyInfo (^) 否 - (^) 描述分账信息，Json格式 -
royalty_type String (^) 否 (^150) 分账类型卖家的分账类型，目前只支持
传入ROYALTY（普通分账类型）。

##### ROYALTY

```
royalty_detail_i
nfos
```
```
RoyaltyDeta
ilInf os[]
```
是 (^2500) 分账明细的信息，可以描述多条分账指
令，json数组。

##### -

serial_no Number (^) 否 (^9) 分账序列号，表示分账执行的顺序，必
须为正整数

##### 1

```
trans_in_typ
e
```
String (^) 否 24 接受分账金额的账户类型：
userId：支付宝账号，对应的支付宝唯
一用户号。
bankIndex：分账到银行账户的银行编
号。目前暂时只支持分账到一个银行编
号。
storeId：分账到门店对应的银行卡编
号。默认值为userId。
userId
batch_no String (^) 是 (^32) 分账批次号，目前需要和转入账号类
型为 bankIndex配合使用。

##### 123

```
out_relation
_id
```
String (^) 否 (^64) 商户分账的外部关联号，用于关联到每
一笔分账信息，商户需保证其唯一性。
如果为空，该值则默认为“商户网站唯
一订单号+分账序列号”

##### 20131124001

```
trans_out_ty
pe
```
String (^) 是 (^24) 要 分 账 的 账 户 类 型 。 目 前 只 支 持
userId：支付宝账号对应的支付宝唯一
用户号。
userId
trans_out String (^) 是 (^16) 如果转出账号类型为 userId，本参数为
要分账的支付宝账号对应的支付宝唯
一用户号。以 2088 开头的纯 16 位数字。

##### 2088101126765726

trans_in String (^) 是 (^28) 如果转入账号类型为 userId，本参数为
接受分账金额的支付宝账号对应的支
付宝唯一用户号，以 2088 开头的纯 16
位 数 字 。 如 果 转 入 账 号 类 型 为
bankIndex，本参数为 28 位的银行编号
（商户和支付宝签约时确定）。如果转
入账号类型为storeId，本参数为商户的
门店ID。

##### 2088101126708402

amount Number (^) 是 9 分账的金额，单位为元 0.1
desc String (^) 否 1000 分账描述信息 分账测试 1
amount_perc
entage
String (^) 否 3 分账的比例，值为 20 代表按20%的比
例分账

##### 100


sub_merchant SubMerchan
t

##### 否 -^ 间连受理商户信息体，当前只对特殊银

##### 行机构特定场景下使用此字段

##### -

merchant_id String (^) 是 (^16) 间连受理商户的支付宝商户编号，通过
间连商户入驻后得到。间连业务下必
传，并且需要按规范传递受理商户编
号。

##### 19023454

merchant_type String (^) 否 32 商户id类型 (^) alipay: 支付宝分配
的间连商户编号
disable_pay_chan
nels
String (^) 否 (^64) 禁用支付渠道,多个渠道以逗号分割，如
同时禁用信用支付类型和积分，则
disable_pay_channels="cre
dit_group,point"
credit_group
merchant_order_n
o
String (^) 否 32 商户的原始订单号 201008123456789
auth_no String (^) 否 (^64) 预授权号，预授权转交易请求中传入，
适用于预授权转交易业务使用，目前只
支持 FUND_TRADE_FAST_PAY（ 资
金订单即时到帐交易）、境外预授权产
品（OVERSEAS_AUTH_PAY） 两个
产品。

##### 201611031000200176

##### 0

##### 201905725

ext_user_info ExtUserInfo (^) 否 - (^) 外部指定买家 -
name String (^) 否 16 姓名
注： need_check_info=T时，该参数
才有效

##### 李明

mobile String (^) 否 (^20) 手机号
注：该参数暂不校验

##### 16587658765

cert_type String (^) 否 (^32) 身份证：IDENTITY_CARD、 护照：
PASSPORT 、 军 官 证 ：
OFFICER_CARD 、 士 兵 证 ：
SOLDIER_CARD、户口本：HOKOU
等。
注： need_check_info=T时 该参数才有
效

##### IDENTITY_CARD

cert_no String (^) 否 64 证件号
注：need_check_info=T时该参数才有
效

##### 362334768769238881

min_age String (^) 否 (^3) 允许的最小买家年龄，买家年龄必须大
于等于所传数值
注：

1. need_check_info=T时该参数才有效
2. min_age为整数，必须大于等于 0

##### 18

fix_buyer String (^) 否 (^8) 是否强制校验付款人身份信息 T:强制
校验，F：不强制

##### F

```
need_check_inf
o
```
String (^) 否 (^1) 是否强制校验身份信息 T:强制
校验，F：不强制

##### F

auth_confirm_mo
de

String (^) 否 (^32) 预授权确认模式，授权转交易 请求中
传入，适用于预授权转 交易业务使用，
目前只支持 PRE_AUTH(预授权产品
码) COMPLETE：转交易支付完成 结
束 预 授 权 ， 解 冻 剩 余 金 额;

##### COMPLETE：转交易

##### 支 付完成结束预授

##### 权

##### ;NOT_COMPLETE：

##### 转 交易支付完成不


##### NOT_COMPLETE：转交易支付完成不

##### 结束预授权，不解冻剩余金额

##### 结束预 授权

promo_params PromoParam (^) 否 (^512) 优惠明细参数，通过此属性补充营销参
数

##### -

```
actual_order_ti
me
```
String (^) 否 (^32) 存在延迟扣款这一类的场景，用这个时
间表明用户发生交易的时间，比如说，
在公交地铁场景，用户刷码出站的时间
，和商户上送交易的时间是不一样的。

##### 2018 - 09 - 25 22:47:33

terminal_params String (^) 否 (^2048) json格式；商户传入终端设备。 {"credential":"287634
43825664394:201802
0
7192030954:abcdefG
H
IJKLMN","signature":
"
xxxxxxx","terminalTy
p
e":"IOT"
}
advance_payment
_type
String (^) 否 (^20) 支 付 模 式 类 型 , 若 值 为
ENJOY_PAY_V2表示当前交易允许走
先享后付2.0垫资

##### ENJOY_PAY_V2

business_params String (^) 否 (^512) 商户传入业务信息，应用于安全，营销
等参数直传场景，格式为json格式。
{"data":"123"}
org_pid String (^) 是 20 收单机构(例如银行）的标识，填写该
机构在支付宝的pid

##### 2088201916734621

##### 4.2.1.2.2 响应参数

##### 参

##### 数

##### 类

##### 型

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述 示例

##### 值

trade_no String (^) 是 64 银联交易号 201311201100100433
0
000121536
out_trade_no String (^) 是 32 商户订单号 6823789339978248
open_id String (^) 是 (^32) 买家支付宝用户号,该参数已废弃，请不
要使用

##### 2088102122524333

buyer_logon_id String (^) 是 100 买家支付宝账号 159****5620
total_amount Price (^) 是 11 交易金额 120.88
trans_currency String (^) 否 (^5) 标价币种, total_amount对应 的币种单
位。目前仅支持人民币CNY

##### CNY

settle_currency String (^) 否 (^8) 商户指定的结算币种，目前仅支持人民
币：CNY

##### CNY

settle_amount String (^) 否 11 结算币种订单金额 88.88
pay_currency String (^) 否 8 支付币种 CN
Y
pay_amount String (^) 否 11 支付币种订单金额 580.04
settle_trans_rate String (^) 否 32 结算币种兑换标价币种汇率 1
trans_pay_rate String (^) 否 32 标价币种兑换支付币种汇率 6.5261
receipt_amount String (^) 是 11 实收金额 88.88
buyer_pay_amoun
t
Price (^) 否 11 买家付款的金额 8.88
point_amount Price (^) 否 11 使用集分宝付款的金额 8.12


invoice_amount Price (^) 否 (^11) 交易中可给用户开具发票的金额 12.50
gmt_payment Date (^) 是 32 交易支付时间 2014 - 11 - 27 15:45:57
fund_bill_list TradeFundB
ill[]

##### 是 -^ 交易支付使用的资金渠道 -^

fund_channel String (^) 是 32 交易使用的资金渠道，交易使用的资金
渠道， 详见
<ahref="https://doc.open.alipay.com/doc
2/detail?treeId=26&articleId=103259&d
ocType=1">支付渠道列表</a>

##### ALIPAYACCOUN

##### T

bank_code String (^) 否 10 银行卡支付时的银行代码 CEB
amount Price (^) 是 32 该支付工具类型所使用的金额 10
real_amount Price (^) 否 11 渠道实际付款金额 11.21
fund_type String (^) 否 (^32) 渠道所使用的资金类型,目前只在资金
渠道(fund_channel)是 银 行 卡 渠 道
(BANKCARD)的情况下才返回该信息。
DEBIT_CARD:借记卡
CREDIT_CARD:信用卡
MIXED_CARD:借贷合一卡

##### DEBIT_CARD

card_balance Price (^) 否 11 支付宝卡余额 98.23
store_name String (^) 否 512 发生支付交易的商户门店名称 证大五道口店
buyer_user_id String (^) 是 28 买家在支付宝的用户id 2088101117955611
discount_goods_d
etail
String (^) 否 (^1024) 本次交易支付所使用的单品券优惠的
商品优惠信息
[{"goods_id":"STAND
A
RD1026181538","goo
d s_name":"雪碧
","discount_amount":
"100.00","voucher_id"
:"2015102600073002
039000002D5O"}]
async_payment_m
ode
String (^) 否 (^20) 异步支付模式，先享后付业务会返回该
参 数 ， 目 前 有 三 种 值 ：
ASYNC_DELAY_PAY(异 步 延 时 付
款); ASYNC_REALTIME_PAY(异步
准实时付款); SYNC_DIRECT_PAY(同
步直接扣款);

##### SYNC_DIRECT_PA

##### Y

voucher_detail_lis
t

```
VoucherDet
ail[]
```
##### 否 -^ 本交易支付时使用的所有优惠券信息 -^

id String (^) 是 32 券id 201510260007300203
9
000002D5O
name String (^) 是 64 券名称 XX超市 5 折优惠
type String (^) 是 (^32) 当 前 有 三 种 类 型 ：
ALIPAY_FIX_VOUCHER - 全场代金
券 ALIPAY_DISCOUNT_VOUCH ER

- 折扣券 ALIPAY_ITEM_VOUCHER
- 单品优惠 注：不排除将来新增其他
类型 的可能，商家接入时注意兼容性
避免硬编码

##### ALIPAY_FIX_VOUC

##### HER

amount Price (^) 是 (^8) 优惠券面额，它应该会等于商家出资加
上其他出资方出资

##### 10.00

```
merchant_contr
ibute
```
Price (^) 否 (^8) 商家出资（特指发起交易的商家出资金
额）

##### 9.00


```
other_contribut
e
```
Price (^) 否 (^8) 其他出资方出资金额，可能是支付宝，
可能是品牌商，或者其他方，也可能是
他们的一起出资

##### 1.00

memo String (^) 否 256 优惠券备注信息 学生专用优惠
template_id String (^) 否 64 券模板id 201710300007300153
5
9000EMZP
0
other_contribut
e_detail
ContributeD
etail[]

##### 否 512 优惠券的其他出资方明细 -^

```
contribute_t
ype
```
String (^) 是 (^32) 出资方类型，如品牌商出资、支付宝平
台出资等

##### BRAN

##### D

```
contribute_a
mount
```
Price (^) 是 8 出资方金额 8.00
purchase_buyer
_contribute
Price (^) 否 (^8) 如果使用的这张券是用户购买的，则该
字段代表用户在购买这张券时用户实
际付款的金额

##### 2.01

```
purchase_merchan
t_contribute
```
Price (^) 否 (^8) 如果使用的这张券是用户购买的，则该
字段代表用户在购买这张券时商户优
惠的金额

##### 1.03

```
purchase_ant_c
ontribute
```
Price (^) 否 (^8) 如果使用的这张券是用户购买的，则该
字段代表用户在购买这张券时平台优
惠的金额

##### 0.82

```
auth_trade_pay_m
ode
```
String (^) 否 (^64) 预授权支付模式，该参数仅在信用预授
权支付场景下返回。信用预授权支付
：CREDIT_PREAUTH_PAY

##### CREDIT_PREAUTH

##### _PA Y

advance_amount String (^) 否 (^11) 先享后付 2.0垫资金额,不返回表示没
有走垫资，非空表示垫资支付的金额

##### 88.8

business_params String (^) 否 (^512) 商户传入业务信息，具体值要和支付宝
约定将商户传入信息分发给相应系
统，应用于安全，营销等参数直传场景
格式为json格式
{"data":"123"}
buyer_user_type String (^) 否 (^18) 买家用户类型。 CORPORATE:
企业用户；PRIVATE:个人用户。

##### PRIVATE

buyer_user_name String (^) 否 (^128) 买家名称；买家为个人用户时为
买家姓名，买家为企业用户时为
企业名称；
buyer_user_na
me
mdiscount_amoun
t
String (^) 否 11 商家优惠金额 88.88
discount_amount String (^) 否 11 平台优惠金额 88.88
charge_flags String (^) 否 64 费率活动标识，当交易享受活动优惠费
率时，返回该活动的标识；
( 1 )蓝海活动优惠费率 0 ，值为bluesea_1
( 2 )特 殊 行 业 优 惠 费 率 0 ， 值 为
industry_special_00
( 3 )特殊行业优惠费率千一，值为
industry_special_01
bluesea_ 1

##### 4.2.1.3 业务错误码

##### 错误码 错误描述 解决方案


##### ACQ.SYSTEM_ERROR^ 接口返回错误 请立即调用查询订单API，查询当前订单的状

##### 态，并根据订单状态决定下一步的操作，如

##### 果多次调用依然报此错误码，请联系银联

##### ACQ.INVALID_PARAME TER 参数无效^ 检查请求参数，修改后重新发起请求^

##### ACQ.ACCESS_FORBID DEN 无权限使用接口^ 未签约条码支付或者合同已到期^

##### ACQ.EXIST_FORBIDDE

##### N_WORD

##### 订单信息中包含违禁词 修改订单信息后，重新发起请求

ACQ.PARTNER_ERROR^ 应用APP_ID填写错误 (^) 联系银联，确认APP_ID的状态
ACQ.TOTAL_FEE_EXC EED 订单总金额超过限额^ 修改订单金额再发起请求^
ACQ.PAYMENT_AUTH_
CODE_INVALID

##### 支付授权码无效^ 用户刷新条码后，重新扫码发起请求^

ACQ.CONTEXT_INCON
SISTENT

##### 交易信息被篡改 更换商家订单号后，重新发起请求

##### ACQ.TRADE_HAS_SUC CESS 交易已被支付^ 确认该笔交易信息是否为当前买家的，如果

##### 是则认为交易付款成功，如果不是则更换商

##### 家订单号 后，重新发起请求

##### ACQ.TRADE_HAS_CLO SE 交易已经关闭^ 更换商家订单号后，重新发起请求^

##### ACQ.BUYER_BALANCE^

##### _NOT_ENOUGH

买家余额不足 (^) 买家绑定新的银行卡或者支付宝余额有钱后
再发起支付
ACQ.BUYER_BANKCAR
D_BALANCE_NOT_EN OUGH

##### 用户银行卡余额不足^ 建议买家更换支付宝进行支付或者更换其它

##### 付款方式

##### ACQ.ERROR_BALANCE^

##### _PAYMENT_DISABLE

##### 余额支付功能关闭^ 用户打开余额支付开关后，再重新进行支付^

##### ACQ.BUYER_SELLER_

##### EQUAL

##### 买卖家不能相同 更换买家重新付款

##### ACQ.TRADE_BUYER_N

##### OT_MATCH

##### 交易买家不匹配 更换商家订单号后，重新发起请求

##### ACQ.BUYER_ENABLE_

##### STATUS_FORBID

##### 买家状态非法^ 用户联系银联，确认买家状态为什么非法

##### ACQ.PULL_MOBILE_C

##### ASHIER_FAIL

##### 唤起移动收银台失败 用户刷新条码后，重新扫码发起请求

ACQ.MOBILE_PAYMEN
T_SWITCH_OFF

用户的无线支付开关关闭 (^) 用户在PC上打开无线支付开关后，再重新发
起支付
ACQ.PAYMENT_FAIL^ 支付失败 (^) 用户刷新条码后，重新发起请求，如果重试
一次后仍未成功，更换其它方式付款
ACQ.BUYER_PAYMENT^
_AMOUNT_DAY_LIMIT
_ERROR

##### 买家付款日限额超限^ 更换买家进行支付^

##### ACQ.BEYOND_PAY_RE

##### STRICTION

##### 商户收款额度超限 联系银联提高限额

##### ACQ.BEYOND_PER_RE

##### CEIPT_RESTRICTION

##### 商户收款金额超过月限额 联系银联提高限额

##### ACQ.BUYER_PAYMENT^

##### _AMOUNT_MONTH_LI

##### MIT_ERROR

##### 买家付款月额度超限^ 让买家更换账号后，重新付款或者更换其它

##### 付款方式

ACQ.SELLER_BEEN_B
LOCKED

##### 商家账号被冻结^ 联系银联，解冻账号^

##### ACQ.ERROR_BUYER_C

##### ERTIFY_LEVEL_LIMIT

买家未通过人行认证 (^) 让用户联系银联并更换其它付款方式
ACQ.PAYMENT_REQU
EST_HAS_RISK

##### 支付有风险^ 更换其它付款方式^


ACQ.NO_PAYMENT_IN
STRUMENTS_AVAILAB LE

##### 没用可用的支付工具 更换其它付款方式

##### ACQ.USER_FACE_PAY

##### MENT_SWITCH_OFF

##### 用户当面付付款开关关闭^ 让用户在手机上打开当面付付款开关^

##### ACQ.INVALID_STORE_ ID 商户门店编号无效^ 检查传入的门店编号是否有效^

##### ACQ.SUB_MERCHANT

##### _CREATE_FAIL

##### 二级商户创建失败 检查上送的二级商户信息是否有效

##### ACQ.SUB_MERCHANT^

##### _TYPE_INVALID

##### 二级商户类型非法^ 检查上传的二级商户类型是否有效^

ACQ.AGREEMENT_NO
T_EXIST

用户协议不存在 (^) 确认代扣业务传入的协议号对应的协议是否
已解约
ACQ.AGREEMENT_INV ALID 用户协议失效^ 代扣业务传入的协议号对应的用户协议已经
失效，需要用户重新签约
ACQ.AGREEMENT_STA
TUS_NOT_NORMAL
用户协议状态非NORMAL (^) 代扣业务用户协议状态非正常状态，需要用
户解约后重新签约
ACQ.MERCHANT_AGR
EEMENT_NOT_EXIST

##### 商户协议不存在 确认商户与支付宝是否已签约

ACQ.MERCHANT_AGR
EEMENT_INVALID

##### 商户协议已失效^ 商户与支付宝合同已失效，需要重新签约^

ACQ.MERCHANT_STAT
US_NOT_NORMAL

##### 商户协议状态非正常状态^ 商户与支付宝的合同非正常状态，需要重新

##### 签商户合同

##### ACQ.CARD_USER_NOT^

##### _MATCH

##### 脱机记录用户信息不匹配^ 请检查传入的进展出站记录是否正确^

##### ACQ.CARD_TYPE_ERR OR 卡类型错误^ 检查传入的卡类型^

ACQ.CERT_EXPIRED^ 凭证过期 (^) 凭证已经过期
ACQ.AMOUNT_OR_CU
RRENCY_ERROR
订单金额或币种信息错误 (^) 检查订单传入的金额信息是否有误，或者是
不是 当前币种未签约
ACQ.CURRENCY_NOT_
SUPPORT

##### 订单币种不支持 请检查是否签约对应的币种

##### ACQ.MERCHANT_UNSUPPORT

##### _ADVANCE

##### 先享后付2.0准入失败,商户不支

##### 持垫资支付产品

##### 先享后付2.0准入失败,商户不支持垫资支付

##### 产品先享后付2.0准入失败,商户不支持垫资

##### 支付产品

##### ACQ.BUYER_UNSUPPORT_AD

##### VANCE

##### 先享后付2.0准入失败,买家不满

##### 足垫资条件

##### 先享后付2.0准入失败,买家不满足垫资条件

##### ACQ.ORDER_UNSUPPORT_AD

##### VANCE

##### 订单不支持先享后付垫资 订单不支持先享后付垫资

##### ACQ.CYCLE_PAY_DATE_NOT_

##### MATCH

##### 扣款日期不在签约时的允许范围

##### 之内

##### 对于周期扣款产品，签约时会约定扣款的周

##### 期。如果发起扣款的日期不符合约定的周期，

##### 则不允许扣款。请重新检查扣款日期，在符

##### 合约定的日期发起扣款。

##### ACQ.CYCLE_PAY_SINGLE_FEE

##### _EXCEED

##### 周期扣款的单笔金额超过签约时

##### 限制

##### 对于周期扣款产品，签约时会约定单笔扣款

##### 的最大金额。如果发起扣款的金额大于约定

##### 上限，则不允许扣款。请在允许的金额范围

##### 内扣款。

##### ACQ.CYCLE_PAY_TOTAL_FEE

##### _EXCEED

##### 周期扣款的累计金额超过签约时

##### 限制

##### 对于周期扣款产品，签约时可以约定多次扣

##### 款的累计金额限制。如果发起扣款的累计金

##### 额大于约定上限，则不允许扣款。请在允许

##### 的金额范围内扣款。

##### ACQ.CYCLE_PAY_TOTAL_TIM

##### ES_EXCEED

##### 周期扣款的总次数超过签约时限

##### 制

##### 对于周期扣款产品，签约时可以约定多次扣

##### 款的总次数限制。如果发起扣款的总次数大

##### 于约定上限，则不允许扣款。请在允许的次


##### 数范围内扣款

##### ACQ.SECONDARY_MERCHAN

##### T_STATUS_ERROR

##### 商户状态异常 请联系对应的服务商咨询

##### 4.2.1.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类

##### 型^

##### 描述^ 默认开启^

```
tradeStatus.TRADE_CLOSED^ 交易关闭^ 无^
tradeStatus.TRADE_FINISHED^ 交易完结^ 无^
tradeStatus.TRADE_SUCCESS^ 支付成功^ 是^
tradeStatus.WAIT_BUYER_PAY^ 交易创建^ 无^
```
```
触发通知字段
```
参数 类型 (^) 是否
必须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

sign String (^) 是 344 签名
sign_type String (^) 是 10 本域不出现时，默认为RSA2
算法。
银联生成签名字符串所使用
的签名算法类型，本域值同
收单请求银联上送的
sign_type。
RSA2
cert_id String (^) 是 128 签名证书序列号
app_id^ String^ 是 (^32) 支付宝分配给开发者的应用
Id^

##### 2088102146225135

trade_no^ String[]^ 是 (^64) 银联交易号 2013112011001004330
000121536
out_trade_no^ String[]^ 是 32 商户订单号 6823789339978248
out_biz_no^ String[]^ 是 (^64) 商户业务号 8547853682378933997
8248
buyer_logon_id^ String[]^ 是 (^100) 买家支付宝账号 159****5620^
seller_id^ String[]^ 是 (^28) 卖家支付宝用户号 2088102146225135
trans_currency^ String[]^ 否 (^8) 标价币种 CNY
seller_email^ String[]^ 是 (^100) 卖家支付宝账号 aa@mail.sa.com^
total_amount^ String[]^ 是 (^11) 订单金额 120.88^
buyer_id^ String[]^ 是 (^28) 买家的支付宝用户Uid 2088202954065786
settle_currency^ String[]^ 否 (^8) 商户指定的结算币种 CNY
settle_amount^ String[]^ 否 (^11) 结算币种订单金额 88.88^
pay_currency^ String[]^ 否 (^8) 支付币种 CNY^
pay_amount^ String[]^ 否 (^11) 支付币种订单金额 580.04^
settle_trans_rate^ String[]^ 否 32 结算标价汇率 1
trans_pay_rate^ String[]^ 否 (^32) 标价支付汇率 6.5261^
trade_status^ String[]^ 是 (^32) 交易成功
：TRADE_SUCCESS，交易完
结：TRADE_FINISHED，交
易创建
：WAIT_BUYER_PAY，交易
关闭：TRADE_CLOSED。

##### TRADE_SUCCESS^

invoice_amount^ String[]^ 是 (^11) 用户在交易中支付的可开具
发票的金额

##### 88.88^


receipt_amount^ String[]^ 是 11 商家在交易中实际收到的款
项，单位为元

##### 88.88^

point_amount^ String[]^ 是 (^11) 使用集分宝支付的金额 88.88^
refund_fee^ String[]^ 是 (^11) 退款金额 10.23^
buyer_pay_amount^ String[]^ 是 (^13) 用户在交易中支付的金额 88.88^
subject^ String[]^ 是 (^256) 订单标题 Iphone6 16 G^
body^ String[]^ 是 (^128) 商品描述 Iphone6 16G^
gmt_create^ String[]^ 是 (^64) 交易创建时间 2014 - 11 - 27 15:45:57^
gmt_payment^ String[]^ 是 (^64) 交易付款时间 2014 - 11 - 27 15:45:57^
gmt_refund^ String[]^ 是 (^64) 交易退款时间 2014 - 11 - 27 14:15:57^
gmt_close^ String[]^ 是 (^64) 交易结束时间 2014 - 11 - 27 17:45:57^
fund_bill_list String[] (^) 是 256 支付金额信息 "[{\"amount\":\"10000
.00\",\"fundChannel\"
:\"ALIPAYACCOUNT\
"}
]"
voucher_detail_list String[] (^) 是 (^256) 本交易支付时所使用的所有
优惠券信息
"[{\"id\":\"2017030700
0730026487005X1M6V
\",\"name\":\"全仓 5
折
优惠券
\"}]"
discount_goods_detail^ String[]^ 是 (^1024) 本次交易支付所使用的单品
券优惠的商品优惠信息
"[{\"goodsId\":\"STA
N
DARD1026181538\",\"
goodsName\":\"雪碧
\",\"discountAmount\
":\"10.00\"}]"
refund_preset_paytool_list String[] (^) 否 1024 退款时发生的前置资产退款
明细。assert_type_code：资产
编码，和交易创建传入的前置
资产编码保持一致。
[{"amount":"1.00","as
sert_type_code":"HE
MA"}]
advance_amount String (^) 是 (^11) 先享后付2.0垫资金额 11.11
notify_action_type^ String^ 否 (^50) 通知动作类型 (^) payByAccountAction/
closeTradeAction/reve
rseAction/finishFPActi
on
discount_amount^ String^ 否 11 平台优惠金额 88.88^
mdiscount_amount^ String^ 否 (^11) 商家优惠金额 88. 88
unfreeze_amount^ String^ 否 (^11) 该笔预授权完成后，剩余的
解冻还给买家的人民币金
额。

##### 18.18^

auth_trade_pay_mode String (^) 是 (^64) 预授权支付模式，该参数仅
在信用预授权支付场景下返
回 。 信 用 预 授 权 支 付 ：
CREDIT_PREAUTH_PAY

##### CREDIT_PREAUTH

##### _PA Y

charge_flags String (^) 否 64 费率活动标识，当交易享受活
动优惠费率时，返回该活动的
标识；
( 1 )蓝海活动优惠费率 0 ，值为
bluesea_1
( 2 )特殊行业优惠费率 0 ，值为
blues
ea_ 1


```
industry_special_00
( 3 )特殊行业优惠费率千一，值
为industry_special_01
```
#### 4.2.2 统一收单线下交易查询

##### 4.2.2.1 场景说明

##### 收单机构可以通过该接口主动查询订单状态，完成下一步的业务逻辑。需要调用查询接口的情况：

##### 当收单机构后台、网络、服务器等出现异常，收单机构系统最终未接收到支付通知；调用支付接口后，

```
返回系统错误或未知交易状态情况； 调用alipay.trade.pay，返回INPROCESS的状态； 调用alipay.trade.cancel
之前，需确认支付状态。
```
##### 4.2.2.2 接口说明

```
公共请求参数中的method填写alipay.trade.query。
```
##### 4.2.2.2.1 请求参数

参数 类型 (^) 是否
必须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

out_trade_no String (^) 否 (^32) 订单支付时传入的商户订单号,和银联
交易号不 能 同 时 为 空 。
trade_no,out_trade_no如果同时存在优
先取trade_no
注，线上支付查询必送

##### 20150320010101001

trade_no String (^) 否 (^64) 银联交易号，和商户订单号不能同时
为空

##### 2014112611001004680

##### 073956707

org_pid String (^) 是 20 收单机构(例如银行）的标识，填写该
机构在支付宝的pid

##### 2088201916734621

orgi_trans String (^) 否 (^10) 存量交易标志，默认非存量交易 ORGINAL – 表
示交易

##### 4.2.2.2.2 响应参数

##### 参数 类

##### 型^

##### 是否

##### 必须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

trade_no^ String^ 是 (^64) 银联交易号 2013112011001004330
000121536
out_trade_no^ String^ 是 (^32) 商家订单号 6823789339978248
open_id^ String^ 否 (^32) 买家支付宝用户号，该字段将废弃，不
要使用

##### 2088102122524333

buyer_logon_id^ String^ 是 (^100) 买家支付宝账号 159****5620^
trade_status String (^) 是 32 交易状态
：WAIT_BUYER_PAY（交易
创建，等待买家付款）、
TRADE_CLOSED（未付款交
易超时关闭，或支付完成后全
额退款）、
TRADE_SUCCESS（交易支付
成功）、
TRADE_FINISHED（交易结束
，不可退款）

##### TRADE_CLOSED


total_amount^ Price^ 是 (^11) 交易的订单金额，单位为元，两位小数。
该 参 数 的 值 为 支付 时 传 入 的
total_amount

##### 88.88^

trans_currency String (^) 否 8 标价币种，该参数的值为支付时传入的
trans_currency，目前仅支持人民币CNY

##### CNY

settle_currency String (^) 否 8 订单结算币种，对应支付接口 传入的
settle_currency，目前仅支持人民币
CNY

##### CNY

settle_amount Price (^) 否 11 结算币种订单金额 2.96
pay_currency Price (^) 否 8 订单支付币种 CNY
pay_amount String (^) 否 11 支付币种订单金额 8.88
settle_trans_rate String (^) 否 11 结算币种兑换标价币种汇率 30.02
5
trans_pay_rate String (^) 否 11 标价币种兑换支付币种汇率 0.264
buyer_pay_amount Price (^) 否 11 买家实付金额，单位为元，两位小数。
该金额代表该笔交易买家实际支付的
金额，不包含商户折扣等金额
8.88
point_amount Price (^) 否 11 积分支付的金额，单位为元，两位小数。
该金额代表该笔交易中用户使用积分
支付的金额，比如集分宝或者支付宝实
时优惠等
10
invoice_amount Price (^) 否 11 交易中用户支付的可开具发票的金额，
单位为元，两位小数。该金额代表该笔
交易中可以给用户开具发票的金额
12.11
send_pay_date Date (^) 否 32 本次交易打款给卖家的时间 2014 -
11 - 27
15:45:
57
alipay_store_id String (^) 否 64 支付宝店铺编号 20150
40900
07700
1000
10000
1232
receipt_amount String (^) 否 11 实收金额，单位为元，两位小数。该金
额为本笔交易，商户账户能够实际收到
的金额
15.25
store_id String (^) 否 32 商户门店编号 NJ_S
_001
terminal_id String (^) 否 32 商户机具终端编号 NJ_T
_001
fund_bill_list TradeFun
dBill[]

##### 是 -^ 交易支付使用的资金渠道 -^

fund_channel String (^) 是 32 交易使用的资金渠道，详见
<ahref="https://doc.open.alipay.com/doc
2/detail?treeId=26&articleId=103259&d
ocType=1">支付渠道列表</a>
ALIP
AYAC
COU
NT
bank_code String (^) 否 10 银行卡支付时的银行代码 CEB
amount Price (^) 是 32 该支付工具类型所使用的金额 10
real_amount Price (^) 否 11 渠道实际付款金额 11.21
fund_type String (^) 否 32 渠道所使用的资金类型,目前只 在资
金渠道(fund_channel)是 银行卡渠道
(BANKCARD)的情 况下才返回该信
息 (DEBIT_CARD: 借记
DEBI
T_CA
RD


##### 卡 ,CREDIT_CARD: 信用

##### 卡,MIXED_CARD:借贷合一卡)

store_name String (^) 否 512 请求交易支付中的商户店铺的名称 证大
五道
口店
buyer_user_id String (^) 是 16 买家在支付宝的用户id 20881
01117
95561
1
discount_goods_detail String (^) 是 - (^) 本次交易支付所使用的单品券优惠的
商品优惠信息
[{"goods_id":"
STANDA
RD102618153
8","good
s_name":"雪碧
","discount_am
ount":
"100.00","vouc
her_id":"20151
026000730020
39000002D5O
"}]
industry_sepc_detail String (^) 否 4096 行业特殊信息（例如在医保卡支付业务
中，向用户返回医疗信息）。
{"registration_
order_p
ay":{"brlx":"1"
,"cblx": "1"}}
voucher_detail_list VoucherD
etail[]

##### 否 -^ 本交易支付时使用的所有优惠券信息 -^

id String (^) 是 32 券id 201510260007
300203900000
2D5O
name String (^) 是 64 券名称 XX超市 5 折
优惠
type String (^) 是 32 当 前 有 三 种 类 型 ：
ALIPAY_FIX_VOUCHER - 全场 代金
券 ALIPAY_DISCOUNT_VOUCH ER -
折扣券 ALIPAY_ITEM_VOUCHER -
单品优惠 注：不排除将来新增其他类
型的可能，商家接入时注意兼容性避免
硬编码
ALIPAY_FIX_
VOUCHER
amount Price (^) 是 8 优惠券面额，它应该会等于商家出资加
上其他出资方出资
10.00
merchant_contribute Price (^) 否 8 商家出资（特指发起交易的商家出资金
额）
9.00
other_contribute Price (^) 否 8 其他出资方出资金额，可能是支付宝，
可能是品牌商，或者其他方，也可能是
他们的一起出资
1.00
memo String (^) 否 256 优惠券备注信息 学生专用优惠
template_id String (^) 否 64 券模板id 201710300007
30015359000E
MZP0
other_contribute_detail Contribut
eDetail
[]

##### 否 512 优惠券的其他出资方明细 -^

contribute_type String (^) 是 32 出资方类型，如品牌商出资、支付宝平
台出资等
BRA
ND


contribute_amount Price (^) 是 8 出资方金额 8.00
purchase_buyer_contrib
ute
Price (^) 否 8 如果使用的这张券是用户购买的，则该
字段代表用户在购买这张券时用户实
际付款的金额
2.01
purchase_merchant_contr
ibute
Price (^) 否 8 如果使用的这张券是用户购买的，则该
字段代表用户在购买这张券时商户优
惠的金额
1.03
purchase_ant_contribute Price (^) 否 8 如果使用的这张券是用户购买的，则该
字段代表用户在购买这张券时平台优
惠的金额
0.82
auth_trade_pay_mode String (^) 否 64 预授权支付模式，该参数仅在信用预授
权支付场景下返回。信用预授权支付
：CREDIT_PREAUTH_PAY
CRE
DIT_
PREA
UTH_
PA Y
buyer_user_type String (^) 否 18 买家用户类型。CORPORATE:企业用户
；PRIVATE:个人用户。
PRIV
ATE
mdiscount_amount String (^) 否 11 商家优惠金额 88.88^
discount_amount String (^) 否 11 平台优惠金额 88.88^
charge_flags String (^) 否 64 费率活动标识，当交易享受活动优惠费
率时，返回该活动的标识；
( 1 )蓝海活动优惠费率 0 ，值为bluesea_1
( 2 )特 殊 行 业 优 惠 费 率 0 ， 值 为
industry_special_00
( 3 )特 殊 行 业 优 惠 费 率 千 一 ， 值 为
industry_special_01
bluesea_ 1

##### 4.2.2.3 业务错误码

##### 错误码^ 错误描述^ 解决方案^

ACQ.SYSTEM_ERROR^ 系统错误 (^) 重新发起请求
ACQ.INVALID_PARAME TER 参数无效^ 检查请求参数，修改后重新发起请求^
ACQ.TRADE_NOT_EXI ST 查询的交易不存在^ 检查传入的交易号是否正确，修改后重新
发起请 求

##### 4.2.2.4 异步通知触发

```
无。
```
#### 4.2.3 统一收单线下交易预创建

##### 4.2.3.1 场景说明

##### 收银员通过收银台或商户后台调用银联接口，生成二维码后展示给用户，由用户扫描二维码完成订单支付。

##### 4.2.3.2 接口说明

```
公共请求参数中的method填写alipay.trade.precreate。
```
##### 4.2.3.2.1 请求参数

##### 参数^ 类型^ 是否 必

##### 须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值

out_trade_no String (^) 是 (^32) 商户订单号,32个字符以内、 只能
包含字母、数字、下划线；需保证

##### 20150320010101001


##### 在商户端不重复

seller_id String (^) 否 (^28) 卖家支付宝用户 ID。如果该值为
空，则默认为商户签约账号对应的
支付宝用户ID

##### 2088102146225135

total_amount Price (^) 是 (^11) 订单总金额，单位为元，精确到小
数 点 后 两 位 ， 取 值 范 围
[0.01,100000000] 如果同时传入了
【打折金额】，【不可打折金额】，
【订单总金额】三者，则必须满足
如下条件：【订单总金额】=【打折
金额】+【不可打折金额】

##### 88.88

discountable_amount Price (^) 否 (^11) 可打折金额. 参与优惠计算的金
额，单位为元，精确到小数点后两
位，取值范围 [0.01,100000000] 如
果该值未传入，但传入了【订单总
金额】，【不可打折金额】则该值默
认为【订单总金额】-【不可打折
金额】

##### 8.88

undiscountable_amount Price (^) 否 (^11) 不可打折金额. 不参与优惠计算
的金额，单位为元，精确到小数点
后 两 位 ， 取 值 范 围
[0.01,100000000] 如 果 该 值 未 传
入，但传入了【订单总金额】,【打
折金额】，则该值默认为【订单总
金额】-【打折金额】

##### 80

buyer_logon_id^ String^ 否 (^100) 买家支付宝账号 15901825620
subject^ String^ 是 (^256) 订单标题 Iphone6 16G^
goods_detail GoodsDetail[] (^) 否 - (^) 订单包含的商品列表信息，Json格
式。

##### -

goods_id^ String^ 是 (^32) 商品的编号 apple- 01
alipay_goods_id^ String^ 否 (^32) 支付宝定义的统一商品编号 20010001
goods_name^ String^ 是 (^256) 商品名称 ipad^
quantity Number (^) 是 (^10) 商品数量 1
price^ Price^ 是 (^9) 商品单价，单位为元 2000
goods_category^ String^ 否 (^24) 商品类目 34543238
categories_tree String (^) 否 128 商品类目树，从商品类目根节点到
叶子节点的类目id组成，类目id
值使用|分割

##### 124868003|126

##### 232002|126252

##### 004

body^ String^ 否 (^1000) 商品描述信息 (^) 特价手机
show_url String (^) 否 400 商品的展示地址 (^) [http://www.alipay.co](http://www.alipay.co)
m/xxx.jpg
body^ String^ 否 (^128) 对交易或商品的描述 Iphone6 16G^
operator_id^ String^ 否 (^28) 商户操作员编号 yx_001^
store_id^ String^ 否 (^32) 商户门店编号 NJ_001^
disable_pay_channels String (^) 否 (^128) 禁用渠道，用户不可用指定渠道支
付。当有多个渠道时用“,”分隔
注，与 enable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
enable_pay_channels^ String^ 否 (^128) 可用渠道，用户只能在指定渠道范
围内支付。当有多个渠道时用“,”
分隔，与 disable_pay_channels互
pcredit,moneyFund,d
ebitCardExpress


##### 斥。

terminal_id^ String^ 否 (^32) 商户机具终端编号 NJ_T_001^
extend_params^ ExtendParams^ 否 -^ 业务扩展参数 -^
sys_service_provider
_id
String (^) 否 (^64) 系统商编号 该参数作为系统商返
佣数据提取的依据，请填写系统商
签约协议的PID

##### 2088511833207846

hb_fq_num^ String^ 否 (^5) 使用花呗分期要进行的分期数 3
hb_fq_seller_percent^ String^ 否 (^3) 使用花呗分期需要卖家承担的 手
续费比例的百分值，传入 100 代表
100%

##### 100

industry_reflux_info^ String^ 否 (^512) 行业数据回流信息 {\"scene_code\":\"me
tro_tradeorder\",\"ch
annel\":\"xxxx\",\"sce
ne_data\":{\"asset_na
me\":\"ALIPAY\"}}
card_type^ String^ 否 (^32) 卡类型 S0JP0000^
timeout_express^ String^ 否 (^6) 该笔订单允许的最晚付款时间
，逾期将关闭交易。取值范围
：1m～15d。m-分钟，h-小时，d-
天，1c-当天（1c-当天的情况下，
无论交易何时创建，都在 0 点关
闭）。 该参数数值不接受小数点，
如1.5h，可转换为 90m。
90m^
royalty_info^ RoyaltyInfo^ 否 -^ 描述分账信息，json格式。 -^
royalty_type String (^) 否 (^150) 分账类型卖家的分账类型，目前只
支持传入ROYALTY（普通分账类
型）。

##### ROYALTY

```
royalty_detail_infos^ RoyaltyDetail
Infos[]
```
##### 是^2500 分账明细的信息，可以描述多条分

```
账指令，json数组。
```
##### -^

serial_no Number (^) 否 (^9) 分账序列号，表示分账执行的顺
序，必须为正整数

##### 1

trans_in_type String (^) 否 24 接受分账金额的账户类型：
userId：支付宝账号
对应的支付宝唯一用户号。
bankIndex：分账到银行账户的银行
编号。目前暂时只支持分账到一个
银行编号。
storeId：分账到门店对应的银行卡
编号。默认值为userId。
userId
batch_no^ String^ 是 (^32) 分账批次号，目前需要和转入账
号类型为 bankIndex配合使用。

##### 123

out_relation_id String (^) 否 (^64) 商户分账的外部关联号，用于 关
联到每一笔分账信息，商户 需保
证其唯一性。如果为空，该值则默
认为“商户网站唯一订单号+分账
序列号”

##### 20131124001

trans_out_type String (^) 是 (^24) 要分账的账户类型。目前只支持
userId：支付宝账号对应的支付宝
唯一用户号。
userId
trans_out^ String^ 是 (^16) 如果转出账号类型为 userId，本参 2088101126765726


##### 数为要分账的支付宝账号对应的

##### 支付宝唯一用户号。以 2088 开头

##### 的纯 16 位数字。

trans_in String (^) 是 (^28) 如果转入账号类型为 userId，本参
数为接受分账金额的支付宝账号
对应的支付宝唯一用户号。以 2088
开头的纯^16 位数字。
如果转入账号类型为bankIndex，本
参数为 28 位的银行编号（商户和
支付宝签约时确定）。
如果转入账号类型为storeId，本参
数为商户的门店ID。

##### 2088101126708402

amount Number (^) 是 (^9) 分账的金额，单位为元 0.1
desc^ String^ 否 (^1000) 分账描述信息 (^) 分账测试 1
amount_percentage^ String^ 否 (^3) 分账的比例，值为 20 代表按
20%的比例分账

##### 100

sub_merchant SubMerchant (^) 否 - (^) 二级商户信息,当前只对特殊银 行
机构特定场景下使用此字段

##### -

merchant_id String (^) 是 (^16) 间连受理商户的支付宝商户编
号，通过间连商户入驻后得到。间
连业务下必传，并且需要按规范传
递受理商户编号。

##### 19023454

merchant_type String (^) 否 32 商户id类型， (^) alipay: 支付宝分配
的间连商户编号
settle_info SettleInfo 否
描述结算信息，json格式，详见结
算参数说明
settle_detail_infos SettleDetailInfo[] 是 10 结算详细信息，json数组，目前只
支持一条。
trans_in_type String (^) 是 64

##### 结算收款方的账户类型。

```
cardSerialNo：结算收款方的银行
卡编号;
```
```
userId：表示是支付宝账号对应的
支付宝唯一用户号;
loginName：表示是支付宝登录号；
```
```
cardSerialNo
```
```
trans_in String 是 64
```
##### 结算收款方。当结算收款方类型是

```
cardSerialNo时，本参数为用户在
支付宝绑定的卡编号；结算收款方
类型是 userId时，本参数为用户
的支付宝账号对应的支付宝唯一
用户号，以 2088 开头的纯 16 位
数字；当结算收款方类型是
loginName时，本参数为用户的支
付宝登录号
```
##### A0001

```
summary_dimensi
on String^ 否^64
```
##### 结算汇总维度，按照这个维度汇总

##### 成批次结算，由商户指定。

##### 目前需要和结算收款方账户类型

```
为cardSerialNo配合使用
```
##### A0001

```
settle_entity_id String 否 64
```
##### 结算主体标识。当结算主体类型为

```
SecondMerchant 时，为二级商户
2088xxxxx;ST_0001
```

```
的 SecondMerchantID；当结算主
体类型为Store时，为门店的外标。
```
```
settle_entity_type String 否 32
```
##### 结算主体类型。

```
二级商户:SecondMerchant;商户或
者直连商户门店:Store
```
```
SecondMerchant 、
Store
```
```
amount Number 是 9
```
##### 结算的金额，单位为元。目前必须

##### 和交易金额相同

##### 0.1

```
merchant_type
```
String (^) 可选 32 商户id类型 (^) alipay: 支付宝分配
的间连商户编号,
merchant: 商户端的
间连商户编号
alipay_store_id^ String^ 否 (^32) 支付宝店铺的门店ID 2016052600077000000
015640104
ext_user_info^ ExtUserInfo^ 否 -^ 外部指定买家 -^
name^ String^ 否 (^16) 姓名
注： need_check_info=T时 该参
数才有效

##### 李明^

mobile^ String^ 否 (^20) 手机号 注：该参数暂不校
验

##### 16587658765

cert_type^ String^ 否 (^32) 身份证：IDENTITY_CARD、 护
照：PASSPORT、军官证
：OFFICER_CARD、士兵证
：SOLDIER_CARD、户口本
：HOKOU等。
注： need_check_info=T时 该参
数才有效

##### IDENTITY_CARD^

cert_no^ String^ 否 (^64) 证件号
注：need_check_info=T时该 参数
才有效

##### 362334768769238881

min_age String (^) 否 (^3) 允许的最小买家年龄，买家年 龄
必须大于等于所传数值
注：

1. need_check_info=T时该参
数才有效
2. min_age为整数，必须大于
等于 0

##### 18

fix_buyer^ String^ 否 (^8) 是否强制校验付款人身份信息 T:
强制校验，F：不强制

##### F^

need_check_info^ String^ 否 (^1) 是否强制校验身份信息 T:
强制校验，F：不强制

##### F^

business_params String (^) 否 (^512) 商户传入业务信息，应用于安全
，营销等参数直传场景，格式为
json格式
{"data":"123"}
qr_code_timeout_expres
s^
String^ 否 (^6) 该笔订单允许的最晚付款时间
，逾期将关闭交易，从生成二维码
开始计时。取值范围：1m～15d。
m-分钟，h-小时，d-天，1c-当天（1c-
当天的情况下，无论交易何时创建
，都在 0 点关闭）。 该参数数值不
接受小数点，如 1.5h，可转换为
90m。
90m^


org_pid String (^) 是 20 收单机构(例如银行）的标识，填
写该机构在支付宝的pid

##### 2088201916734621

##### 4.2.3.2.2 响应参数

参数 类型 (^) 是否 必
须

##### 最大 长

##### 度

##### 描述 示例值

out_trade_no^ String^ 是 (^32) 商户的订单号 6823789339978248
qr_code^ String^ 是 (^1024) 当前预下单请求生成的二维码码
串，可以用二维码生成工具根据该
码串值生成对应的二维码
https://qr.alipay.com/^
bavh4wjlxf12tper3a

##### 4.2.3.3 业务错误码

##### 错误码 错误描述 解决方案

ACQ.SYSTEM_ERROR^ 接口返回错误 (^) 请立即调用查询订单API，查询当前订单的
状态，并根据订单状态决定下一步的操作^
ACQ.INVALID_PARAME TER 参数无效^ 检查请求参数，修改后重新发起请求^
ACQ.ACCESS_FORBID DEN 无权限使用接口^ 联系银联签约^
ACQ.EXIST_FORBIDDE
N_WORD

##### 订单信息中包含违禁词 修改订单信息后，重新发起请求

ACQ.PARTNER_ERROR^ 应用APP_ID填写错误 (^) 联系银联，确认APP_ID的状态
ACQ.TOTAL_FEE_EXC EED 订单总金额超过限额^ 修改订单金额再发起请求^
ACQ.CONTEXT_INCON
SISTENT

##### 交易信息被篡改^ 更换商家订单号后，重新发起请求^

##### ACQ.TRADE_HAS_SUC CESS 交易已被支付^ 确认该笔交易信息是否为当前买家的，如

##### 果是则认为交易付款成功，如果不是则更

##### 换商家订单号后，重新发起请求

##### ACQ.TRADE_HAS_CLO SE 交易已经关闭^ 更换商家订单号后，重新发起请求^

##### ACQ.BUYER_SELLER_

##### EQUAL

##### 买卖家不能相同 更换买家重新付款

##### ACQ.TRADE_BUYER_N

##### OT_MATCH

##### 交易买家不匹配 更换商家订单号后，重新发起请求

##### ACQ.BUYER_ENABLE_

##### STATUS_FORBID

##### 买家状态非法^ 用户联系银联，确认买家状态为什么非法^

##### ACQ.BUYER_PAYMENT

##### _AMOUNT_DAY_LIMIT

##### _ERROR

##### 买家付款日限额超限 更换买家进行支付

##### ACQ.BEYOND_PAY_RE

##### STRICTION

##### 商户收款额度超限 联系银联提高限额

##### ACQ.BEYOND_PER_RE

##### CEIPT_RESTRICTION

##### 商户收款金额超过月限额^ 联系银联提高限额^

##### ACQ.BUYER_PAYMENT^

##### _AMOUNT_MONTH_LI

##### MIT_ERROR

##### 买家付款月额度超限^ 让买家更换账号后，重新付款或者更换其

##### 它付款方式

```
ACQ.SELLER_BEEN_B
LOCKED
```
##### 商家账号被冻结 联系银联，解冻账号

##### ACQ.ERROR_BUYER_C

##### ERTIFY_LEVEL_LIMIT

##### 买家未通过人行认证 让用户联系银联并更换其它付款方式

##### ACQ.INVALID_STORE_ ID 商户门店编号无效^ 检查传入的门店编号是否符合规则^


##### 4.2.3.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类型^ 描述^ 默认开启^

tradeStatus.TRADE_CLOSED^ 交易关闭 (^) 无
tradeStatus.TRADE_FINISHED^ 交易完结 (^) 无
tradeStatus.TRADE_SUCCESS^ 支付成功 (^) 是
tradeStatus.WAIT_BUYER_PAY^ 交易创建 (^) 无
触发通知字段
参数^ 类型^ 是否 必
须

##### 最大 长度 描述^ 示例值^

sign String (^) 是 - 签名
sign_type String (^) 是 - (^) 本域不出现时，默认为
RSA2算法。
银联生成签名字符串所
使用的签名算法类型，
本域值同收单请求银联
上送的sign_type。

##### RSA2

cert_id String (^) 是 - 签名证书序列号
trade_no^ String^ 是 -^ 银联交易号 -^
app_id^ String^ 是 -^ 支付宝分配给开发者的
应用Id^

##### -^

```
out_trade_no^ String^ 是 -^ 商户订单号 -^
out_biz_no^ String^ 是 -^ 商户业务号 -^
open_id^ String^ 是 -^ 买家支付宝用户号 -^
buyer_logon_id^ String^ 是 -^ 买家支付宝账号 -^
seller_id^ String^ 是 -^ 卖家支付宝用户号 -^
```
seller_email String (^) 是 - (^) 卖家支付宝账号 -
trade_status^ String^ 是 -^ 交易状态 -^
total_amount^ String^ 是 -^ 订单金额 -^
refund_fee^ String^ 是 -^ 退款金额 -^
subject^ String^ 是 -^ 订单标题 -^
body^ String^ 是 -^ 商品描述 -^
gmt_create^ String^ 是 -^ 交易创建时间 -^
gmt_payment^ String^ 是 -^ 交易付款时间 -^
gmt_refund^ String^ 是 -^ 交易退款时间 -^
gmt_close^ String^ 是 -^ 交易结束时间 -^
fund_bill_list^ String^ 是 -^ 支付金额信息 -^
receipt_amount^ String^ 是 -^ 商家在交易中实际收到
的款项，单位为元，

##### -^

```
invoice_amount^ String^ 是 -^ 用户在交易中支付的可
开具发票的金额
```
##### -^

```
buyer_pay_amount^ String^ 是 -^ 用户在交易中支付的金
额^
```
##### -^

```
point_amount^ String^ 是 -^ 使用积分宝支付的金额 -^
buyer_id^ String^ 是 -^ 买家的支付宝用户Uid -^
voucher_detail_list^ String^ 否 -^ 本交易支付时所使用的
所有优惠券信息
```
##### -^


charge_flags String (^) 否 64 费率活动标识，当交易
享受活动优惠费率时，
返回该活动的标识；
( 1 )蓝海活动优惠费率 0 ，
值为bluesea_1
( 2 )特殊行业优惠费率 0 ，
值为industry_special_00
( 3 )特殊行业优惠费率千
一，值为
industry_special_01
bluesea_ 1

#### 4.2.4 统一收单交易创建接口

##### 4.2.4.1 场景说明

##### 收单机构通过该接口进行交易的创建下单。

##### 4.2.4.2 接口说明

```
公共请求参数中的method填写alipay.trade.create。
```
##### 4.2.4.2.1 请求参数

##### 参数^ 类

##### 型^

##### 是否

##### 必须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值^

out_trade_no^ String^ 是 (^32) 商户订单号,32个字符以内、 只能包含字
母、数字、下划线；需保证在商户端不重
复

##### 20150320010101001

seller_id String (^) 否 (^28) 卖家支付宝用户ID。 如果该值为空，则
默认为商户签约账号对应的支付宝用户
ID

##### 2088102146225135

total_amount Price (^) 是 (^9) 订单总金额，单位为元，精确 到小数点
后两位，取值范围 [0.01,100000000] 如果
同时传入了【打折金额】，【不可打折金
额】，【订单总金额】三者，则必须满足如
下条件：【订单总金额】=【打折金额】+
【不可打折金额】

##### 88.88

discountable_amount Price (^) 否 (^9) 可打折金额. 参与优惠计算的金额，单位
为 元，精确到小数点后两位，取 值范围
[0.01,100000000] 如果该值未传入，但传
入了【订单总金额】，【不可打折金额】则
该值默认为【订单总金额】-【不可打折金
额】

##### 8.88

```
undiscountable_amou
nt^
```
Price^ 否 (^9) 不可打折金额. 不参与优惠计算的金额，
单位 为元，精确到小数点后两位
，取值范围[0.01,100000000] 如果该值未
传入，但传入了【订单总金额】,【打折金
额】，则该值默认为【订单总金额】-【打
折金额】

##### 80.00^

buyer_logon_id String (^) 否 (^100) 买家支付宝账号，和buyer_id不能同时为
空

##### 15901825620

subject^ String^ 是 (^256) 订单标题 Iphone6 16G^
body^ String^ 否 (^128) 对交易或商品的描述 Iphone6 16G^


buyer_id^ String^ 否 (^28) 买家的支付宝唯一用户号（ 2088 开头的 16
位纯数字）,和buyer_logon_id不能同时为
空

##### 2088102146225135

goods_detail^ GoodsDe
tail[]^

```
否^ -^ 订单包含的商品列表信息，Json格式。 [{"goods_id":"apple-^
01","goods_name":"ip
ad","goods_category"
:"7788230","price":"2
0 00.00","quantity":"1"
}]
```
goods_id^ String^ 是 (^32) 商品的编号 apple- 01
alipay_goods_id^ String^ 否 32 支付宝定义的统一商品编号 20010001
goods_name^ String^ 是 (^256) 商品名称 ipad^
quantity^ Number^ 是 (^10) 商品数量 1
price^ Price^ 是 (^9) 商品单价，单位为元 2000
goods_category^ String^ 否 (^24) 商品类目 34543238
categories_tree String (^) 否 128 商品类目树，从商品类目根节点到叶子节
点的类目id组成，类目id值使用|分割

##### 124868003|126

##### 232002|126252

##### 004

body^ String^ 否 (^1000) 商品描述信息 (^) 特价手机
show_url^ String^ 否 (^400) 商品的展示地址 (^) [http://www.alipay.co](http://www.alipay.co)
m/xxx.jpg
operator_id String (^) 否 (^28) 商户操作员编号 Yx_001
enable_pay_channels^ String^ 否 (^128) 可用渠道,用户只能在指定渠道范围内支
付，多个渠道以逗号分割
注，与 disable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
store_id^ String^ 否 (^32) 商户门店编号 NJ_001^
disable_pay_channels String (^) 否 (^128) 禁用渠道,用户不可用指定渠道 支付，多
个 渠 道 以 逗 号 分 割 ， 与
enable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
terminal_id^ String^ 否 (^32) 商户机具终端编号 NJ_T_001^
extend_params^ ExtendPa
rams^
否^ -^ 业务扩展参数^ {“sys_service_provid
er_id”:”
2088511833207846”}
sys_service_provid
er_id^
String^ 否 (^64) 系统商编号 该参数作为系统商返佣数据
提取的依据，请填写系统商签约协议的
PID

##### 2088511833207846

hb_fq_num^ String^ 否 (^5) 使用花呗分期要进行的分期数 3
hb_fq_seller_perce
nt^
String (^) 否 (^3) 使用花呗分期需要卖家承担的 手续费比
例的百分值，传入 100 代表100%

##### 100

```
industry_reflux_inf
o
```
String (^) 否 (^512) 行业数据回流信息。 {\"scene_code\":\"me
tro_tradeorder\",\"ch
annel\":\"xxxx\",\"sce
ne_data\":{\"asset_na
me\":\"ALIPAY\"}}
card_type^ String^ 否 (^32) 卡类型 S0JP0000^
timeout_express String (^) 否 (^6) 该笔订单允许的最晚付款时间，逾期将关
闭交易。取值范围：1m～15d。m-分钟，
h-小时，d-天，1c-当天（1c-当天的情况下，
无论交易何时创建，都在 0 点关闭）。 该
参数数值不接受小数点， 如1.5h，可转换
为 90m。
90m
royalty_info RoyaltyI 否 - (^) 描述分账信息，json格式。 (^) { "royalty_type" :


```
nfo^ "ROYALTY",
"royalty_detail_infos
"
:[{"serial_no":"1","t
ra
ns_out":"2088101126
765726","trans_in":"2
0881011267084
```
royalty_type String (^) 否 (^150) 分账类型 卖家的分账类型，目前只支持
传入ROYALTY（普通分账类型）。

##### ROYALTY

```
royalty_detail_info
s^
```
```
Royalty
DetailInf
os[]
```
##### 是^2500 分账明细的信息，可以描述多条分账指

```
令，json数组。
```
##### -^

serial_no^ Number^ 否 (^9) 分账序列号，表示分账执行的顺序，必须
为正整数

##### 1

trans_in_type String (^) 否 24 接受分账金额的账户类型：
userId：支付宝账号对应的支付宝唯一用户
号。
bankIndex：分账到银行账户的银行编号。
目前暂时只支持分账到一个银行编号。
storeId：分账到门店对应的银行卡编号。
默认值为userId。
userId
batch_no String (^) 是 (^32) 分账批次号，目前需要和转入账号类型
为 bankIndex配合使用。

##### 123

out_relation_id String (^) 否 (^64) 商户分账的外部关联号，用于关联到每一
笔分账信息，商户需保证其唯一性。如果
为空，该值则默认为“商户网站唯一订单
号+分账序列号”。

##### 20131124001

trans_out_type String (^) 是 (^24) 要分账的账户类型。目前只支持userId：
支付宝账号对应的支付宝唯一用户号。
userId
trans_out^ String^ 是 (^16) 如果转出账号类型为 userId，本参数为要
分账的支付宝账号对应的支付宝唯一用
户号。以 2088 开头的纯 16 位数字。

##### 2088101126765726

trans_in String (^) 是 (^28) 如果转入账号类型为 userId，本参数为接
受分账金额的支付宝账号对应的支付宝
唯一用户号，以 2088 开头的纯 16 位数字。
如果转入账号类型为bankIndex，本参数为
28 位的银行编号（商户和支付宝签约
时确定）。
如果转入账号类型为storeId，本参数为商
户的门店ID。

##### 2088101126708402

amount^ Number^ 是 (^9) 分账的金额，单位为元 0.1^
desc^ String^ 否 (^1000) 分账描述信息 (^) 分账测试 1
amount_percenta
ge
String (^) 否 (^3) 分账的比例，值为 20 代表按20%的比例分
账

##### 100

settle_info SettleInfo 否
描述结算信息，json格式，详见结算参数
说明
settle_detail_infos SailInfo[]ettleDet 是^10
结算详细信息，json数组，目前只支持一
条。

trans_in_type String (^) 是 64

##### 结算收款方的账户类型。

```
cardSerialNo：结算收款方的银行卡编号;
```
```
cardSerialNo
```

```
userId：表示是支付宝账号对应的支付宝
唯一用户号;
loginName：表示是支付宝登录号；
```
```
trans_in String 是 64
```
##### 结算收款方。当结算收款方类型是

```
cardSerialNo时，本参数为用户在支付宝绑
定的卡编号；结算收款方类型是userId时，
本参数为用户的支付宝账号对应的支付
宝唯一用户号，以 2088 开头的纯 16 位数
字；当结算收款方类型是loginName时，
本参数为用户的支付宝登录号
```
##### A0001

```
summary_dimen
sion String^ 否^64
```
##### 结算汇总维度，按照这个维度汇总成批次

##### 结算，由商户指定。

##### 目前需要和结算收款方账户类型为

```
cardSerialNo配合使用
```
##### A0001

settle_entity_id String (^) 否 64

##### 结算主体标识。当结算主体类型为

```
SecondMerchant时，为二级商户的
SecondMerchantID；当结算主体类型为
Store时，为门店的外标。
```
```
2088xxxxx;ST_0001
```
```
settle_entity_typ
e String^ 否^32
```
##### 结算主体类型。

```
二级商户:SecondMerchant;商户或者直连
商户门店:Store
```
```
SecondMerchant 、
Store
```
amount Number (^) 是 9 结算的金额，单位为元。目前必须和交易
金额相同

##### 0.1

```
merchant_type
```
String (^) 可选 32 商户id类型 alipay: 支付宝分配的
间连商户编号,
merchant: 商户端的
间连商户编号
alipay_store_id String (^) 否 32 支付宝的店铺编号 2016041400077000000
003314986
sub_merchant^ SubMerc
hant

##### 否 -^ 二级商户信息,当前只对特殊银行机构特

##### 定场景下使用此字段

##### -^

merchant_id^ String^ 是 (^16) 间连受理商户的支付宝商户编号，通过间
连商户入驻后得到。间连业务下必传，并
且需要 按规范传递受理商户编号。

##### 19023454

merchant_type String (^) 否 32 商户id类型， (^) alipay: 支付宝分配
的间连商户编号
merchant_order_no String (^) 否 (^32) 商户原始订单号，最大长度限制 32 位 20161008001
ext_user_info^ ExtUserI
nfo^

##### 否^ -^ 外部指定买家^ -^

name^ String^ 否 (^16) 姓名
注： need_check_info=T时 该参数才有
效

##### 李明^

mobile String (^) 否 (^20) 手机号 注：该参数暂不校验 16587658765
cert_type String (^) 否 (^32) 身份证：IDENTITY_CARD、 护照：
PASSPORT、军官证：OFFICER_CARD、
士兵证：SOLDIER_CARD、户口本：
HOKOU等。
注： need_check_info=T时 该参数才有效

##### IDENTITY_CARD

cert_no String (^) 否 (^64) 证件号 362334768769238881


```
注：need_check_info=T时该参数才有效
```
min_age String (^) 否 (^3) 允许的最小买家年龄，买家年龄必须大于
等于所传数值
注：

1. need_check_info=T时该参数才有效
2. min_age为整数，必须大于等于 0

##### 18

fix_buyer String (^) 否 (^8) 是否强制校验付款人身份信息 T:强制校
验，F：不强制

##### F

need_check_info^ String^ 否 (^1) 是否强制校验身份信息 T:强制校
验，F：不强制

##### F^

business_params^ String^ 否 (^512) 商户传入业务信息，具体值要和支付宝约
定，应用于安全，营销等参数直传场景，
格式为json格式
{"data":"123"}^
org_pid String (^) 是 20 收单机构(例如银行）的标识，填写该机构
在支付宝的pid

##### 2088201916734621

##### 4.2.4.2.2 响应参数

##### 参数^ 类

##### 型

##### 是否

##### 必须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值

out_trade_no^ String^ 是 (^32) 商户订单号 20150423001001
trade_no^ String^ 是 (^64) 银联交易号 9920150423210010047
20200028594
需注意，商户/收单机
构页面通过JSSDK直
接调用支付宝APP
时，商户/收单需要将
银联返回的交易号去
掉前两位后再调用支
付宝APP

##### 4.2.4.3 业务错误码

##### 错误码^ 错误描述^ 解决方

##### 案^

ACQ.SYSTEM_ERROR^ 接口返回错误 (^) 请立即调用查询订单API，查询当前订单的
状态，并根据订单状态决定下一步的操作^
ACQ.INVALID_PARAMETER 参数无效^ 检查请求参数，修改后重新发起请求^
ACQ.ACCESS_FORBID DEN 无权限使用接口^ 联系银联进行签约^
ACQ.EXIST_FORBIDDE
N_WORD

##### 订单信息中包含违禁词 修改订单信息后，重新发起请求

ACQ.PARTNER_ERROR^ 应用APP_ID填写错误 (^) 联系银联，确认APP_ID的状态
ACQ.TOTAL_FEE_EXC EED 订单总金额超过限额^ 修改订单金额再发起请求^
ACQ.CONTEXT_INCON
SISTENT

##### 交易信息被篡改^ 更换商家订单号后，重新发起请求^

##### ACQ.TRADE_HAS_SUC CESS 交易已被支付^ 确认该笔交易信息是否为当前买家的，如

##### 果是则认为交易付款成功，如果不是则更

##### 换商家订单号后，重新发起请求

##### ACQ.TRADE_HAS_CLO SE 交易已经关闭^ 更换商家订单号后，重新发起请求^

##### ACQ.BUYER_SELLER_

##### EQUAL

##### 买卖家不能相同 更换买家重新付款


##### ACQ.TRADE_BUYER_N

##### OT_MATCH

##### 交易买家不匹配 更换商家订单号后，重新发起请求

##### ACQ.BUYER_ENABLE_

##### STATUS_FORBID

##### 买家状态非法^ 用户联系银联，确认买家状态为什么非法^

```
ACQ.SELLER_BEEN_B
LOCKED
```
##### 商家账号被冻结 联系银联，解冻账号

##### ACQ.ERROR_BUYER_C

##### ERTIFY_LEVEL_LIMIT

##### 买家未通过人行认证 让用户联系银联并更换其它付款方式

##### ACQ.SUB_MERCHANT^

##### _CREATE_FAIL

##### 二级商户创建失败^ 检查上送的二级商户信息是否有效^

##### ACQ.SUB_MERCHANT

##### _TYPE_INVALID

##### 二级商户类型非法 检查上传的二级商户类型是否有效

##### 4.2.4.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类

##### 型^

##### 描述^ 默认开启^

```
tradeStatus.TRADE_CLOSED^ 交易关闭^ 无^
tradeStatus.TRADE_FINISHED^ 交易完结^ 无^
tradeStatus.TRADE_SUCCESS^ 支付成功^ 是^
tradeStatus.WAIT_BUYER_PAY^ 交易创建^ 无^
```
```
触发通知字段
```
参数 类型 (^) 是否
必须

##### 最大

##### 长度

##### 描述 示例

##### 值^

sign String (^) 是 - 签名
sign_type String (^) 是 - (^) 本域不出现时，默认为RSA2
算法。
银联生成签名字符串所使用的
签名算法类型，本域值同收单
请求银联上送的sign_type。
RSA2
cert_id String (^) 是 - 签名证书序列号
out_trade_no^ String^ 是 -^ 商户订单号 -^
out_biz_no^ String^ 是 -^ 商户业务号 -^
buyer_logon_id^ String^ 是 -^ 买家支付宝账号 -^
seller_id^ String^ 是 -^ 卖家支付宝用户号 -^
seller_email^ String^ 是 -^ 卖家支付宝账号 -^
trade_status^ String^ 是 -^ 交易状态 -^
total_amount^ String^ 是 -^ 订单金额 -^
refund_fee^ String^ 是 -^ 退款金额 -^
subject^ String^ 是 -^ 订单标题 -^
body^ String^ 是 -^ 商品描述 -^
gmt_create^ String^ 是 -^ 交易创建时间 -^
gmt_payment^ String^ 是 -^ 交易付款时间 -^
gmt_refund^ String^ 是 -^ 交易退款时间 -^
gmt_close^ String^ 是 -^ 交易结束时间 -^
fund_bill_list^ String^ 是 -^ 支付金额信息 -^
receipt_amount^ String^ 是 -^ 商家在交易中实际收到的款项
，单位为元，

##### -^


```
invoice_amount^ String^ 是 -^ 用户在交易中支付的可开具发
票的金额
```
##### -^

```
buyer_pay_amount^ String^ 是 -^ 用户在交易中支付的金额 -^
point_amount^ String^ 是 -^ 使用积分宝支付的金额 -^
```
buyer_id String (^) 是 - (^) 买家的支付宝唯一用户号
（ 2088 开头的 16 位纯数字）

##### -

```
voucher_detail_list^ String^ 是 -^ 本次交易使用的券明细列表 -^
trade_no^ String^ 是 -^ 银联交易号 -^
app_id^ String^ 是 -^ 支付宝分配给开发者的应用Id -^
```
charge_flags String (^) 否 64 费率活动标识，当交易享受活
动优惠费率时，返回该活动的
标识；
( 1 )蓝海活动优惠费率 0 ，值为
bluesea_1
( 2 )特殊行业优惠费率 0 ，值为
industry_special_00
( 3 )特殊行业优惠费率千一，值
为industry_special_01
bluesea_ 1

#### 4.2.5 统一收单下单并支付页面接口

##### 4.2.5.1 场景说明

##### PC场景下单并支付。

##### 4.2.5.2 接口说明

```
公共请求参数中的method填写alipay.trade.page.pay。
```
##### 4.2.5.2.1 请求参数

##### 参数 类

##### 型^

##### 是否

##### 必须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

out_trade_no^ String^ 是 (^32) 商户订单号,32个字符以内、 只能包含字
母、数字、下划线；需保证在商户端不重
复

##### 20150320010101001

product_code String (^) 是 64 销售产品码，与支付宝签约的产品码名
称。
注：目前仅支持
FAST_INSTANT_TRADE_PAY

##### FAST_INSTANT_T

##### RADE_PAY

```
time_expire String 否 32 绝 对 超 时 时 间 ， 格 式 为HH:mm:ss yyyy-MM-dd 2016 - 12 - 31 10:05:01
```
goods_type String (^) 否 2 商品主类型 :0-虚拟类商品,1-实物类商品 0
promo_params String (^) 否 512 优惠参数 promo_params
seller_id String (^) 否 28 卖家支付宝用户ID。 如果该值为空，则
默认为商户签约账号对应的支付宝用户
ID

##### 2088102146225135

total_amount Price (^) 是 (^9) 订单总金额，单位为元，精确 到小数点
后两位，取值范围 [0.01,100000000] 如果
同时传入了【打折金额】，【不可打折金
额】，【订单总金额】三者，则必须满足如
下条件：【订单总金额】=【打折金额】+

##### 88.88


##### 【不可打折金额】

subject^ String^ 是 (^256) 订单标题 Iphone6 16G^
body^ String^ 否 (^128) 对交易或商品的描述 Iphone6 16G^
goods_detail GoodsDe
tail[]
否 -^ 订单包含的商品列表信息，Json格式。 [{"goods_id":"apple-^
01","goods_name":"ip
ad","goods_category"
:"7788230","price":"2
0 00.00","quantity":"1"
}]
goods_id^ String^ 是 (^32) 商品的编号 apple- 01
alipay_goods_id^ String^ 否 (^32) 支付宝定义的统一商品编号 20010001
goods_name^ String^ 是 (^256) 商品名称 ipad^
quantity^ Number^ 是 (^10) 商品数量 1
price^ Price^ 是 (^9) 商品单价，单位为元 2000
goods_category^ String^ 否 (^24) 商品类目 34543238
categories_tree String (^) 否 128 商品类目树，从商品类目根节点到叶子节
点的类目id组成，类目id值使用|分割

##### 124868003|126

##### 232002|126252

##### 004

body^ String^ 否 (^1000) 商品描述信息 (^) 特价手机
show_url String (^) 否 400 商品的展示地址 (^) [http://www.alipay.co](http://www.alipay.co)
m/xxx.jpg
enable_pay_channels String (^) 否 (^128) 可用渠道,用户只能在指定渠道范围内支
付，多个渠道以逗号分割
注，与 disable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
store_id^ String^ 否 (^32) 商户门店编号 NJ_001^
disable_pay_channels^ String^ 否 (^128) 禁用渠道,用户不可用指定渠道 支付，多
个 渠 道 以 逗 号 分 割 ， 与
enable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
extend_params ExtendPa
rams
否 -^ 业务扩展参数 (^) {“sys_service_provid
er_id”:”
2088511833207846”}
sys_service_provid
er_id^
String^ 否 (^64) 系统商编号 该参数作为系统商返佣数据
提取的依据，请填写系统商签约协议的
PID

##### 2088511833207846

hb_fq_num^ String^ 否 (^5) 使用花呗分期要进行的分期数 3
hb_fq_seller_perce
nt^
String^ 否 (^3) 使用花呗分期需要卖家承担的 手续费比
例的百分值，传入 100 代表100%

##### 100

```
industry_reflux_inf
o^
```
String^ 否 (^512) 行业数据回流信息。 {\"scene_code\":\"me
tro_tradeorder\",\"ch
annel\":\"xxxx\",\"sce
ne_data\":{\"asset_na
me\":\"ALIPAY\"}}
card_type^ String^ 否 32 卡类型 S0JP0000^
timeout_express^ String^ 否 (^6) 该笔订单允许的最晚付款时间，逾期将关
闭交易。取值范围：1m～15d。m-分钟，
h-小时，d-天，1c-当天（1c-当天的情况下，
无论交易何时创建，都在 0 点关闭）。 该
参数数值不接受小数点， 如1.5h，可转换
为 90m。
90m^
royalty_info RoyaltyI
nfo
否 -^ 描述分账信息，json格式。 (^) { "royalty_type" :
"ROYALTY",
"royalty_detail_infos
"


```
:[{"serial_no":"1","t
ra
ns_out":"2088101126
765726","trans_in":"2
0881011267084
```
royalty_type^ String^ 否 (^150) 分账类型 卖家的分账类型，目前只支持
传入ROYALTY（普通分账类型）。

##### ROYALTY^

```
royalty_detail_info
s^
```
```
Royalty
DetailInf
os[]
```
##### 是^2500 分账明细的信息，可以描述多条分账指

```
令，json数组。
```
##### -^

serial_no Number (^) 否 (^9) 分账序列号，表示分账执行的顺序，必须
为正整数

##### 1

trans_in_type String (^) 否 24 接受分账金额的账户类型：
userId：支付宝账号对应的支付宝唯一用户
号。
bankIndex：分账到银行账户的银行编号。
目前暂时只支持分账到一个银行编号。
storeId：分账到门店对应的银行卡编号。
默认值为userId。
userId
batch_no String (^) 是 (^32) 分账批次号，目前需要和转入账号类型
为 bankIndex配合使用。

##### 123

out_relation_id^ String^ 否 (^64) 商户分账的外部关联号，用于关联到每一
笔分账信息，商户需保证其唯一性。如果
为空，该值则默认为“商户网站唯一订单
号+分账序列号”。

##### 20131124001

trans_out_type^ String^ 是 (^24) 要分账的账户类型。目前只支持userId：
支付宝账号对应的支付宝唯一用户号。
userId^
trans_out^ String^ 是 (^16) 如果转出账号类型为 userId，本参数为要
分账的支付宝账号对应的支付宝唯一用
户号。以 2088 开头的纯 16 位数字。

##### 2088101126765726

trans_in String (^) 是 (^28) 如果转入账号类型为 userId，本参数为接
受分账金额的支付宝账号对应的支付宝
唯一用户号，以 2088 开头的纯^16 位数字。
如果转入账号类型为bankIndex，本参数为
28 位的银行编号（商户和支付宝签约
时确定）。
如果转入账号类型为storeId，本参数为商
户的门店ID。

##### 2088101126708402

amount Number (^) 是 (^9) 分账的金额，单位为元 0.1
desc^ String^ 否 (^1000) 分账描述信息 (^) 分账测试 1
amount_percenta
ge^
String^ 否 (^3) 分账的比例，值为 20 代表按20%的比例分
账

##### 100

sub_merchant SubMerc
hant

##### 否 -^ 二级商户信息,当前只对特殊银行机构特

##### 定场景下使用此字段

##### -

merchant_id^ String^ 是 (^16) 间连受理商户的支付宝商户编号，通过间
连商户入驻后得到。间连业务下必传，并
且需要 按规范传递受理商户编号。

##### 19023454

merchant_type String (^) 否 32 商户id类型， (^) alipay: 支付宝分配
的间连商户编号
merchant_order_no String (^) 否 (^32) 商户原始订单号，最大长度限制 32 位 20161008001


ext_user_info^ ExtUserI
nfo^

##### 否^ -^ 外部指定买家^ -^

name^ String^ 否 (^16) 姓名
注： need_check_info=T时 该参数才有
效

##### 李明^

mobile^ String^ 否 (^20) 手机号 注：该参数暂不校验 16587658765
cert_type String (^) 否 (^32) 身份证：IDENTITY_CARD、 护照：
PASSPORT、军官证：OFFICER_CARD、
士兵证：SOLDIER_CARD、户口本：
HOKOU等。
注： need_check_info=T时 该参数才有效

##### IDENTITY_CARD

cert_no String (^) 否 64 证件号
注：need_check_info=T时该参数才有效

##### 362334768769238881

min_age String (^) 否 (^3) 允许的最小买家年龄，买家年龄必须大于
等于所传数值
注：

1. need_check_info=T时该参数才有效
2. min_age为整数，必须大于等于 0

##### 18

fix_buyer String (^) 否 (^8) 是否强制校验付款人身份信息 T:强制校
验，F：不强制

##### F

need_check_info^ String^ 否 (^1) 是否强制校验身份信息 T:强制校
验，F：不强制

##### F^

business_params^ String^ 否 (^512) 商户传入业务信息，具体值要和支付宝约
定，应用于安全，营销等参数直传场景，
格式为json格式
{"data":"123"}
passback_params String (^) 否 512

##### 公用回传参数，如果请求时传递了该参

##### 数，则返回给商户时会回传该参数。支付

##### 宝只会在同步返回（包括跳转回商户网

##### 站）和异步通知时将该参数原样返回。本

```
参数必须进行UrlEncode之后才可以发送
给支付宝。
```
```
merchantBizType%3d
3C%26merchantBizN
o%3d2016010101111
```
qr_pay_mode String 否 2

##### PC扫码支付的方式，支持前置模式和跳

##### 转模式。 前置模式是将二维码前置到商

##### 户 的订单确认页的模式。需要商户在 自

```
己的页面中以 iframe 方式请求 支付宝
页面。具体分为以下几种：
0 ：订单码-简约前置模式，对应 iframe 宽
度不能小于600px，高度不能小于300px；
1 ：订单码-前置模式，对应iframe 宽度
不能小于 300px，高度不能小于600px；
3 ：订单码-迷你前置模式，对应 iframe 宽
度不能小于 75px，高度不能小于75px；
4 ：订单码-可定义宽度的嵌入式二维码，
商户可根据需要设定二维码的大小。
```
```
跳转模式下，用户的扫码界面是由支付宝
生成的，不在商户的域名下。
2 ：订单码-跳转模式
```
##### 1

qrcode_width Number 否 4

##### 商户自定义二维码宽度

```
注：qr_pay_mode=4时该参数生效
```
##### 100

settle_info SettleInf 否 描述结算信息，json格式，详见结算参数


o (^) 说明
settle_detail_infos SettleDetailInfo[] 是^10
结算详细信息，json数组，目前只支持一
条。
trans_in_type String 是 64

##### 结算收款方的账户类型。

```
cardSerialNo：结算收款方的银行卡编号;
```
```
userId：表示是支付宝账号对应的支付宝
唯一用户号;
loginName：表示是支付宝登录号；
```
```
cardSerialNo
```
trans_in String (^) 是 64

##### 结算收款方。当结算收款方类型是

```
cardSerialNo时，本参数为用户在支付宝绑
定的卡编号；结算收款方类型是userId时，
本参数为用户的支付宝账号对应的支付
宝唯一用户号，以 2088 开头的纯 16 位数
字；当结算收款方类型是loginName时，
本参数为用户的支付宝登录号
```
##### A0001

```
summary_dimen
sion String^ 否^64
```
##### 结算汇总维度，按照这个维度汇总成批次

##### 结算，由商户指定。

##### 目前需要和结算收款方账户类型为

```
cardSerialNo配合使用
```
##### A0001

```
settle_entity_id String 否 64
```
##### 结算主体标识。当结算主体类型为

```
SecondMerchant时，为二级商户的
SecondMerchantID；当结算主体类型为
Store时，为门店的外标。
```
```
2088xxxxx;ST_0001
```
```
settle_entity_typ
e String^ 否^32
```
##### 结算主体类型。

```
二级商户:SecondMerchant;商户或者直连
商户门店:Store
```
```
SecondMerchant 、
Store
```
amount Number (^) 是 9 结算的金额，单位为元。目前必须和交易
金额相同

##### 0.1

invoice_info
InvoiceIn
fo 否^ 开票信息^
key_info InvoiceKeyInfo 是 200 开票关键信息
is_support_invoi
ce Boolean^ 是^5 该交易是否支持开票^ true^
invoice_mercha
nt_name String^ 是^80

```
开票商户名称：商户品牌简称|商户门店
简称
ABC|003
tax_num String 是 30 税号 1464888883494
```
details String (^) 是 400 开票内容^
注：json数组格式
[{"code":"1002944
00","name":"服饰
","num":"2","sumP
rice":"200.00","tax
Rate":"6%"}]
agreement_sign_para
ms
Agreeme
ntSignPa
rams

##### 否 签约参数，支付后签约场景使用

```
personal_product_c
ode String^ 是^64
```
##### 个人签约产品码，商户和支付宝签约时确

##### 定。

```
GENERAL_WITHH
OLDING_P
```
sign_scene String (^) 否 64

##### 协议签约场景，商户和支付宝签约时确

##### 定。

```
当传入商户签约号external_agreement_no
时 ， 场 景 不 能 为 默 认 值
```
```
INDUSTRY|CARRE
NTAL
```

##### DEFAULT|DEFAULT。

```
external_agreement
_no String^ 否^32
```
##### 商户签约号，代扣协议中标示用户的唯一

##### 签约号（确保在商户系统中唯一）。

##### 格式规则：支持大写小写字母和数字，最

##### 长 32 位。

##### 商户系统按需传入，如果同一用户在同一

##### 产品码、同一签约场景下，签订了多份代

##### 扣协议，那么需要指定并传入该值。

```
test
```
external_logon_id String (^) 否 100 用户在商户网站的登录账号，用于在签约
页面展示，如果为空，则不展示
13852852877
sign_validity_perio
d String^ 否^8

##### 当前用户签约请求的协议有效周期。

##### 整形数字加上时间单位的协议有效期，从

##### 发起签约请求的时间开始算起。

##### 目前支持的时间单位：

1. d：天
2. m：月
如果未传入，默认为长期有效。

```
2m
```
```
third_party_type String 否 32
```
##### 签约第三方主体类型。对于三方协议，表

##### 示当前用户和哪一类的第三方主体进行

##### 签约。

##### 取值范围：

##### 1. PARTNER（平台商户）;

##### 2. MERCHANT（集团商户），集团下子商

##### 户可共享用户签约内容;

##### 默认为PARTNER。

```
PARTNER
```
```
buckle_app_id String 否 64 商户在芝麻端申请的appId 1001164
buckle_merchant_i
d String^
```
否 (^64) 商户在芝麻端申请的merchantId 268820000000414397
785
promo_params String 否^512 签约营销参数，此值为json格式；具体的
key需与营销约定
{"key","value"}
integration_type String (^) 否 16

##### 请求后页面的集成方式。

##### 取值范围：

##### 1. ALIAPP：支付宝钱包内

##### 2. PCWEB：PC端访问

##### 默认值为PCWEB。

##### PCWEB

```
request_from_url String 否 256
```
##### 请求来源地址。如果使用ALIAPP的集成

##### 方式，用户中途取消支付会返回该地址。

```
https://
```
org_pid String (^) 是 20 收单机构(例如银行）的标识，填写该机构
在支付宝的pid

##### 2088201916734621

##### 4.2.5.2.2 响应参数

##### 参

##### 数

类型 (^) 是否
必须

##### 最大 长度 描述^ 示例

##### 值

form_data String (^) 是 -
本域长度随请求
报文总长度增加
而增加，如机构
希望控制应答报
文长度，建议按
照请求报文总长
度的六倍限定本
域长度。^

##### 为开发者生成前台页面请求需要的完整

```
form表单的html（不包含自动提交脚本），
商户可决定是否直接提交form表单，如需
要直接提交的，可将这个表单的String加
自动提交脚本输出到http response中，如
不需要直接提交的，可以自行决定中间处
理过程，但提交至支付宝侧的form表达内
容不可修改，否则会引起支付宝侧报错。
自动提交脚本示例：
```
```
<form
```
#### action=”#”></form>


```
<script>document.form[ 0 ].submit();</script
>^
```
##### 4.2.5.3 业务错误码

##### 错误码 错误描述 解决方

##### 案^

ACQ.SYSTEM_ERROR (^) 接口返回错误

##### 请立即调用查询订单API，查询当前订单的

##### 状态，并根据订单状态决定下一步的操作，

##### 如果多次调用依然报此错误码，请联系支付

##### 宝客服。

##### ACQ.INVALID_PARAMETER 参数无效 检查请求参数，修改后重新发起请求

##### ACQ.ACCESS_FORBIDDEN 无权限使用接口 未签约条码支付或者合同已到期

##### ACQ.EXIST_FORBIDDEN_WOR

##### D 订单信息中包含违禁词^ 修改订单信息后，重新发起请求^

ACQ.PARTNER_ERROR (^) 应用APP_ID填写错误
联 系 支 付 宝 小 二 <a
href="https://support.open.alipay.com/alipay/s
upport/index.htm">点这里</a>， 确 认
APP_ID的状态
ACQ.TOTAL_FEE_EXCEED (^) 订单总金额不在允许范围内 修改订单金额再发起请求
ACQ.CONTEXT_INCONSISTEN
T 交易信息被篡改^ 更换商家订单号后，重新发起请求^
ACQ.TRADE_HAS_SUCCESS 交易已被支付

##### 确认该笔交易信息是否为当前买家的，如果

##### 是则认为交易付款成功，如果不是则更换商

##### 家订单号后，重新发起请求

ACQ.TRADE_HAS_CLOSE (^) 交易已经关闭 更换商家订单号后，重新发起请求
ACQ.BUYER_BALANCE_NOT_
ENOUGH 买家余额不足^

##### 买家绑定新的银行卡或者支付宝余额有钱

##### 后再发起支付

##### ACQ.BUYER_BANKCARD_BA

##### LANCE_NOT_E 用户银行卡余额不足^

##### 建议买家更换支付宝进行支付或者更换其

##### 它付款方式

##### ACQ.ERROR_BALANCE_PAYM

##### ENT_DISABL 余额支付功能关闭^ 用户打开余额支付开关后，再重新进行支付^

##### ACQ.BUYER_SELLER_EQUAL 买卖家不能相同 更换买家重新付款

##### ACQ.TRADE_BUYER_NOT_MA

##### TCH 交易买家不匹配^ 更换商家订单号后，重新发起请求^

##### ACQ.BUYER_ENABLE_STATUS

##### _FORBID 买家状态非法^

```
用 户 联 系 支 付 宝 小 二 <a
href="https://support.open.alipay.com/alipay/s
upport/index.htm">点这里</a>，确认买家状
态为什么非法
ACQ.PAYMENT_REQUEST_HA
S_RISK 支付有风险^ 更换其它付款方式^
ACQ.NO_PAYMENT_INSTRUM
ENTS_AVAIL 没用可用的支付工具^ 更换其它付款方式^
ACQ.ILLEGAL_SIGN_VALIDTY
_PERIOD 无效的签约有效期^ 更改接口中传入的签约有效期^
ACQ.MERCHANT_AGREEMEN
T_NOT_EXIST 商户协议不存在^ 建议商户与支付宝确认签约代扣合同^
```
##### 4.2.5.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类

##### 型^

##### 描述 默认开启

```
tradeStatus.TRADE_CLOSED^ 交易关闭^ 无^
```

```
tradeStatus.TRADE_FINISHED^ 交易完结^ 无^
tradeStatus.TRADE_SUCCESS 支付成功 是
tradeStatus.WAIT_BUYER_PAY^ 交易创建^ 无^
```
触发通知字段

参数^ 类型^ 是否

```
必须
```
##### 最大

##### 长度

##### 描述^ 示例

##### 值

sign String (^) 是 - 签名
sign_type String (^) 是 - (^) 本域不出现时，默认为RSA2
算法。
银联生成签名字符串所使用的
签名算法类型，本域值同收单
请求银联上送的sign_type。
RSA2
cert_id String (^) 是 - 签名证书序列号
out_trade_no^ String^ 是 -^ 商户订单号 -^
out_biz_no^ String^ 是 -^ 商户业务号 -^
buyer_logon_id^ String^ 是 -^ 买家支付宝账号 -^
seller_id^ String^ 是 -^ 卖家支付宝用户号 -^
seller_email^ String^ 是 -^ 卖家支付宝账号 -^
trade_status^ String^ 是 -^ 交易状态 -^
total_amount^ String^ 是 -^ 订单金额 -^
refund_fee^ String^ 是 -^ 退款金额 -^
subject^ String^ 是 -^ 订单标题 -^
body^ String^ 是 -^ 商品描述 -^
gmt_create^ String^ 是 -^ 交易创建时间 -^
gmt_payment^ String^ 是 -^ 交易付款时间 -^
gmt_refund^ String^ 是 -^ 交易退款时间 -^
gmt_close^ String^ 是 -^ 交易结束时间 -^
fund_bill_list^ String^ 是 -^ 支付金额信息 -^
receipt_amount String (^) 是 - (^) 商家在交易中实际收到的款项
，单位为元，

##### -

```
invoice_amount^ String^ 是 -^ 用户在交易中支付的可开具发
票的金额
```
##### -^

```
buyer_pay_amount^ String^ 是 -^ 用户在交易中支付的金额 -^
point_amount^ String^ 是 -^ 使用积分宝支付的金额 -^
buyer_id^ String^ 是 -^ 买家的支付宝唯一用户号
（ 2088 开头的 16 位纯数字）
```
##### -^

```
voucher_detail_list^ String^ 是 -^ 本次交易使用的券明细列表 -^
trade_no^ String^ 是 -^ 银联交易号 -^
app_id^ String^ 是 -^ 支付宝分配给开发者的应用Id -^
```
charge_flags String (^) 否 64 费率活动标识，当交易享受活
动优惠费率时，返回该活动的
标识；
( 1 )蓝海活动优惠费率 0 ，值为
bluesea_1
( 2 )特殊行业优惠费率 0 ，值为
industry_special_00
( 3 )特殊行业优惠费率千一，值
为industry_special_01
bluesea_ 1
passback_params String 否 512
公用回传参数，如果请求时传
递了该参数，则返回给商户时
merchantBizType%3d
3C%26merchantBizN


```
会回传该参数。支付宝只会在
同步返回（包括跳转回商户网
站）和异步通知时将该参数原
样 返 回 。 本 参 数 必 须 进 行
UrlEncode 之后才可以发送给
支付宝。
```
```
o%3d2016010101111
```
#### 4.2.6 手机网站支付接口 2.0

##### 4.2.6.1 场景说明

##### 外部商户创建订单并支付。

##### 4.2.6.2 接口说明

```
公共请求参数中的method填写alipay.trade.wap.pay。
```
##### 4.2.6.2.1 请求参数

##### 参数 类

##### 型^

##### 是否

##### 必须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

out_trade_no^ String^ 是 (^32) 商户订单号,32个字符以内、 只能包含字
母、数字、下划线；需保证在商户端不重
复

##### 20150320010101001

product_code String (^) 是 64 销售产品码，商家和支付宝签约的产品码
注：目前仅支持
QUICK_WAP_WAY

##### QUICK_WAP_WAY

```
time_expire String 否 32 绝 对 超 时 时 间 ， 格 式 为 yyyy-MM-dd
HH:mm:ss
```
##### 2016 - 12 - 31 10:05:01

goods_type String (^) 否 2 商品主类型 :0-虚拟类商品,1-实物类商品 0
promo_params String (^) 否 512 优惠参数 promo_params
auth_token String 否 40

##### 针对用户授权接口，获取用户相关数据

##### 时，用于标识用户授权关系

```
appopenBb64d181d01
46481ab6a762c00714
cC27
```
```
quit_url String 是 400 用户付款中途退出返回商户网站的地址
```
```
http://www.taobao.co
m/product/113714.ht
ml
```
```
specified_channel String 否 128
```
```
指定渠道，目前仅支持传入pcredit
若由于用户原因渠道不可用，用户可选择
是否用其他渠道支付。
注：该参数不可与花呗分期参数同时传入
```
```
pcredit
```
seller_id String (^) 否 (^28) 卖家支付宝用户ID。 如果该值为空，则
默认为商户签约账号对应的支付宝用户
ID

##### 2088102146225135

total_amount Price (^) 是 (^9) 订单总金额，单位为元，精确 到小数点
后两位，取值范围 [0.01,100000000] 如果
同时传入了【打折金额】，【不可打折金
额】，【订单总金额】三者，则必须满足如
下条件：【订单总金额】=【打折金额】+
【不可打折金额】

##### 88.88

```
subject^ String^ 是 256 订单标题 Iphone6 16G^
```
body^ String^ 否 (^128) 对交易或商品的描述 Iphone6 16G^


goods_detail^ GoodsDe
tail[]^

```
否 -^ 订单包含的商品列表信息，Json格式。 [{"goods_id":"apple-^
01","goods_name":"ip
ad","goods_category"
:"7788230","price":"2
0 00.00","quantity":"1"
}]
goods_id^ String^ 是 32 商品的编号 apple- 01
```
alipay_goods_id^ String^ 否 (^32) 支付宝定义的统一商品编号 20010001
goods_name^ String^ 是 (^256) 商品名称 ipad^
quantity^ Number^ 是 (^10) 商品数量 1
price^ Price^ 是 (^9) 商品单价，单位为元 2000
goods_category^ String^ 否 (^24) 商品类目 34543238
categories_tree String (^) 否 128 商品类目树，从商品类目根节点到叶子节
点的类目id组成，类目id值使用|分割

##### 124868003|126

##### 232002|126252

##### 004

body^ String^ 否 (^1000) 商品描述信息 (^) 特价手机
show_url^ String^ 否 400 商品的展示地址 (^) [http://www.alipay.co](http://www.alipay.co)
m/xxx.jpg
enable_pay_channels^ String^ 否 (^128) 可用渠道,用户只能在指定渠道范围内支
付，多个渠道以逗号分割
注，与 disable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
store_id^ String^ 否 (^32) 商户门店编号 NJ_001^
disable_pay_channels String (^) 否 (^128) 禁用渠道,用户不可用指定渠道 支付，多
个 渠 道 以 逗 号 分 割 ， 与
enable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
extend_params^ ExtendPa
rams^
否^ -^ 业务扩展参数^ {“sys_service_provid
er_id”:”
2088511833207846”}
sys_service_provid
er_id
String (^) 否 (^64) 系统商编号 该参数作为系统商返佣数据
提取的依据，请填写系统商签约协议的
PID

##### 2088511833207846

hb_fq_num^ String^ 否 (^5) 使用花呗分期要进行的分期数 3
hb_fq_seller_perce
nt
String (^) 否 (^3) 使用花呗分期需要卖家承担的 手续费比
例的百分值，传入 100 代表100%

##### 100

```
industry_reflux_inf
o
```
String (^) 否 (^512) 行业数据回流信息。 {\"scene_code\":\"me
tro_tradeorder\",\"ch
annel\":\"xxxx\",\"sce
ne_data\":{\"asset_na
me\":\"ALIPAY\"}}
card_type^ String^ 否 (^32) 卡类型 S0JP0000^
timeout_express String (^) 否 (^6) 该笔订单允许的最晚付款时间，逾期将关
闭交易。取值范围：1m～15d。m-分钟，
h-小时，d-天，1c-当天（1c-当天的情况下，
无论交易何时创建，都在 0 点关闭）。 该
参数数值不接受小数点， 如1.5h，可转换
为 90m。
90m
royalty_info^ RoyaltyI
nfo
否^ -^ 描述分账信息，json格式。^ { "royalty_type" :
"ROYALTY",
"royalty_detail_infos
"
:[{"serial_no":"1","t
ra
ns_out":"2088101126


```
765726","trans_in":"2
0881011267084
```
royalty_type^ String^ 否 (^150) 分账类型 卖家的分账类型，目前只支持
传入ROYALTY（普通分账类型）。

##### ROYALTY^

```
royalty_detail_info
s
```
```
Royalty
DetailInf
os[]
```
是 (^2500) 分账明细的信息，可以描述多条分账指
令，json数组。

##### -

serial_no Number (^) 否 (^9) 分账序列号，表示分账执行的顺序，必须
为正整数

##### 1

```
trans_in_type^ String^ 否 24 接受分账金额的账户类型：
userId：支付宝账号对应的支付宝唯一用户
号。
bankIndex：分账到银行账户的银行编号。
目前暂时只支持分账到一个银行编号。
storeId：分账到门店对应的银行卡编号。
默认值为userId。
```
```
userId^
```
batch_no^ String^ 是 (^32) 分账批次号，目前需要和转入账号类型
为 bankIndex配合使用。

##### 123

out_relation_id^ String^ 否 (^64) 商户分账的外部关联号，用于关联到每一
笔分账信息，商户需保证其唯一性。如果
为空，该值则默认为“商户网站唯一订单
号+分账序列号”。

##### 20131124001

trans_out_type^ String^ 是 (^24) 要分账的账户类型。目前只支持userId：
支付宝账号对应的支付宝唯一用户号。
userId^
trans_out String (^) 是 (^16) 如果转出账号类型为 userId，本参数为要
分账的支付宝账号对应的支付宝唯一用
户号。以 2088 开头的纯 16 位数字。

##### 2088101126765726

trans_in^ String^ 是 (^28) 如果转入账号类型为 userId，本参数为接
受分账金额的支付宝账号对应的支付宝
唯一用户号，以 2088 开头的纯^16 位数字。
如果转入账号类型为bankIndex，本参数为
28 位的银行编号（商户和支付宝签约
时确定）。
如果转入账号类型为storeId，本参数为商
户的门店ID。

##### 2088101126708402

amount^ Number^ 是 (^9) 分账的金额，单位为元 0.1^
desc^ String^ 否 1000 分账描述信息 分账测试 1
amount_percenta
ge^
String^ 否 (^3) 分账的比例，值为 20 代表按20%的比例分
账

##### 100

sub_merchant^ SubMerc
hant^

##### 否^ -^ 二级商户信息,当前只对特殊银行机构特

##### 定场景下使用此字段

##### -^

merchant_id^ String^ 是 (^16) 间连受理商户的支付宝商户编号，通过间
连商户入驻后得到。间连业务下必传，并
且需要 按规范传递受理商户编号。

##### 19023454

merchant_type String (^) 否 32 商户id类型， (^) alipay: 支付宝分配
的间连商户编号
merchant_order_no^ String^ 否 (^32) 商户原始订单号，最大长度限制 32 位 20161008001
ext_user_info^ ExtUserI
nfo^

##### 否^ -^ 外部指定买家^ -^

name^ String^ 否 (^16) 姓名 (^) 李明


```
注： need_check_info=T时 该参数才有
效
```
mobile^ String^ 否 (^20) 手机号 注：该参数暂不校验 16587658765
cert_type^ String^ 否 (^32) 身份证：IDENTITY_CARD、 护照：
PASSPORT、军官证：OFFICER_CARD、
士兵证：SOLDIER_CARD、户口本：
HOKOU等。
注： need_check_info=T时 该参数才有效

##### IDENTITY_CARD^

```
cert_no^ String^ 否 64 证件号
注：need_check_info=T时该参数才有效
```
##### 362334768769238881

min_age^ String^ 否 (^3) 允许的最小买家年龄，买家年龄必须大于
等于所传数值
注：

1. need_check_info=T时该参数才有效
2. min_age为整数，必须大于等于 0

##### 18

fix_buyer^ String^ 否 (^8) 是否强制校验付款人身份信息 T:强制校
验，F：不强制

##### F^

need_check_info^ String^ 否 (^1) 是否强制校验身份信息 T:强制校
验，F：不强制

##### F^

business_params String (^) 否 (^512) 商户传入业务信息，具体值要和支付宝约
定，应用于安全，营销等参数直传场景，
格式为json格式
{"data":"123"}
passback_params String (^) 否 512

##### 公用回传参数，如果请求时传递了该参

##### 数，则返回给商户时会回传该参数。支付

##### 宝只会在同步返回（包括跳转回商户网

##### 站）和异步通知时将该参数原样返回。本

```
参数必须进行UrlEncode之后才可以发送
给支付宝。
```
```
merchantBizType%3d
3C%26merchantBizN
o%3d2016010101111
```
org_pid String (^) 是 20 收单机构(例如银行）的标识，填写该机构
在支付宝的pid

##### 2088201916734621

##### 4.2.6.2.2 响应参数

##### 参

##### 数

##### 类型^ 是否

##### 必须

##### 最大 长度 描述^ 示例

##### 值

form_data String (^) 是 -
本域长度随请求报
文总长度增加而增
加，如机构希望控
制应答报文长度，
建议按照请求报文
总长度的六倍限定
本域长度。^

##### 为开发者生成前台页面请求需要的完整

```
form表单的html（不包含自动提交脚本），
商户可决定是否直接提交form表单，如需
要直接提交的，可将这个表单的String加
自动提交脚本输出到http response中，如
不需要直接提交的，可以自行决定中间处
理过程，但提交至支付宝侧的form表达内
容不可修改，否则会引起支付宝侧报错。
自动提交脚本示例：
<script>document.form[0].submit();</script
>^
```
```
<form
action=”#”></form>^
```
##### 4.2.6.3 业务错误码

##### 错误码^ 错误描述^ 解决方

##### 案^


##### ACQ.SYSTEM_ERROR 接口返回错误

##### 请立即调用查询订单API，查询当前订单的

##### 状态，并根据订单状态决定下一步的操作，

##### 如果多次调用依然报此错误码，请联系支付

##### 宝客服。

##### ACQ.INVALID_PARAMETER 参数无效 检查请求参数，修改后重新发起请求

##### ACQ.ACCESS_FORBIDDEN 无权限使用接口 未签约条码支付或者合同已到期

##### ACQ.EXIST_FORBIDDEN_WOR

##### D 订单信息中包含违禁词^ 修改订单信息后，重新发起请求^

##### ACQ.PARTNER_ERROR 应用APP_ID填写错误

```
联 系 支 付 宝 小 二 <a
href="https://support.open.alipay.com/alipay/s
upport/index.htm">点这里</a>， 确 认
APP_ID的状态
ACQ.TOTAL_FEE_EXCEED 订单总金额不在允许范围内 修改订单金额再发起请求
ACQ.CONTEXT_INCONSISTEN
T 交易信息被篡改^ 更换商家订单号后，重新发起请求^
```
ACQ.TRADE_HAS_SUCCESS (^) 交易已被支付

##### 确认该笔交易信息是否为当前买家的，如果

##### 是则认为交易付款成功，如果不是则更换商

##### 家订单号后，重新发起请求

##### ACQ.TRADE_HAS_CLOSE 交易已经关闭 更换商家订单号后，重新发起请求

##### ACQ.BUYER_BALANCE_NOT_

##### ENOUGH 买家余额不足^

##### 买家绑定新的银行卡或者支付宝余额有钱

##### 后再发起支付

##### ACQ.BUYER_BANKCARD_BA

##### LANCE_NOT_E 用户银行卡余额不足^

##### 建议买家更换支付宝进行支付或者更换其

##### 它付款方式

##### ACQ.ERROR_BALANCE_PAYM

##### ENT_DISABL 余额支付功能关闭^ 用户打开余额支付开关后，再重新进行支付^

ACQ.BUYER_SELLER_EQUAL (^) 买卖家不能相同 更换买家重新付款
ACQ.TRADE_BUYER_NOT_MA
TCH 交易买家不匹配^ 更换商家订单号后，重新发起请求^
ACQ.BUYER_ENABLE_STATUS
_FORBID 买家状态非法^
用 户 联 系 支 付 宝 小 二 <a
href="https://support.open.alipay.com/alipay/s
upport/index.htm">点这里</a>，确认买家状
态为什么非法
ACQ.PAYMENT_REQUEST_HA
S_RISK 支付有风险^ 更换其它付款方式^
ACQ.NO_PAYMENT_INSTRUM
ENTS_AVAIL 没用可用的支付工具^ 更换其它付款方式^
ACQ.ILLEGAL_SIGN_VALIDTY
_PERIOD 无效的签约有效期^ 更改接口中传入的签约有效期^
ACQ.MERCHANT_AGREEMEN
T_NOT_EXIST 商户协议不存在^ 建议商户与支付宝确认签约代扣合同^

##### 4.2.6.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类

##### 型^

##### 描述^ 默认开启^

```
tradeStatus.TRADE_CLOSED^ 交易关闭^ 无^
tradeStatus.TRADE_FINISHED^ 交易完结^ 无^
tradeStatus.TRADE_SUCCESS^ 支付成功^ 是^
tradeStatus.WAIT_BUYER_PAY^ 交易创建^ 无^
```
```
触发通知字段
```
参数 类型 (^) 是否 最大 描述 示例


##### 必须 长度 值

sign String (^) 是 - 签名
sign_type String (^) 是 - (^) 本域不出现时，默认为RSA2
算法。
银联生成签名字符串所使用的
签名算法类型，本域值同收单
请求银联上送的sign_type。
RSA2
cert_id String (^) 是 - 签名证书序列号
out_trade_no^ String^ 是 -^ 商户订单号 -^
out_biz_no^ String^ 是 -^ 商户业务号 -^
buyer_logon_id^ String^ 是 -^ 买家支付宝账号 -^
seller_id^ String^ 是 -^ 卖家支付宝用户号 -^
seller_email^ String^ 是 -^ 卖家支付宝账号 -^
trade_status^ String^ 是 -^ 交易状态 -^
total_amount^ String^ 是 -^ 订单金额 -^
refund_fee^ String^ 是 -^ 退款金额 -^
subject^ String^ 是 -^ 订单标题 -^
body^ String^ 是 -^ 商品描述 -^
gmt_create^ String^ 是 -^ 交易创建时间 -^
gmt_payment^ String^ 是 -^ 交易付款时间 -^
gmt_refund^ String^ 是 -^ 交易退款时间 -^
gmt_close^ String^ 是 -^ 交易结束时间 -^
fund_bill_list^ String^ 是 -^ 支付金额信息 -^
receipt_amount^ String^ 是 -^ 商家在交易中实际收到的款项
，单位为元，

##### -^

invoice_amount^ String^ 是 -^ 用户在交易中支付的可开具发

```
票的金额
```
##### -^

buyer_pay_amount^ String^ 是 -^ 用户在交易中支付的金额 -^
point_amount^ String^ 是 -^ 使用积分宝支付的金额 -^
buyer_id^ String^ 是 -^ 买家的支付宝唯一用户号
（ 2088 开头的 16 位纯数字）

##### -^

voucher_detail_list^ String^ 是 -^ 本次交易使用的券明细列表 -^

trade_no String (^) 是 - (^) 银联交易号 -
app_id^ String^ 是 -^ 支付宝分配给开发者的应用Id -^
charge_flags String (^) 否 64 费率活动标识，当交易享受活
动优惠费率时，返回该活动的
标识；
( 1 )蓝海活动优惠费率 0 ，值为
bluesea_1
( 2 )特殊行业优惠费率 0 ，值为
industry_special_00
( 3 )特殊行业优惠费率千一，值
为industry_special_01
bluesea_ 1
passback_params String 否 512
公用回传参数，如果请求时传
递了该参数，则返回给商户时
会回传该参数。支付宝只会在
同步返回（包括跳转回商户网
站）和异步通知时将该参数原
样 返 回 。 本 参 数 必 须 进 行
UrlEncode 之后才可以发送给
支付宝。
merchantBizType%3d
3C%26merchantBizN
o%3d2016010101111


#### 4.2.7 App 支付接口 2.0

##### 4.2.7.1 场景说明

##### 外部商户APP唤起快捷SDK创建订单并支付。

##### 4.2.7.2 接口说明

```
公共请求参数中的method填写alipay.trade.app.pay。
```
##### 4.2.7.2.1 请求参数

##### 参数 类

##### 型

##### 是否

##### 必须

##### 最大 长

##### 度

##### 描述 示例

##### 值

out_trade_no String (^) 是 (^32) 商户订单号,32个字符以内、 只能包含字
母、数字、下划线；需保证在商户端不重
复

##### 20150320010101001

product_code String (^) 是 64 销售产品码，与支付宝签约的产品码名
称。
注：目前仅支持
QUICK_MSECURITY_PAY

##### QUICK_MSECURI

##### TY_PAY

```
time_expire String 否 32 绝 对 超 时 时 间 ， 格 式 为 yyyy-MM-dd
HH:mm:ss
```
##### 2016 - 12 - 31 10:05:01

goods_type String (^) 否 2 商品主类型 :0-虚拟类商品,1-实物类商品 0
promo_params String (^) 否 512 优惠参数 promo_params
specified_channel String 否 128
指定渠道，目前仅支持传入pcredit
若由于用户原因渠道不可用，用户可选择
是否用其他渠道支付。
注：该参数不可与花呗分期参数同时传入
pcredit
seller_id^ String^ 否 (^28) 卖家支付宝用户ID。 如果该值为空，则
默认为商户签约账号对应的支付宝用户
ID

##### 2088102146225135

total_amount^ Price^ 是 (^9) 订单总金额，单位为元，精确 到小数点
后两位，取值范围 [0.01,100000000] 如果
同时传入了【打折金额】，【不可打折金
额】，【订单总金额】三者，则必须满足如
下条件：【订单总金额】=【打折金额】+
【不可打折金额】

##### 88.88^

subject^ String^ 是 (^256) 订单标题 Iphone6 16G^
body^ String^ 否 (^128) 对交易或商品的描述 Iphone6 16G^
goods_detail GoodsDe
tail[]
否 -^ 订单包含的商品列表信息，Json格式。 [{"goods_id":"apple-^
01","goods_name":"ip
ad","goods_category"
:"7788230","price":"2
0 00.00","quantity":"1"
}]
goods_id^ String^ 是 (^32) 商品的编号 apple- 01
alipay_goods_id^ String^ 否 (^32) 支付宝定义的统一商品编号 20010001
goods_name^ String^ 是 (^256) 商品名称 ipad^
quantity^ Number^ 是 (^10) 商品数量 1
price^ Price^ 是 (^9) 商品单价，单位为元 2000


goods_category^ String^ 否 (^24) 商品类目 34543238
categories_tree String (^) 否 128 商品类目树，从商品类目根节点到叶子节
点的类目id组成，类目id值使用|分割

##### 124868003|126

##### 232002|126252

##### 004

body^ String^ 否 (^1000) 商品描述信息 (^) 特价手机
show_url^ String^ 否 (^400) 商品的展示地址 (^) [http://www.alipay.co](http://www.alipay.co)
m/xxx.jpg
enable_pay_channels^ String^ 否 (^128) 可用渠道,用户只能在指定渠道范围内支
付，多个渠道以逗号分割
注，与 disable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
store_id^ String^ 否 (^32) 商户门店编号 NJ_001^
disable_pay_channels String (^) 否 (^128) 禁用渠道,用户不可用指定渠道 支付，多
个 渠 道 以 逗 号 分 割 ， 与
enable_pay_channels互斥。
pcredit,moneyFund,d
ebitCardExpress
extend_params^ ExtendPa
rams^
否^ -^ 业务扩展参数^ {“sys_service_provid
er_id”:”
2088511833207846”}
sys_service_provid
er_id
String (^) 否 (^64) 系统商编号 该参数作为系统商返佣数据
提取的依据，请填写系统商签约协议的
PID

##### 2088511833207846

hb_fq_num^ String^ 否 (^5) 使用花呗分期要进行的分期数 3
hb_fq_seller_perce
nt
String (^) 否 (^3) 使用花呗分期需要卖家承担的 手续费比
例的百分值，传入 100 代表100%

##### 100

```
industry_reflux_inf
o
```
String (^) 否 (^512) 行业数据回流信息。 {\"scene_code\":\"me
tro_tradeorder\",\"ch
annel\":\"xxxx\",\"sce
ne_data\":{\"asset_na
me\":\"ALIPAY\"}}
card_type^ String^ 否 (^32) 卡类型 S0JP0000^
timeout_express String (^) 否 (^6) 该笔订单允许的最晚付款时间，逾期将关
闭交易。取值范围：1m～15d。m-分钟，
h-小时，d-天，1c-当天（1c-当天的情况下，
无论交易何时创建，都在 0 点关闭）。 该
参数数值不接受小数点， 如1.5h，可转换
为 90m。
90m
royalty_info^ RoyaltyI
nfo^
否^ -^ 描述分账信息，json格式。^ { "royalty_type" :
"ROYALTY",
"royalty_detail_infos
"
:[{"serial_no":"1","t
ra
ns_out":"2088101126
765726","trans_in":"2
0881011267084
royalty_type String (^) 否 (^150) 分账类型 卖家的分账类型，目前只支持
传入ROYALTY（普通分账类型）。

##### ROYALTY

```
royalty_detail_info
s
```
```
Royalty
DetailInf
os[]
```
是 (^2500) 分账明细的信息，可以描述多条分账指
令，json数组。

##### -^

serial_no^ Number^ 否 (^9) 分账序列号，表示分账执行的顺序，必须
为正整数

##### 1

trans_in_type String (^) 否 (^24) 接受分账金额的账户类型： userId


```
userId：支付宝账号对应的支付宝唯一用户
号。
bankIndex：分账到银行账户的银行编号。
目前暂时只支持分账到一个银行编号。
storeId：分账到门店对应的银行卡编号。
默认值为userId。
```
batch_no String (^) 是 (^32) 分账批次号，目前需要和转入账号类型
为 bankIndex配合使用。

##### 123

out_relation_id^ String^ 否 (^64) 商户分账的外部关联号，用于关联到每一
笔分账信息，商户需保证其唯一性。如果
为空，该值则默认为“商户网站唯一订单
号+分账序列号”。

##### 20131124001

trans_out_type String (^) 是 (^24) 要分账的账户类型。目前只支持userId：
支付宝账号对应的支付宝唯一用户号。
userId
trans_out^ String^ 是 (^16) 如果转出账号类型为 userId，本参数为要
分账的支付宝账号对应的支付宝唯一用
户号。以 2088 开头的纯 16 位数字。

##### 2088101126765726

trans_in String (^) 是 (^28) 如果转入账号类型为 userId，本参数为接
受分账金额的支付宝账号对应的支付宝
唯一用户号，以 2088 开头的纯 16 位数字。
如果转入账号类型为bankIndex，本参数为
28 位的银行编号（商户和支付宝签约
时确定）。
如果转入账号类型为storeId，本参数为商
户的门店ID。

##### 2088101126708402

amount^ Number^ 是 (^9) 分账的金额，单位为元 0.1^
desc^ String^ 否 (^1000) 分账描述信息 (^) 分账测试 1
amount_percenta
ge
String^ 否 (^3) 分账的比例，值为 20 代表按20%的比例分
账

##### 100

sub_merchant SubMerc
hant

##### 否 -^ 二级商户信息,当前只对特殊银行机构特

##### 定场景下使用此字段

##### -

merchant_id^ String^ 是 (^16) 间连受理商户的支付宝商户编号，通过间
连商户入驻后得到。间连业务下必传，并
且需要 按规范传递受理商户编号。

##### 19023454

merchant_type String (^) 否 32 商户id类型， (^) alipay: 支付宝分配
的间连商户编号
merchant_order_no String (^) 否 (^32) 商户原始订单号，最大长度限制 32 位 20161008001
ext_user_info^ ExtUserI
nfo^

##### 否^ -^ 外部指定买家^ -^

```
name^ String^ 否 16 姓名
注： need_check_info=T时 该参数才有
效
```
##### 李明

mobile String (^) 否 (^20) 手机号 注：该参数暂不校验 16587658765
cert_type^ String^ 否 (^32) 身份证：IDENTITY_CARD、 护照：
PASSPORT、军官证：OFFICER_CARD、
士兵证：SOLDIER_CARD、户口本：
HOKOU等。
注： need_check_info=T时 该参数才有效

##### IDENTITY_CARD^

cert_no^ String^ 否 (^64) 证件号
注：need_check_info=T时该参数才有效

##### 362334768769238881


min_age^ String^ 否 (^3) 允许的最小买家年龄，买家年龄必须大于
等于所传数值
注：

1. need_check_info=T时该参数才有效
2. min_age为整数，必须大于等于 0

##### 18

fix_buyer String (^) 否 (^8) 是否强制校验付款人身份信息 T:强制校
验，F：不强制

##### F

need_check_info^ String^ 否 (^1) 是否强制校验身份信息 T:强制校
验，F：不强制

##### F^

business_params^ String^ 否 (^512) 商户传入业务信息，具体值要和支付宝约
定，应用于安全，营销等参数直传场景，
格式为json格式
{"data":"123"}
passback_params String (^) 否 512

##### 公用回传参数，如果请求时传递了该参

##### 数，则返回给商户时会回传该参数。支付

##### 宝只会在同步返回（包括跳转回商户网

##### 站）和异步通知时将该参数原样返回。本

```
参数必须进行UrlEncode之后才可以发送
给支付宝。
```
```
merchantBizType%3d
3C%26merchantBizN
o%3d2016010101111
```
org_pid String (^) 是 20 收单机构(例如银行）的标识，填写该机构
在支付宝的pid

##### 2088201916734621

##### 4.2.7.2.2 响应参数

##### 参数^ 类

##### 型^

##### 是否

##### 必须

##### 最大 长度 描述^ 示例值^

```
order_str^ String^ 是 -
本域长度随请
求报文总长度
增加而增加，
如机构希望控
制应答报文长
度，建议按照
请求报文总长
度的三倍限定
本域长度。^
```
```
app支付请求参
数字符串，主要
包含商户的订
单 信 息 ，
key=value 形
式，以&连接。^
```
```
app_id=2015052600090779&biz_content=%7B%22timeou
t_express%22%3A%2230m%22%2C%22seller_id%22%3
A%22%22%2C%22product_code%22%3A%22QUICK_
MSECURITY_PAY%22%2C%22total_amount%22%3A%
220.02%22%2C%22subject%22%3A%221%22%2C%22b
ody%22%3A%22%E6%88%91%E6%98%AF%E6%B5%
8B%E8%AF%95%E6%95%B0%E6%8D%AE%22%2C%
22out_trade_no%22%3A%22314VYGIAGG7ZOYY%22
%7D&charset=utf-8&method=alipay.trade.app.pay&sign_t
ype=RSA2&timestamp=2016- 08 - 15%2012%3A12%3A15
&version=1.0&sign=MsbylYkCzlfYLy9PeRwUUIg9nZPe
N9SfXPNavUCroGKR5Kqvx0nEnd3eRmKxJuthNUx4ER
CXe552EV9PfwexqW%2B1wbKOdYtDIb4%2B7PL3Pc9
4RZL0zKaWcaY3tSL89%2FuAVUsQuFqEJdhIukuKygrX
ucvejOUgTCfoUdwTi7z%2BZzQ%3D^
```
##### 4.2.7.3 业务错误码

##### 错误码^ 错误描述^ 解决方

##### 案^

##### ACQ.SYSTEM_ERROR 接口返回错误 请立即调用查询订单API，查询当前订单的

##### 状态，并根据订单状态决定下一步的操作

##### ACQ.ACCESS_FORBIDDEN 无权限使用接口 联系支付宝小二签约

##### ACQ.EXIST_FORBIDDEN_WOR

##### D 订单信息中包含违禁词^ 修改订单信息后，重新发起请求^

##### ACQ.PARTNER_ERROR 应用APP_ID填写错误 联系支付宝小二，确认APP_ID的状态


##### ACQ.TOTAL_FEE_EXCEED 订单总金额不在允许范围内 修改订单金额再发起请求

##### ACQ.BUYER_SELLER_EQUAL 买卖家不能相同 更换买家重新付款

##### ACQ.BUYER_ENABLE_STATUS

##### _FORBID 买家状态非法^

##### 用户联系支付宝小二，确认买家状态为什么

##### 非法

##### ACQ.SELLER_BEEN_BLOCKE

##### D 商家账号被冻结^ 联系支付宝小二，解冻账号^

##### ACQ.INVALID_PARAMETER 参数无效 若存在参数无效具体错误信息描述，请参考

##### 描述检查请求参数后，重新发起

##### ACQ.TRADE_HAS_CLOSE 交易已经关闭

##### 确认该笔交易信息是否为当前买家的已存

##### 订单，如果是则认为交易已经关闭，如果不

##### 是则更换商家订单号后，重新发起请求

##### ACQ.CONTEXT_INCONSISTEN

##### T 交易信息被篡改^

##### 确认该笔交易信息是否为当前买家的已存

##### 订单，如果是则认为本次请求参数与已存交

##### 易不一致，如果不是则更换商家订单号后，

##### 重新发起请求

##### ACQ.TRADE_BUYER_NOT_MA

##### TCH 交易买家不匹配^

##### 该笔交易已经在支付宝端创建，但请求买家

##### 与已存交易中的买家不一致。请商户确认本

##### 次请求是否与已存交易有关，若为同一笔交

##### 易，则只能用原始买家付款，若无关更换商

##### 家订单号后，重新发起请求

##### ACQ.TRADE_HAS_SUCCESS 交易已被支付

##### 确认该笔交易信息是否为当前买家的，如果

##### 是则认为交易付款成功，如果不是则更换商

##### 家订单号后，重新发起请求

##### 4.2.7.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类

##### 型^

##### 描述 默认开启

```
tradeStatus.TRADE_CLOSED^ 交易关闭^ 无^
tradeStatus.TRADE_FINISHED^ 交易完结^ 无^
tradeStatus.TRADE_SUCCESS 支付成功 是
tradeStatus.WAIT_BUYER_PAY^ 交易创建^ 无^
```
```
触发通知字段
参数^ 类型^ 是否
必须
```
##### 最大

##### 长度

##### 描述^ 示例

##### 值

sign String (^) 是 - (^) 签名
sign_type String (^) 是 - (^) 本域不出现时，默认为RSA2
算法。
银联生成签名字符串所使用的
签名算法类型，本域值同收单
请求银联上送的sign_type。
RSA2
cert_id String 是 - 签名证书序列号
out_trade_no String (^) 是 - (^) 商户订单号 -
out_biz_no^ String^ 是 -^ 商户业务号 -^
buyer_logon_id String (^) 是 - (^) 买家支付宝账号 -
seller_id^ String^ 是 -^ 卖家支付宝用户号 -^
seller_email^ String^ 是 -^ 卖家支付宝账号 -^
trade_status^ String^ 是 -^ 交易状态 -^
total_amount^ String^ 是 -^ 订单金额 -^


```
refund_fee^ String^ 是 -^ 退款金额 -^
subject^ String^ 是 -^ 订单标题 -^
body^ String^ 是 -^ 商品描述 -^
gmt_create^ String^ 是 -^ 交易创建时间 -^
gmt_payment^ String^ 是 -^ 交易付款时间 -^
gmt_refund^ String^ 是 -^ 交易退款时间 -^
gmt_close^ String^ 是 -^ 交易结束时间 -^
fund_bill_list^ String^ 是 -^ 支付金额信息 -^
receipt_amount^ String^ 是 -^ 商家在交易中实际收到的款项
，单位为元，
```
##### -^

```
invoice_amount^ String^ 是 -^ 用户在交易中支付的可开具发
票的金额
```
##### -^

buyer_pay_amount String (^) 是 - (^) 用户在交易中支付的金额 -
point_amount^ String^ 是 -^ 使用积分宝支付的金额 -^
buyer_id^ String^ 是 -^ 买家的支付宝唯一用户号
（ 2088 开头的 16 位纯数字）

##### -^

```
voucher_detail_list^ String^ 是 -^ 本次交易使用的券明细列表 -^
trade_no^ String^ 是 -^ 银联交易号 -^
app_id^ String^ 是 -^ 支付宝分配给开发者的应用Id -^
```
charge_flags String (^) 否 64 费率活动标识，当交易享受活
动优惠费率时，返回该活动的
标识；
( 1 )蓝海活动优惠费率 0 ，值为
bluesea_1
( 2 )特殊行业优惠费率 0 ，值为
industry_special_00
( 3 )特殊行业优惠费率千一，值
为industry_special_01
bluesea_ 1
passback_params String (^) 否 512
公用回传参数，如果请求时传
递了该参数，则返回给商户时
会回传该参数。支付宝只会在
同步返回（包括跳转回商户网
站）和异步通知时将该参数原
样 返 回 。 本 参 数 必 须 进 行
UrlEncode 之后才可以发送给
支付宝。
merchantBizType%3d
3C%26merchantBizN
o%3d2016010 101111

#### 4.2.8 统一收单交易撤销接口

##### 4.2.8.1 场景说明

##### 支付交易返回失败或支付系统超时，调用该接口撤销交易。如果此订单用户支付失败，银联系统会将此订

##### 单关闭；如果用户支付成功，银联系统会将此订单资金退还给用户。

##### 注意：只有发生支付系统超时或者支付结果未知时可调用撤销，其他正常支付的单如需实现相同功能请调

##### 用申请退款API。提交支付交易后调用【查询订单API】，没有明确的支付结果再调用【撤销订单API】。

##### 4.2.8.2 接口说明

```
公共请求参数中的method填写alipay.trade.cancel。
```
##### 4.2.8.2.1 请求参数


参数 类型 (^) 是否
必须

##### 最大 长度 描述^ 示例

##### 值^

out_trade_no String (^) 否 (^32) 原支付请求的商户订单号,和银联
交易号不能同时为空

##### 20150320010101001

trade_no^ String^ 否 (^64) 银联交易号，和商户订单号不能同
时为空

##### 2014112611001004680

##### 073956707

org_pid String (^) 是 20 收单机构(例如银行)的标识，填写
该机构在支付宝的pid

##### 2088201916734621

##### 4.2.8.2.2 响应参数

参数 类型 (^) 是否
必须

##### 最大 长度 描述^ 示例

##### 值^

trade_no String (^) 是 64 银联交易号 2013112011001004330
000121536
out_trade_no^ String^ 是 (^32) 商户订单号 6823789339978248
retry_flag^ String^ 是 (^1) 是否需要重试 N^
action^ String^ 是 (^10) 本 次 撤 销 触 发 的 交 易 动 作
close： 关 闭 交 易 ， 无 退 款
refund：产生了退款
close^
gmt_refund_pay^ Date^ 否 (^32) 退款支付时间 2014 - 11 - 27 15:45:5 7

##### 4.2.8.3 业务错误码

##### 错误码^ 错误

##### 描述^

##### 解决方

##### 案^

AQC.SYSTEM_ERROR^ 系统错误 (^) 请使用相同的参数再次调用
ACQ.INVALID_PARAME
TER

##### 参数无效 请求参数有错，重新检查请求后，再调用撤

##### 销^

##### ACQ.SELLER_BALANC

##### E_NOT_ENOUGH

##### 商户的支付宝账户中无足够的资金进行

##### 撤销

##### 商户支付宝账户充值后重新发起撤销即可^

##### ACQ.REASON_TRADE_

##### BEEN_FREEZEN

##### 当前交易被冻结，不允许进行撤销^ 联系银联，确认该笔交易的具体情况^

##### 4.2.8.4 异步通知触发

##### 无。

#### 4.2.9 统一收单交易退款接口

##### 4.2.9.1 场景说明

##### 当交易发生之后一段时间内，由于买家或者卖家的原因需要退款时，卖家可以通过退款接口将支付款退还

##### 给买家，银联将在收到退款请求并且验证成功之后，按照退款规则将支付款按原路退到买家帐号上。交易超

##### 过约定时间（签约时设置的可退款时间）的订单无法进行退款。银联退款支持单笔交易分多次退款，多次退

##### 款需要提交原支付订单的商户订单号和设置不同的退款单号。一笔退款失败后重新提交，要采用原来的退款

##### 单号。总退款金额不能超过用户实际支付金额。


##### 4.2.9.2 接口说明

```
公共请求参数中的method填写alipay.trade.refund。
```
##### 4.2.9.2.1 请求参数

##### 参数^ 类型^ 是否

##### 必须

##### 最大

##### 长度

##### 描述^ 示例

##### 值^

out_trade_no^ String^ 否 (^32) 订单支付时传入的商户订单
号,不能和^ trade_no 同时为
空。

##### 20150320010101001

trade_no String (^) 否 (^64) 银联交易号，和商户订单号
不能同时为空

##### 2014112611001004680

##### 073956707

refund_amount Price (^) 是 (^11) 需要退款的金额，该金额不
能大于订单金额,单位为元，
支持两位小数

##### 200.1 2

refund_currency^ String^ 否 (^8) 订单退款币种信息 CNY^
refund_reason^ String^ 否 (^256) 退款的原因说明 (^) 正常退款
out_request_no^ String^ 是 (^32) 标识一次退款请求，需要保
证唯一。

##### HZ01RF001^

operator_id^ String^ 否 (^30) 商户的操作员编号 OP001^
store_id^ String^ 否 (^32) 商户的门店编号 NJ_S_001^
terminal_id^ String^ 否 (^32) 商户的终端编号 NJ_T_ 001
goods_detail GoodsDetail[] (^) 否 - (^) 退款包含的商品列表信息
，Json格式。

##### -

goods_id^ String^ 是 (^32) 商品的编号 apple- 01
alipay_goods_id^ String^ 否 (^32) 支付宝定义的统一商品编号 20010001
goods_name^ String^ 是 (^256) 商品名称 ipad^
quantity^ Number^ 是 (^10) 商品数量 1
price^ Price^ 是 (^9) 商品单价，单位为元 2000
goods_category String (^) 否 (^24) 商品类目 34543238
categories_tree String (^) 否 128 商品类目树，从商品类目根
节点到叶子节点的类目id组
成，类目id值使用|分割

##### 124868003|126

##### 232002|126252

##### 004

body^ String^ 否 (^1000) 商品描述信息 (^) 特价手机
show_url String (^) 否 400 商品的展示地址 (^) [http://www.alipay.co](http://www.alipay.co)
m/xxx.jpg
org_pid String (^) 是 20 收单机构(例如银行)的标识，
填写该机构在支付宝的pid

##### 2088201916734621

orgi_trans String (^) 否 (^10) 存量交易标志，默认非存量
交易

##### ORGINAL – 表

##### 示交易

##### 4.2.9.2.2 响应参数

##### 参

##### 数^

类型 (^) 是否
必须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

```
trade_no^ String^ 是 64 20131120110010043300001
21536
```
##### 银联交易号^

out_trade_no^ String^ 是 (^32) 商户订单号 6823789339978248
open_id^ String^ 是 (^32) 买家支付宝用户号，该参数已
废弃，请不要使用

##### 2088102122524333

buyer_logon_id^ String^ 是 (^100) 用户的登录id 159****5620^


fund_change^ String^ 是 (^1) 本次退款是否发生了资金变化 Y^
refund_fee^ Price^ 是 (^11) 退款总金额 88.88^
refund_currency^ String^ 否 (^8) 退款币种信息 CNY^
gmt_refund_pay^ Date^ 是 (^32) 退款支付时间 2014 - 11 - 27 15:45:57^
refund_detail_item_list^ TradeFundBill[]^ 否 -^ 退款使用的资金渠道 -^
fund_channel^ String^ 是 (^32) 交易使用的资金渠道，详见
<ahref="https://doc.open.alipay.c
om/doc2/detail?treeId=26&articl
eId=103259&docType=1">支付
渠道列表</a>^

##### ALIPAYACCOUN

##### T^

bank_code^ String^ 否 (^10) 银行卡支付时的银行代码 CEB^
amount^ Price^ 是 (^32) 该支付工具类型所使用的金额 10
real_amount^ Price^ 否 (^11) 渠道实际付款金额 11.21^
fund_type String (^) 否 (^32) 渠道所使用的资金类型,目前只
在 资 金 渠 道(fund_channel)是
银行卡渠道(BANKCARD)的情
况 下 才 返 回 该 信 息
(DEBIT_CARD: 借记
卡 ,CREDIT_CARD: 信用
卡,MIXED_CARD:借 贷 合 一
卡)

##### DEBIT_CARD

store_name^ String^ 否 (^512) 交易在支付时候的门店名称 (^) 望湘园联洋店
buyer_user_id^ String^ 是 (^28) 买家在支付宝的用户id 2088101117955611
send_back_fee String (^) 否 (^11) 本次商户实际退回金额 注：在
签约收单产品时需勾选 “返回
资金明细”才会返回

##### 1.8

```
present_refund_buyer_amo
unt^
```
String^ 否 (^11) 本次退款金额中买家退款金额 88.88^
present_refund_discount_a
moun t
String (^) 否 (^11) 本次退款金额中平台优惠退款
金额

##### 88.88

```
present_refund_mdiscount
_amo unt
```
String (^) 否 (^11) 本次退款金额中商家优惠退款
金额

##### 88.88

##### 4.2.9.3 业务错误码

##### 错误码^ 错误描述^ 解决方

##### 案^

ACQ.SYSTEM_ERROR^ 系统错误 (^) 请使用相同的参数再次调用
ACQ.INVALID_PARAME TER 参数无效^ 请求参数有错，重新检查请求后，再调用退
款
ACQ.SELLER_BALANC
E_NOT_ENOUGH

##### 卖家余额不足 商户支付宝账户充值后重新发起退款即可

```
ACQ.REFUND_AMT_N
OT_EQUAL_TOTAL
```
退款金额超限 (^) 检查退款金额是否正确，重新修改请求后，
重新 发起退款
ACQ.REASON_TRADE_
BEEN_FREEZEN

##### 请求退款的交易被冻结^ 联系银联，确认该笔交易的具体情况^

##### ACQ.TRADE_NOT_EXI ST 交易不存在^ 检查请求中的交易号和商户订单号是否正

##### 确，确认后重新发起

##### ACQ.TRADE_HAS_FINI SHED 交易已完结^ 该交易已完结，不允许进行退款，确认请

##### 求的退款的交易信息是否正确

##### ACQ.TRADE_STATUS_ ERROR 交易状态非法^ 查询交易，确认交易是否已经付款^


```
ACQ.DISCORDANT_RE
PEAT_REQUEST
```
不一致的请求 (^) 检查该退款号是否已退过款或更换退款号
重新发起请求
ACQ.REASON_TRADE_
REFUND_FEE_ERR

##### 退款金额无效^ 检查退款请求的金额是否正确^

##### ACQ.TRADE_NOT_ALL

##### OW_REFUND

当前交易不允许退款 (^) 检查当前交易的状态是否为交易成功状态
以及签约的退款属性是否允许退款，确认
后，重新发起请求
ACQ.REFUND_FEE_ER ROR 交易退款金额有误^ 请检查传入的退款金额是否正确^

##### 4.2.9.4 异步通知触发

##### 无。

#### 4.2.10 统一收单交易退款查询

##### 4.2.10.1 场景说明

```
收单机构可使用该接口查询自已通过alipay.trade.refund提交的退款请求是否执行成功。 该接口的返回码
10000 ，仅代表本次查询操作成功，不代表退款成功。如果该接口返回了查询数据，则代表退款成功，如果没
有查询到则代表未退款成功，可以调用退款接口进行重试。重试时请务必保证退款请求号一致。
```
##### 4.2.10.2 接口说明

```
公共请求参数中的method填写alipay.trade. fastpay.refund.query。
```
##### 4.2.10.2.1 请求参数

##### 参

##### 数^

##### 类

##### 型^

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值^

trade_no^ String^ 否 (^64) 银联交易号，和商户订单号不能
同时为空

##### 20150320010101001

out_trade_no String (^) 否 (^32) 订单支付时传入的商户订单号
,和银联交易号不能同时为空。
Trade_no,out_trade_no如果同时
存在优先取trade_no

##### 2014112611001004680

##### 073956707

out_request_no^ String^ 是 (^32) 请求退款接口时，传入的退款
请求号

##### 2014112611001004680

##### 073956707

org_pid String (^) 是 20 收单机构(例如银行)的标识，填
写该机构在支付宝的pid

##### 2088201916734621

orgi_trans String (^) 否 (^10) 存量交易标志，默认非存量交易 ORGINAL – 表
示交易

##### 4.2.10.2.2 响应参数

##### 参

##### 数^

##### 类

##### 型^

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述 示例值

trade_no^ String^ 否 (^64) 银联交易号 2014112611001004680
073956707
out_trade_no String (^) 否 (^32) 创建交易传入的商户订单号 20150320010101001
out_request_no^ String^ 否 (^32) 本笔退款对应的退款请求号 20150320010101001
refund_reason^ String^ 否 (^256) 发起退款时，传入的退款原因 (^) 用户退款请求
total_amount^ Price^ 否 (^11) 该笔退款所对应的交易的订单
金额

##### 100.20^


refund_amount^ Price^ 否 (^11) 本次退款请求，对应的退款金
额

##### 12.33^

gmt_refund_pay^ Date^ 否 (^32) 退款支付时间 2014 - 11 - 27 15:45:57^
refund_detail_item_list^ TradeFundB
ill[]^

##### 否^ -^ 退款使用的资金渠道^ -^

fund_channel String (^) 是 (^32) 交易使用的资金渠道，详见
<ahref="https://doc.open.alipay.c
om/doc2/detail?treeId=26&articl
eId=103259&docType=1">支付
渠道列表</a>

##### ALIPAYACCOUN

##### T^

bank_code^ String^ 否 (^10) 银行卡支付时的银行代码 CEB^
amount^ Price^ 是 (^32) 该支付工具类型所使用的金额 10
real_amount^ Price^ 否 (^11) 渠道实际付款金额 11.21^
fund_type String (^) 否 (^32) 渠道所使用的资金类型,目前只
在 资 金 渠 道(fund_channel)是
银行卡渠道(BANKCARD)的情
况 下 才 返 回 该 信 息
(DEBIT_CARD: 借记
卡 ,CREDIT_CARD: 信用
卡,MIXED_CARD:借 贷 合 一
卡)

##### DEBIT_CARD

send_back_fee^ String^ 否 (^11) 本次商户实际退回金额 注：在
签约收单产品时需勾选 “返回
资金明细”才会返回

##### 1.8^

industry_sepc_detail String (^) 否 (^4096) 行业特殊信息（例如在医保卡
支付退款中，医保局向商户返
回医疗信息）。
[{“bizType”:”REFUN
D”,”modelName”:”tra
deCancelContext”,”co
ntextData”:{“response
_content”:”{\”WxRes
Toll\”:{\”dealID\”:\”\”
,}}”}}]
present_refund_buyer_am
ount^
String^ 否 (^11) 本次退款金额中买家退款金额 88.88^
present_refund_discount_
amount
String (^) 否 (^11) 本次退款金额中平台优惠退款
金额

##### 88.88

```
present_refund_mdiscou
nt_amount
```
String (^) 否 (^11) 本次退款金额中商家优惠退款
金额

##### 88.88

##### 4.2.10.3 业务错误码

##### 错误码^ 错误描述^ 解决方

##### 案^

ACQ.SYSTEM_ERROR^ 系统错误 (^) 重新发起请求
ACQ.INVALID_PARAME TER 参数无效^ 检查请求参数，修改后重新发起请求^
TRADE_NOT_EXIST^ 查询退款的交易不存在 (^) 确认交易号是否为正确的银联交易号，修
改后重新查询

##### 4.2.10.4 异步通知触发

##### 无。


#### 4.2.11 统一收单交易关闭接口

##### 4.2.11.1 场景说明

##### 用于交易创建后，用户在一定时间内未进行支付，可调用该接口直接将未付款的交易进行关闭。

##### 4.2.11.2 接口说明

```
公共请求参数中的method填写alipay.trade.close。
```
##### 4.2.11.2.1 请求参数

##### 参

##### 数^

##### 类

##### 型^

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

trade_no String (^) 否 (^64) 该交易在银联系统中的交易
流水号。最短 16 位，最长 64
位。和out_trade_no不能同 时
为 空 ， 如 果 同 时 传 了
out_trade_no和 trade_no，则以
trade_no为 准。

##### 2013112611001004680

(^073956707)
out_trade_no String (^) 否 32 订单支付时传入的商户订单号
,和银联交易号不能同时为空
。 trade_no,out_trade_no如
果同时存在优先取trade_no

##### HZ0120131127001

operator_id^ String^ 否 (^28) 卖家端自定义的的操作员 ID YX01^
org_pid String (^) 是 20 收单机构(例如银行)的标识，填
写该机构在支付宝的pid

##### 2088201916734621


##### 4.2.11.2.2 响应参数

##### 参

##### 数

##### 类

##### 型

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值

trade_no String (^) 否 64 银联交易号 2013112111001004500
000675971
out_trade_no^ String^ 否 (^32) 创建交易传入的商户订单号 YX_00
1

##### 4.2.11.3 业务错误码

##### 错误码^ 错误描述^ 解决方案^

ACQ.SYSTEM_ERROR^ 系统异常 (^) 重新发起请求
ACQ.TRADE_NOT_EXI
ST

##### 交易不存在^ 检查传入的交易号和外部订单号是否正确，修

##### 改后再重新发起

##### ACQ.TRADE_STATUS_

##### ERROR

##### 交易状态不合法^ 检查当前交易的状态是不是等待买家付付款，

##### 只有等待买家付款状态下才能发起交易关闭。

```
ACQ.INVALID_PARAME
TER
```
##### 参数无效 检查请求参数，修改后重新发起请求

##### 4.2.11.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类型^ 描述^ 默认开启^

```
tradeStatus.TRADE_CLOSE
D^
```
##### 交易关闭^ 是^

```
tradeStatus.TRADE_SUCCE
SS^
```
##### 交易成功^ 无^

##### 触发通知字段

参数 类型 (^) 是否 必
须

##### 最大 长

##### 度

##### 描述 示例值

sign String (^) 是 - 签名
sign_type String (^) 是 - (^) 本域不出现时，默认为RSA2算
法。
银联生成签名字符串所使用的
签名算法类型，本域值同收单请
求银联上送的sign_type。
RSA2
cert_id String (^) 是 - 签名证书序列号
trade_no^ String^ 是 -^ 银联交易号 -^
app_id^ String^ 是 -^ 支付宝分配给开发者的应用Id -^
out_trade_no^ String^ 是 -^ 商户订单号 -^
out_biz_no^ String^ 是 -^ 商户业务号 -^
buyer_logon_id^ String^ 是 -^ 买家支付宝账号 -^
seller_id^ String^ 是 -^ 卖家支付宝用户号 -^
seller_email^ String^ 是 -^ 卖家支付宝账号 -^
trade_status^ String^ 是 -^ 交易状态 -^
total_amount^ String^ 是 -^ 订单金额 -^
refund_fee^ String^ 是 -^ 退款金额 -^
subject^ String^ 是 -^ 订单标题 -^
body^ String^ 是 -^ 商品描述 -^
gmt_create^ String^ 是 -^ 交易创建时间 -^
gmt_payment^ String^ 是 -^ 交易付款时间 -^


```
gmt_refund^ String^ 是 -^ 交易退款时间 -^
gmt_close^ String^ 是 -^ 交易结束时间 -^
fund_bill_list^ String^ 是 -^ 支付金额信息 -^
receipt_amount^ String^ 是 -^ 商家在交易中实际收到的款项，
单位为元
```
##### -^

```
invoice_amount^ String^ 是 -^ 用户在交易中支付的可开具发
票的金额
```
##### -^

```
buyer_pay_amount^ String^ 是 -^ 用户在交易中支付的金额 -^
point_amount^ String^ 是 -^ 使用积分宝支付的金额 -^
buyer_id^ String^ 是 -^ 买家的支付宝用户Uid -^
```
charge_flags String (^) 否 64 费率活动标识，当交易享受活动
优惠费率时，返回该活动的标识；
( 1 )蓝海活动优惠费率 0 ，值为
bluesea_1
( 2 )特殊行业优惠费率 0 ，值为
industry_special_00
( 3 )特殊行业优惠费率千一，值为
industry_special_01
bluesea_ 1

#### 4.2.12 资金授权冻结接口

##### 4.2.12.1 场景说明

##### 收银员使用扫码设备读取用户支付宝钱包“付款码”后，将条码信息和订单信息通过本接口上送至支付宝发

##### 起资金冻结。

##### 4.2.12.2 接口说明

公共请求参数中的method填写alipay.fund.auth.order.freeze。

##### 4.2.12.2.1 请求参数

##### 参数 类型 是否^ 必

##### 须

##### 最大 长

##### 度

##### 描述 示例值

```
auth_code String 是 32
支付宝app的付款码，25~30开
头，长度为16~24位的数字
```
##### 287634438256

##### 64394

```
auth_code_type String 是 32
```
```
授权码类型，目前支持"bar_cod
e"和"security_code"，分别对应
付款码和刷脸场景
```
```
bar_code
```
out_order_no String (^) 是 32

##### 商户授权资金订单号 ,不能包

##### 含除中文、英文、数字以外的字

##### 符，创建后不能修改，需要保证

##### 在商户端不重复。

##### 807773525593

##### 8023

```
out_request_no String 是 32
```
##### 商户本次资金操作的请求流水

##### 号，用于标示请求流水的唯一

##### 性，不能包含除中文、英文、数

##### 字以外的字符，需要保证在商户

##### 端不重复。

##### 807773525593

##### 8032

order_title String (^) 是 100 业务订单的简单描述，如商品名
称等。 预授权冻结^
amount Price 是 11

##### 需要冻结的金额，单位为：元（人

##### 民币），精确到小数点后两位取

##### 值范围：[0.01,100000000.00]

##### 100.00


pay_timeout String 是 5

##### 该笔订单允许的最晚付款时间，

##### 逾期将关闭该笔订单取值范围：

```
1m～15d。m-分钟，h-小时，d-
天。 该参数数值不接受小数点，
如 1.5h，可转换为90m如果为
空，默认15m
```
```
2d
```
extra_param String 是 300

##### 业务扩展参数，用于商户的特定

```
业务信息的传递，json格式。
```
1. 间联模式必须传入二级商户
ID，key为secondaryMerchantId；
2. 当面资金授权业务对应的类
目，key为category，value由支
付宝分配，酒店业务传"HOTEL
"，若使用信用预授权，则该值
必传；
3. 外部商户的门店编号，key为
outStoreCode，间联场景下建议
传；
4. 外部商户的门店简称，key为
outStoreAlias，可选。
5. 间联模式必须传入二级商户
所属机构id，key为requestOrgI
d；
6. 信用服务Id，key为serviceI
d，信用场景下必传，具体值需
要联系芝麻客服。

```
{"secondaryM
erchantId":"20
88xx34"}
```
product_code String 是 32

##### 销售产品码，后续新接入预授权

##### 当面付的业务，本字段取值固定

##### 为PRE_AUTH。

##### PRE_AUTH

trans_currency

```
String
否 8
```
```
标价币种, amount 对应的币种
单位。支持澳元：AUD, 新西兰
元：NZD, 台币：TWD, 美元：
USD, 欧元：EUR, 英镑：GBP
```
##### USD

settle_currency

String (^) 否
8

##### 商户指定的结算币种。支持澳

##### 元：AUD, 新西兰元：NZD, 台

##### 币：TWD, 美元：USD, 欧元：

##### EUR, 英镑：GBP

##### USD

scene_code

String (^) 否
10 场景码，预授权刷脸场景取值为
HOTEL，其他不需填写

##### HOTEL

terminal_params String 否 500

```
机具管控sdk加签参数，参数示例
"terminal_params":"{"terminalTyp
e":"IOT","signature":"QIIAX8Dqb
FbNf2oe97FI1RSLAycC/tU4GVje
r3bN8K4qLtAB","apdidToken":"x
PA3ptuArwYc3F6Va_pjVwv7Qx
7Tg5TJdrA_Jb_moYte9AqGZgE
AAA==","hardToken":"","time":"
1539847253","bizCode":"1100020
0040004000121","bizTid":"01010
0F01i1XyacMgpOinHerfdBw1xA
9dNDocctlnqhLD8lfODr1A7Q","s
ignedKeys":"authCode,totalAmou
nt,apdidToken,hardToken,time,biz
Code,bizTid"}"
```
```
{"terminalTyp
e":"IOT","sign
ature":"QIIAX
8DqbFbNf2oe
97FI1RSL",
"apdidToken":
"xPA3ptuArw
Yc3F6Va","sig
nedKeys":"aut
h,apdidTo
ken"}
```

```
enable_pay_channels String 否 128
```
##### 商户可用该参数指定用户可使

##### 用的支付渠道，本期支持商户可

##### 支持三种支付渠道，余额宝（M

##### ONEY_FUND）、花呗（PCRE

##### DIT_PAY）以及芝麻信用（CR

##### EDITZHIMA）。商户可设置一

##### 种支付渠道，也可设置多种支付

##### 渠道。

```
[{"payChannelT
ype":"PCREDI
T_PAY"},{"pay
ChannelType":
"MONEY_FU
ND"}]
```
```
identity_params String 否 300
```
##### 用户实名信息参数，包含：姓名+

```
身份证号的hash值、指定用户的u
id。商户传入用户实名信息参数，
支付宝会对比用户在支付宝端的
实名信息。
姓名+身份证号hash值使用SHA2
56 摘要方式与UTF8编码,返回十
六进制的字符串。
identity_hash和alipay_user_id都
是可选的，如果两个都传，则会
先校验identity_hash，然后校验
alipay_user_id。其中identity_ha
sh的待加密字样如"张三 456649
8798498498498498"
```
```
{"identity_has
h":"ABCDEF
Dxxxxxx","ali
payuser_id":"2
088xxx"}
```
org_pid String (^) 是 20 收单机构(例如银行)的标识，填
写该机构在支付宝的pid

##### 20882019167

##### 34621

##### 4.2.12.2.2 响应参数

##### 参数 类型 是否必

##### 须

##### 最大长

##### 度

##### 描述 示例值

```
auth_no String 是^64 支付宝的资金授权订单号^
```
##### 20140708000

##### 02001550000

##### 014417

```
out_order_no String 是 32 商户的授权资金订单号
```
##### 49771646666

##### 34053

```
operation_id String 是 64 支付宝的资金操作流水号
```
##### 20140708000

##### 32850551

```
out_request_no String 是^32
```
##### 商户本次资金操作的请求流水

##### 号

##### 20140707001

##### 66653

```
amount Price 是 11
```
##### 本次操作冻结的金额，单位为：

##### 元（人民币），精确到小数点

##### 后两位

##### 100.00


status String 是 20

##### 资金预授权明细的状态目前支

##### 持： INIT：初始SUCCESS:

##### 成功CLOSED：关闭

##### SUCCESS

payer_user_id String 是^32 付款方支付宝用户号^

##### 20881020002

##### 75885

payer_logon_id String 是^100

```
收款方支付宝账号（Email或手
机号）
```
```
test***@alite
st.com
```
gmt_trans Date 否^20

##### 资金授权成功时间格式：YYY

##### Y-MM-DD HH:MM:SS

##### 2014 - 09 - 15 1

##### 1:23:04

pre_auth_type String 否 20

##### 预授权类型，目前支持CREDI

##### T_AUTH(信用预授权);商户可

##### 根据该标识来判断该笔预授权

##### 的类型，当返回值为"CREDIT

##### _AUTH"表明该笔预授权为信

##### 用预授权，没有真实冻结资金；

##### 当返回值为空或者不为"CRED

##### IT_AUTH"则表明该笔预授权

##### 为普通资金预授权，会冻结用

##### 户资金。

##### CREDIT_AU

##### TH

trans_currency String 否 8

```
标价币种, amount 对应的币
```
```
种单位。支持澳元：AUD, 新
```
```
西兰元：NZD, 台币：TWD,
美元：USD, 欧元：EUR, 英镑
```
```
：GBP
```
##### USD

credit_amount Price 否 11

##### 本次冻结操作中信用解冻金额

##### ，单位为：元（人民币），精

##### 确到小数点后两位

##### 0 .01

fund_amount Price 否 11

##### 本次冻结操作中自有资金解冻

##### 金额，单位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01


##### 4.2.12.3 业务错误码

##### 错误码 错误描述 解决方案

##### ILLEGAL_ARGUMENT

##### 授权失败，预授权冻结参数异常

##### 或参数缺失，请顾客刷新付款码

##### 后重新收款

##### 检查请求参数，修改后重新发起请求

##### EXIST_FORBIDDEN_WOR

##### D

##### 授权失败，订单信息中包含违禁

##### 词

##### 修改订单信息后，重新发起请求

##### ACCESS_FORBIDDEN

##### 授权失败，本商户没有权限使用

##### 该产品，建议顾客使用其他方式

##### 付款

##### 未签约条码支付或者合同已到期

##### UNIQUE_VIOLATION

##### 授权失败，商户订单号重复，请

##### 收银员取消本笔订单并重新授权

##### 更换商户的授权资金订单号后，重新发

##### 起请求

##### PAYER_USER_STATUS_LI

##### MIT

##### 授权失败，顾客账户暂时无法支

##### 付，建议顾客使用其他方式付款

##### 买家支付宝账户受限，请登录支付宝认

##### 证升级，详情咨询 95188

##### PAYER_NOT_EXIST

##### 授权失败，获取顾客账户信息失

##### 败，请顾客刷新付款码后重新收

##### 款

##### 用户刷新条码后，重新扫码发起请求

##### PAYMENT_AUTH_CODE_I

##### NVALID

##### 授权失败，获取顾客账户信息失

##### 败，请顾客刷新付款码后重新收

##### 款，如再次授权失败

##### 用户刷新条码后，重新扫码发起请求

##### MONEY_NOT_ENOUGH

##### 授权失败，顾客余额不足，建议

##### 顾客充值完成后再进行付款

##### 买家绑定新的银行卡或者支付宝余额有

##### 钱后再发起支付

##### ORDER_ALREADY_CLOSE

##### D

##### 授权失败，本笔授权订单已关闭

##### 更换商户授权资金订单号后，重新发起

##### 请求

##### FREEZE_ALREADY_SUCC

##### ESS

##### 授权失败，授权订单已经冻结成

##### 功，请勿重复授权

##### 确认该笔预授权信息是否为当前付款方

##### 的，如果是则认为授权成功，如果不是

##### 则更换商家授权资金订单号后，重新发

##### 起请求

##### ERROR_BALANCE_PAYM

##### ENT_DISABLE

##### 授权失败，顾客余额支付功能开

##### 关关闭，请用户打开余额支付功

##### 能开关

##### 用户打开余额支付开关后，再重新进行

##### 支付


##### PULL_MOBILE_CASHIER_

##### FAIL

##### 授权失败，顾客手机唤起收银台

##### 失败，请顾客检查手机网络，刷

##### 新付款码后重新预授权，并让顾

##### 客在付款码页面等待确认

##### 用户检查手机网络，刷新条码后，重新

##### 扫码发起请求

##### USER_FACE_PAYMENT_S

##### WITCH_OFF

##### 授权失败，顾客当面付付款开关

##### 关闭，请用户在手机上打开当面

##### 付付款开关

##### 让用户在手机上打开当面付付款开关

##### SYSTEM_ERROR 系统错误

##### 请立即调用查询订单 API，查询当前订

##### 单的状态，并根据订单状态决定下一步

##### 的操作

##### ORDER_ALREADY_FINISH

##### 授权失败，本笔授权订单已经完

##### 结，无法再进行资金操作

##### 更换商家授权资金订单号后，重新发起

##### 请求

##### PAYEE_NOT_EXIST 授权失败，收款方账号不存在

##### 确认该收款方账号是注册过的支付宝账

##### 号

##### PAYEE_USER_STATUS_LI

##### MIT

##### 授权失败，收款方账号异常

##### 卖家支付宝账户受限，请登录支付宝认

##### 证升级，详情咨询 95188

##### PAYER_PAYEE_EQUAL

##### 授权失败，收付款方信息不能相

##### 同

##### 请商家基于业务诉求更换付款方或收款

##### 方信息

##### NO_PAYMENT_INSTRUME

##### NTS_AVAILABLE

##### 授权失败，用户没用可用的支付

##### 工具

##### 请用户更换其它付款方式

##### CLIENT_VERSION_NOT_M

##### ATCH

##### 授权失败，顾客手机支付宝客户

##### 端版本过低，请更新到最新版本

##### 请用户更新到最新版本的手机支付宝客

##### 户端

##### UNSUPPORT_ORDER_

##### AMOUNT

##### 不支持的订单金额

##### 确认订单金额合法后，更换订单号并重

##### 新发起请求

##### FORBIDDEN_MERCHA

##### NT_INDUSTRY

##### 订单所属行业MCC被拦截 请与支付宝客服联系

##### CURRENCY_VERIFICAT

##### ION_FAIL

##### 币种校验失败

##### 确认标价币种、结算币种正确后重新发

##### 起请求


##### RESTRICTED_MERCHA

##### NT_INDUSTRY

##### 商户所属行业MCC单笔订单金额

##### 限制

##### 请商户与支付宝客服确认行业MCC 订

##### 单金额限制

##### 信息

##### FOREX_ID_VERIFICATI

##### ON_FAIL

##### 用户身份校验失败 请确认用户为大陆身份证认证用户

##### PRODUCT_AMOUNT_L

##### IMIT_ERROR

##### 购汇额度校验失败 请与客服确认用户购汇额度信息

##### SECONDARY_MERCHANT

##### _STATUS_ERROR

##### 商户状态异常 请商户与支付宝客服联系确认

##### USER_IDENTITY_INFO_V

##### ALIDATE_FAIL

##### 用户实名信息校验失败

##### 用户实名信息校验失败，请确认当前用

##### 户与支付宝用户是否匹配。

##### USER_ACCOUNT_VALIDA

##### TE_FAIL

##### 用户账号校验失败

##### 用户账号信息校验失败，请确认当前用

##### 户与支付宝用户是否匹配。

##### 4.2.12.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类 描述 默认开启

fund_auth_freeze (^) 资金预授权冻结成功 是
fund_auth_freeze.closed (^) 资金预授权订单关闭 否
fund_auth_freeze.init (^) 资金预授权订单创建 否

##### 触发通知字段

##### 参数 类型 是否 必须 最大 长度 描述 示例值

sign String (^) 是 344 签名


sign_type String (^) 是 10 本域不出现时，默
认为RSA2算法。
银联生成签名字符
串所使用的签名算
法类型，本域值同
收单请求银联上送
的sign_type。

##### RSA2

cert_id String (^) 是 128 签名证书序列号
app_id String (^) 是 32 支付宝分配给开发
者的应用Id

##### 2088102146225135

auth_no String (^) 是 -^ 支付宝资金授权订
单号

##### -

out_order_no String 是 -^ 商户的资金授权订
单号

##### -^

operation_id String 是 -^ 支付宝资金操作流
水号

##### -^

out_request_no String (^) 是 -^ 商户资金操作流水
号

##### -^

operation_type String

##### 是 -^ 资金操作类型，支

##### 持【FREEZE，

##### UNFREEZE，

##### PAY】

##### -^

amount String (^) 是 -^
本次操作金额

##### -^

status String

##### 是 -^ 本次资金操作流水

##### 状态，支持【INIT，

##### SUCCESS，

##### CLOSED】

##### -^

gmt_create String (^) 是 -
操作创建时间

##### -

gmt_trans String (^) 是 -^
操作处理完成时间

##### -^

payer_logon_id String (^) 是 -^ 付款方支付宝账号
登录号

##### -^

payer_user_id String (^) 是 -^ 付款方支付宝账号
UID

##### -^

payee_logon_id String (^) 是 -^ 收款方支付宝账号
登录号

##### -^

payee_user_id String (^) 是 -^ 收款方支付宝账号
UID

##### -^

total_freeze_amount String (^) 是 -^
累计冻结金额

##### -^

total_unfreeze_amount String (^) 是 -^
累计解冻金额

##### -^

total_pay_amount String (^) 是 -^
累计支付金额

##### -^

rest_amount String (^) 是 -^
剩余冻结金额

##### -^


credit_amount String 是 11

##### 本次操作中信用金

##### 额，单位为：元（人

##### 民币），精确到小

##### 数点后两位

##### 0 .01

fund_amount String 是 11

##### 本次操作中自有资

##### 金金额，单位为：

##### 元（人民币），精

##### 确到小数点后两位

##### 0 .01

total_freeze_credit_amount String 是 11

##### 累计冻结信用金

##### 额，单位为：元（人

##### 民币），精确到小

##### 数点后两位

##### 0 .01

total_freeze_fund_amount String 是 11

##### 累计冻结自有资金

##### 金额，单位为：元

##### （人民币），精确

##### 到小数点后两位

##### 0 .01

total_unfreeze_credit_amount String 是 11

##### 累计解冻信用金

##### 额，单位为：元（人

##### 民币），精确到小

##### 数点后两位

##### 0 .01

total_unfreeze_fund_amount String 是 11

##### 累计解冻自有资金

##### 金额，单位为：元

##### （人民币），精确

##### 到小数点后两位

##### 0 .01

total_pay_credit_amount String 是 11

##### 累计支付信用金

##### 额，单位为：元（人

##### 民币），精确到小

##### 数点后两位

##### 0 .01

total_pay_fund_amount String 是 11

##### 累计支付自有资金

##### 金额，单位为：元

##### （人民币），精确

##### 到小数点后两位

##### 0 .01

rest_credit_amount String (^) 是 11

##### 剩余冻结信用金

##### 额，单位为：元（人

##### 民币），精确到小

##### 数点后两位

##### 0 .01

rest_fund_amount String (^) 是 11

##### 剩余冻结自有资金

##### 金额，单位为：元

##### （人民币），精确

##### 到小数点后两位

##### 0 .01


```
pre_auth_type String 是 20
```
##### 预授权类型，目前

##### 支持CREDIT_AU

##### TH(信用预授权);

##### 商户可根据该标识

##### 来判断该笔预授权

##### 的类型，当返回值

##### 为"CREDIT_AUT

##### H"表明该笔预授

##### 权为信用预授权，

##### 没有真实冻结资

##### 金；当返回值为空

##### 或者不为"CREDIT

##### _AUTH"则表明该

##### 笔预授权为普通资

##### 金预授权，会冻结

##### 用户资金。

##### CREDIT_AUTH

```
trans_currency String 是 8
```
```
标价币种, amount
对应的币种单位。
支持澳元：AUD,
新西兰元：NZD,
台币：TWD, 美元：
USD, 欧元：EUR,
英镑：GBP
```
##### USD

#### 4.2.13 资金授权发码接口

##### 4.2.13.1 场景说明

##### 收银员通过收银台或商户后台调用支付宝接口，生成二维码后，展示给用户，由用户扫描二维码完成资

##### 金冻结。

##### 4.2.13.2 接口说明

公共请求参数中的method填写alipay.fund.auth.order.voucher.create。

##### 4.2.13.2.1 请求参数

##### 参数 类型 是否^ 必

##### 须

##### 最大 长

##### 度

##### 描述 示例值

```
out_order_no String 是 32
```
##### 商户授权资金订单号，创建后不

##### 能修改，需要保证在商户端不重

##### 复。

##### 807773525593

##### 8023

```
out_request_no String 是 32
```
##### 商户本次资金操作的请求流水

##### 号，用于标示请求流水的唯一性，

##### 需要保证在商户端不重复。

##### 807773525593

##### 8032

```
order_title String 是 100
```
##### 业务订单的简单描述，如商品名

##### 称等。

##### 预授权发码

```
amount Price 是 11
```
##### 需要冻结的金额，单位为：元（人

##### 民币），精确到小数点后两位

##### 取值范围：[0.01,100000000.00]

##### 100.00


pay_timeout String 是 5

##### 该笔订单允许的最晚付款时间，

##### 逾期将关闭该笔订单

```
取值范围：1m～15d。m-分钟，
h-小时，d-天。 该参数数值不
接受小数点， 如 1.5h，可转换
为90m
如果为空，默认15m
```
```
2d
```
extra_param String 是 300

##### 业务扩展参数，用于商户的特定

```
业务信息的传递，json格式。
```
1. 间联模式必须传入二级商户 I
D，key为secondaryMerchantId；
2. 当面资金授权业务对应的类
目，key为category，value由支
付宝分配，酒店业务传"HOTEL"，
若使用信用预授权，则该值必传；
3. 外部商户的门店编号，key为o
utStoreCode，间联场景下建议传；
4. 外部商户的门店简称，key为o
utStoreAlias，可选。
5. 间联模式必须传入二级商户
所属机构id，key为requestOrgId；
6. 信用服务Id，key为serviceId，
信用场景下必传，具体值需要联
系芝麻客服。

```
{"secondaryM
erchantId":"20
88xx34"}
```
product_code String 是 32

##### 销售产品码，后续新接入预授权

##### 当面付的业务，本字段取值固定

##### 为PRE_AUTH。

##### PRE_AUTH

trans_currency String 否 8

```
标价币种, amount 对应的币种单
位。支持澳元：AUD, 新西兰元：
NZD, 台币：TWD, 美元：USD,
欧元：EUR, 英镑：GBP
```
##### USD

settle_currency String 否 8

##### 商户指定的结算币种。支持澳元：

##### AUD, 新西兰元：NZD, 台币：

##### TWD, 美元：USD, 欧元：EUR,

##### 英镑：GBP

##### USD

enable_pay_channels String 否 128

##### 商户可用该参数指定用户可使用

##### 的支付渠道，本期支持商户可支

##### 持三种支付渠道，余额宝（MON

##### EY_FUND）、花呗（PCREDIT_

##### PAY）以及芝麻信用（CREDITZ

##### HIMA）。商户可设置一种支付

##### 渠道，也可设置多种支付渠道。

```
[{"payChannelT
ype":"PCREDI
T_PAY"},{"pay
ChannelType":"
MONEY_FUN
D"}]
```

```
identity_params String 否 300
```
##### 用户实名信息参数，包含：姓名+

```
身份证号的hash值、指定用户的u
id。商户传入用户实名信息参数，
支付宝会对比用户在支付宝端的
实名信息。
姓名+身份证号hash值使用SHA2
56 摘要方式与UTF8编码,返回十
六进制的字符串。
identity_hash和alipay_user_id都
是可选的，如果两个都传，则会
先校验identity_hash，然后校验
alipay_user_id。其中identity_hash
的待加密字样如"张三 456649879
8498498498 498"
```
```
{"identity_has
h":"ABCDEF
Dxxxxxx","ali
payuser_id":" 2
088xxx"}
```
org_pid String^ 是 (^20) 收单机构(例如银行)的标识，填
写该机构在支付宝的pid

##### 20882019167

##### 34621

##### 4.2.13.2.2 响应参数

##### 参数 类型

##### 是否必

##### 须

##### 最大长

##### 度

##### 描述 示例值

```
out_order_no String 是 32 商户的授权资金订单号
```
##### 80777352559

##### 38023

```
out_request_no String 是^32
```
##### 商户本次资金操作的请求流水

##### 号

##### 80777352559

##### 38032

```
code_type String 是 20
```
```
码类型，分为 barCode：条形
码 (一维码) 和 qrCode:二维
码(qrCode) ；
```
```
目前发码只支持 qrCode
```
```
qrCode
```
```
code_value String 是^200
```
##### 当前发码请求生成的二维码码

##### 串，商户端可以利用二维码生

##### 成工具根据该码串值生成对应

##### 的二维码

```
https://qr.alip
ay.com/aax01
7928umnzqo0
uswmzd3
```

```
code_url String 是 200
```
```
生成的带有支付宝logo的二维
码地址，如：http://mobilecode
c.alipay.com/show.htm?code=ae
parsv2dknkqf3018556a；商户端
通过在末尾追加 picSize来指
定要显示的图片大小，如
```
```
显示 1280 大小的URL:http://m
obilecodec.alipay.com/show.ht
m?code=aeparsv2dknkqf301855
6a&picSize=1280；目前支持的
大小有：256, 227, 270, 344,
430, 512, 570, 860, 1280, 15
46 ；
```
```
http://mobilec
odec.alipay.c
o m / s h o w. h t
m?code=aepa
rsv2dknkqf30
18556a
```
##### 4.2.13.3 业务错误码

##### 错误码 错误描述 解决方案

##### ILLEGAL_ARGUMENT 预授权发码参数异常或参数缺失 检查请求参数，修改后重新发起请求

##### UNIQUE_VIOLATION

##### 授权失败，商户订单号重复，请

##### 收银员取消本笔订单并重新授权

##### 更换商户的授权资金订单号后，重新

##### 发起请求

##### EXIST_FORBIDDEN_WORD

##### 发码失败，订单信息中包含违禁

##### 词

##### 修改订单信息后，重新发起请求

##### ACCESS_FORBIDDEN

##### 发码失败，本商户没有权限使用

##### 该产品

##### 看下商户签约合同是否已到期

##### PAYEE_NOT_EXIST 发码失败，收款方账号不存在^

##### 确认该收款方账号是注册过的支付

##### 宝账号

##### PAYEE_USER_STATUS_LIMI

##### T

##### 发码失败，收款方账号异常

##### 卖家支付宝账户受限，请登录支付宝

##### 认证升级，详情咨询 95188

##### PAYER_USER_STATUS_LIMI

##### T

##### 授权失败，顾客账户暂时无法支

##### 付，建议顾客使用其他方式付款

##### 买家支付宝账户受限，请登录支付宝

##### 认证升级，详情咨询 95188

##### ORDER_ALREADY_FINISH

##### 授权失败，本笔授权订单已经完

##### 结，无法再进行资金操作

##### 更换商家授权资金订单号后，重新发

##### 起请求


##### ORDER_ALREADY_CLOSED 授权失败，本笔授权订单已关闭^

##### 更换商户授权资金订单号后，重新发

##### 起请求

##### FREEZE_ALREADY_SUCCESS

##### 授权失败，授权订单已经冻结成

##### 功，请勿重复授权

##### 确认该笔预授权信息是否为当前付

##### 款方的，如果是则认为授权成功，如

##### 果不是则更换商家授权资金订单号

##### 后，重新发起请求

##### ERROR_BALANCE_PAYMEN

##### T_DISABLE

##### 授权失败，顾客余额支付功能开

##### 关关闭，请用户打开余额支付功

##### 能开关

##### 用户打开余额支付开关后，再重新进

##### 行支付

##### SYSTEM_ERROR 系统繁忙

##### 请立即调用查询订单API，查询当前

##### 订单的状态，并根据订单状态决定下

##### 一步的操作

##### MONEY_NOT_ENOUGH

##### 授权失败，顾客余额不足，建议

##### 顾客充值完成后再进行付款

##### 买家绑定新的银行卡或者支付宝余

##### 额有钱后再发起支付

##### NO_PAYMENT_INSTRUMENT

##### S_AVAILABLE

##### 授权失败，用户没用可用的支付

##### 工具

##### 请用户更换其它付款方式

##### PAYER_PAYEE_EQUAL

##### 授权失败，收付款方信息不能相

##### 同

##### 请商家基于业务诉求更换付款方或

##### 收款方信息

##### CURRENCY_VERIFICATION_

##### FAIL 币种校验失败^

##### 确认标价币种、结算币种正确后重新

##### 发起请求

##### SECONDARY_MERCHANT_S

##### TATUS_ERROR 商户状态异常^ 请商户与支付宝客服联系确认^

##### USER_IDENTITY_INFO_VALI

##### DATE_FAIL 用户实名信息校验失败^

##### 用户实名信息校验失败，请确认当前

##### 用户与支付宝用户是否匹配。

##### USER_ACCOUNT_VALIDATE

##### _FAIL 用户账号校验失败^

##### 用户账号信息校验失败，请确认当前

##### 用户与支付宝用户是否匹配。

##### 4.2.13.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类 描述 默认开启

fund_auth_freeze (^) 资金预授权冻结成功 是^


fund_auth_freeze.closed (^) 资金预授权订单关闭 否
fund_auth_freeze.init (^) 资金预授权订单创建 否

##### 触发通知字段

##### 参数 类型

##### 是否

##### 必须

##### 最大

##### 长度

##### 描述 示例值

sign String 是 344 签名

sign_type String 是 10 本域不出现时，默认为
RSA2算法。

```
银联生成签名字符串所
使用的签名算法类型，本
域值同收单请求银联上
送的sign_type。
```
##### RSA2

cert_id String 是 128 签名证书序列号

app_id String 是 32 支付宝分配给开发者的
应用Id

(^2088102146225135)
auth_no String
是
64 支付宝资金授权订单号 (^2014070800002001550000014417)
out_order_no String
是

##### 32 商户的资金授权订单号 4977164666634053

operation_id String
是

##### 64 支付宝的资金操作流水

##### 号

##### 2014070800032850551

out_request_no String
是

##### 32 商户资金操作流水号 2014070700166653

operation_type String
是

##### 10

##### 资 金 操 作 类 型 ， 支 持

##### 【FREEZE：冻结操作，

##### UNFREEZE：解冻操作，

##### PAY：支付操作】

##### FREEZE

amount String
是

##### 11 本次操作金额 100.00

status String
是

##### 20

##### 本 次 资 金 操 作 流 水 状

##### 态，支持【INIT：初始

##### 状态，SUCCESS：成功，

##### CLOSED：关闭】

##### SUCCESS

gmt_create String
是

##### 20 操作创建时间 2014 - 09 - 15 11:23:03

gmt_trans String
是

(^20) 操作处理完成时间 2014 - 09 - 15 11:23:04
payer_logon_id String
是

##### 100

##### 付款方支付宝账号登录

##### 号

```
test***@alitest.com
```

payer_user_id String
是

##### 32 付款方支付宝账号UID 2088102000275885

payee_logon_id String
是

##### 100 收款方支付宝账号登录

##### 号

```
tstw***@alitest.com
```
payee_user_id String
是

##### 32 收款方支付宝账号UID 2088102138117431

total_freeze_amount String (^) 是 11 累计冻结金额 100.00
total_unfreeze_amount String
是

##### 11 累计解冻金额 20.00

total_pay_amount String
是

##### 11 累计支付金额 10.00

rest_amount String
是

(^11) 剩余冻结金额 70.00
credit_amount String 是 11

##### 本次操作中信用金额，

##### 单位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

fund_amount String 是 11

##### 本次操作中自有资金金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

total_freeze_credit_amou
nt String^ 是^11

##### 累计冻结信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

total_freeze_fund_amou
nt String^ 是^11

##### 累 计 冻 结 自 有 资 金 金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

total_unfreeze_credit_am
ount String^ 是^11

##### 累计解冻信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

total_unfreeze_fund_am
ount String^ 是^11

##### 累 计 解 冻 自 有 资 金 金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

total_pay_credit_amount String 是 11

##### 累计支付信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

total_pay_fund_amount String 是 11

##### 累 计 支 付 自 有 资 金 金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

rest_credit_amount String 是 11

##### 剩余冻结信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01


rest_fund_amount String (^) 是 11

##### 剩余冻结自有资金金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

pre_auth_type String (^) 是 20

##### 预授权类型，目前支持C

##### REDIT_AUTH(信用预

##### 授权);商户可根据该标

##### 识来判断该笔预授权的

##### 类型，当返回值为"CRE

##### DIT_AUTH"表明该笔预

##### 授权为信用预授权，没

##### 有真实冻结资金；当返

##### 回值为空或者不为"CRE

##### DIT_AUTH"则表明该笔

##### 预授权为普通资金预授

##### 权，会冻结用户资金。

##### CREDIT_AUTH

```
trans_currency String 是 8
```
```
标价币种, amount 对应
的币种单位。支持澳元：
AUD, 新西兰元：NZD,
台币：TWD, 美元：USD,
欧元：EUR, 英镑：GBP
```
##### USD

#### 4.2.14 资金授权撤销接口

##### 4.2.14.1 场景说明

##### 只有商户由于业务系统处理超时需要终止后续业务处理或者授权结果未知时可调用撤销，其他正常授权

##### 冻结的操作如需实现相同功能请调用资金授权解冻服务。提交资金授权后调用【资金授权操作查询】，没有

##### 明确的授权结果再调用【资金授权撤销】

##### 4.2.14.2 接口说明

公共请求参数中的method填写alipay.fund.auth.operation.cancel。

##### 4.2.14.2.1 请求参数

##### 参数 类型 是否^ 必

##### 须

##### 最大 长

##### 度

##### 描述 示例值

out_order_no String 是 32 商户的授权资金订单号 (^4977164666634053)
out_request_no String 是 32 商户的授权资金操作流水号 (^2016100810000003551)
remark String 是 100

##### 商户对本次撤销操作的附言描

##### 述。

##### 授权撤销

org_pid String (^) 是 20 收单机构(例如银行)的标识，填
写该机构在支付宝的pid

##### 20882019167

##### 34621

##### 4.2.14.2.2 响应参数

##### 参数 类型

##### 是否必

##### 须

##### 最大长

##### 度

##### 描述 示例值


```
auth_no String 是 64 支付宝资金授权订单号。
```
##### 20161012100

##### 02001810258

##### 115912

```
out_order_no String 是^32 商户的授权资金订单号。^
```
##### 49771646666

##### 34053

```
operation_id String 是^64 支付宝的冻结操作流水号。^
```
##### 20161012405

##### 744018102

```
out_request_no String 是^32 商户的冻结操作流水号^ 。^
```
##### 23455555333

##### 3444334

```
action String 否 10
```
```
本次撤销触发的资金动作clos
e：关闭冻结明细，无资金解冻
unfreeze：产生了资金解冻
```
```
close
```
##### 4.2.14.3 业务错误码

##### 错误码 错误描述 解决方案

##### ILLEGAL_ARGUMENT 参数异常或参数缺失

##### 请求参数有错，重新检查请求后，再调用资金

##### 预授权明细撤销操作

##### ACCESS_FORBIDDEN 无权限使用接口^ 未签约条码支付或者合同已到期^

##### PAYER_USER_STATUS_LIM

##### IT

##### 付款方状态受限

##### 买家支付宝账户受限，请登录支付宝认证升

##### 级，详情咨询 95188

##### ORDER_ALREADY_FINISH

##### 授权订单已经完结，无法

##### 再进行资金操作

##### 本笔授权订单已经完结，不允许进行资金撤销

##### 操作，确认请求资金解冻的资金授权订单号是

##### 否正确

##### CANCEL_OPERATION_TIME

##### _OUT

##### 撤销操作超过允许时间范

##### 围

##### 撤销操作需要在预授权冻结操作之后的 24 小

##### 时之内发起

##### REQUEST_AMOUNT_EXCEE

##### D

##### 撤销触发的解冻金额超过

##### 冻结金额

##### 请商户确认该笔预授权单是否已发生过解冻

##### 操作，如若发生过，则无法再发起撤销操作

##### SYSTEM_ERROR 系统错误^ 请使用相同的参数再次调用^


##### 4.2.14.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类 描述 默认开启

```
fund_auth_operation_cancel 资金预授权明细撤销^ 是^
```
##### 触发通知字段

##### 参数^ 类型^

##### 是否

##### 必须

##### 最大

##### 长度

##### 描述^ 示例值

sign String (^) 是 344 签名
sign_type String (^) 是 10 本域不出现时，默认为
RSA2算法。
银联生成签名字符串所
使用的签名算法类型，本
域值同收单请求银联上
送的sign_type。

##### RSA2

```
cert_id String 是 128 签名证书序列号
```
app_id String (^) 是 32 支付宝分配给开发者的
应用Id

##### 2088102146225135

```
auth_no String 是^ -^ 支付宝资金授权订单号^ -^
```
```
out_order_no String 是^ -^ 商户的资金授权订单号^ -^
```
```
operation_id String 是 -^ 支付宝资金操作流水号^ -^
```
```
out_request_no String 是^ -^ 商户资金操作流水号^ -^
```
```
action String 是 -^
```
##### 本次撤销触发的资金动

##### 作：

```
close：关闭冻结明细，
无资金解冻
```
```
unfreeze：产生了资金解
冻
```
##### -

#### 4.2.15 资金授权解冻接口

##### 4.2.15.1 场景说明

##### 当资金授权发生之后一段时间内，由于买家或者商家等其他原因需要要解冻资金，商家可通过资金授权


##### 解冻接口将授权资金进行解冻，支付宝将在收到解冻请求并验证成功后，按解冻规则将冻结资金按原路进行

##### 解冻。

##### 4.2.15.2 接口说明

公共请求参数中的method填写alipay.fund.auth.order.unfreeze。

##### 4.2.15.2.1 请求参数

##### 参数 类型 是否^ 必

##### 须

##### 最大 长

##### 度

##### 描述 示例值

```
auth_no String 是 64
```
##### 支付宝资金授权订单号，必须是

##### 资金授权冻结、资金授权发码接

##### 口中该笔商户授权资金订单号

##### 对应支付宝返回的授权订单号

##### 201610121000

##### 200181025811

##### 5912

out_order_no String (^) 是 32

##### 商户的授权资金订单号，必须是

##### 资金授权订单号对应的请求商

##### 户授权资金订单号

##### 807773525593

##### 8023

out_request_no String (^) 是 32

##### 商户本次资金操作的请求流水

##### 号，同一商户每次不同的资金操

##### 作请求，商户请求流水号不能重

##### 复

##### 201610120010

##### 400111008100

##### 1

```
amount Price 是 11
```
##### 本次操作解冻的金额，单位为：

##### 元（人民币），精确到小数点后

##### 两 位 ， 取 值 范 围 ：

##### [0.01,100000000.00]

##### 20.11

remark String (^) 是 100 商户对本次解冻操作的附言描
述。

##### 2014 - 05 期解

##### 冻200.00元

extra_param String (^) 否 2048
解 冻 扩 展 信 息 ，json 格式；
unfreezeBizInfo 目前为芝麻消费
字段，支持Key值如下：
"bizComplete":"true" -- 选填：标
识本次解冻用户是否履约，如果
true信用单会完结为COMPLETE
{"unfreezeBizI
nfo":
"{\"bizComple
te\":\"tr
ue\"}"}
org_pid String^ 是 (^20) 收单机构(例如银行)的标识，填
写该机构在支付宝的pid

##### 20882019167

##### 34621

##### 4.2.15.2.2 响应参数

##### 参数 类型

##### 是否必

##### 须

##### 最大长

##### 度

##### 描述 示例值

```
auth_no String 是^64 支付宝资金授权订单号^
```
##### 20140708000

##### 02001550000

##### 014417

```
out_order_no String 否 32 商户的授权资金订单号
```
##### 49771646666

##### 34053

```
operation_id String 是 64 支付宝资金操作流水号
```
##### 20140708000

##### 32850551


```
out_request_no String 是^32
```
##### 商户本次资金操作的请求流水

##### 号

##### 20140707001

##### 555633

```
amount Price 是^11
```
##### 本次操作解冻的金额，单位为：

##### 元（人民币），精确到小数点

##### 后两位，取值范围：[0.01,1000

##### 00000.00]

##### 20.81

```
status String 是 10
```
##### 资金操作流水的状态，目前支

##### 持：

##### INIT：初始

##### SUCCESS：成功

##### CLOSED：关闭

##### SUCCESS

```
gmt_trans Date 否^32
```
##### 授权资金解冻成功时间，格式：

##### YYYY-MM-DD HH:MM:SS

##### 2014 - 09 - 15 1

##### 1:23:04

```
credit_amount Price 否 11
```
##### 本次解冻操作中信用解冻金额

##### ，单位为：元（人民币），精

##### 确到小数点后两位

##### 0 .01

```
fund_amount Price 否^11
```
##### 本次解冻操作中自有资金解冻

##### 金额，单位为：元（人民币

##### ），精确到小数点后两位

##### 0 .01

##### 4.2.15.3 业务错误码

##### 错误码 错误描述 解决方案

##### ILLEGAL_ARGUMENT 参数异常或参数缺失

##### 请求参数有错，重新检查请求后，再重启发起

##### 资金解冻操作

##### UNIQUE_VIOLATION 解冻信息被篡改^ 更换商户请求流水号后，重新发起请求^

##### SYSTEM_ERROR 系统错误^ 请使用相同的参数再次调用^

##### PAYER_USER_STATUS_LIMIT 付款方状态受限

##### 买家支付宝账户受限，请登录支付宝认证升

##### 级，详情咨询 95188


##### AUTH_ORDER_NOT_EXIST 授权订单不存在^

##### 本笔授权订单不存在，确认请求资金解冻的资

##### 金授权订单号是否正确

##### REQUEST_AMOUNT_EXCEED 请求解冻金额超限 更改解冻金额，重新发起请求

##### ILLEGAL_STATUS 订单状态非法^

##### 查询该笔授权操作信息，确认用户资金授权冻

##### 结成功

##### ORDER_ALREADY_FINISH

##### 授权订单已经完结，无

##### 法再进行资金操作

##### 本笔授权订单已经完结，不允许进行资金解冻

##### 操作，确认请求资金解冻的资金授权订单号是

##### 否正确

##### ORDER_ALREADY_CLOSED

##### 授权订单已经关闭，无

##### 法再进行资金操作

##### 本笔授权订单已经关闭，不允许进行资金解冻

##### 操作，确认请求资金解冻的资金授权订单号是

##### 否正确，该笔授权订单号是否已经发起过解冻

##### PAYER_NOT_EXIST 买家不存在^

##### 买家信息不存在，请联系支付宝小二确认买家

##### 是否销户

##### 4.2.15.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类 描述 默认开启

```
fund_auth_unfreeze 资金授权订单解冻通知^ 是^
```
##### 触发通知字段

##### 参数 类型 是否^

##### 必须

##### 最大

##### 长度

##### 描述 示例值

```
sign
```
String (^) 是 344 签名
sign_type
String (^) 是 10 本域不出现时，默认为
RSA2算法。
银联生成签名字符串所
使用的签名算法类型，本
域值同收单请求银联上
送的sign_type。

##### RSA2

```
cert_id String^
```
是 (^128) 签名证书序列号
app_id
String (^) 是 32 支付宝分配给开发者的
应用Id

##### 2088102146225135


auth_no String 是 -^ 支付宝资金授权订单号^ -^

out_order_no String 是^ -^ 商户的资金授权订单号^

##### -

operation_id String 是^ -^ 支付宝资金操作流水号^

##### -

out_request_no String 是^ -^ 商户资金操作流水号^

##### -

operation_type String 是^ -^

##### 资金操作类型，支持【F

##### REEZE，UNFREEZE，P

##### AY】

##### -

amount String 是^ -^ 本次操作金额^

##### -

status String 是^ -^

##### 本 次 资 金 操 作 流 水 状

##### 态 ， 支 持 【INIT，

##### SUCCESS，CLOSED】

##### -

gmt_create String 是^ -^ 本次资金操作创建时间^

##### -

gmt_trans String 是^ -^ 本次操作处理完成时间^

##### -

payer_logon_id String 是^ -^

##### 付款方支付宝账号登录

##### 号

##### -

payer_user_id String 是^ -^ 付款方支付宝账号UID^

##### -

total_freeze_amount String 是^ -^ 累计冻结金额^

##### -

total_unfreeze_amount String 是^ -^ 累计解冻金额^

##### -

total_pay_amount String 是^ -^ 累计支付金额^

##### -

rest_amount String 是^ -^ 剩余冻结金额^

##### -

credit_amount String 是^11

##### 本次操作中信用金额，

##### 单位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

fund_amount String 是 11

##### 本次操作中自有资金金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

total_freeze_credit_amou
nt

```
String 是 11
```
##### 累计冻结信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01


```
total_freeze_fund_amou
nt
String 是^11
```
##### 累 计 冻 结 自 有 资 金 金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

```
total_unfreeze_credit_am
ount
String 是^11
```
##### 累计解冻信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

```
total_unfreeze_fund_am
ount
String 是^11
```
##### 累 计 解 冻 自 有 资 金 金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

```
total_pay_credit_amount String 是 11
```
##### 累计支付信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

```
total_pay_fund_amount String 是 11
```
##### 累 计 支 付 自 有 资 金 金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

```
rest_credit_amount String 是 11
```
##### 剩余冻结信用金额，单

##### 位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

```
rest_fund_amount String 是^11
```
##### 剩 余 冻 结 自 有 资 金 金

##### 额，单位为：元（人民

##### 币），精确到小数点后

##### 两位

##### 0 .01

#### 4.2.16 资金授权操作查询接口

##### 4.2.16.1 场景说明

##### 通过该接口可以查询单笔明细的详细信息。

##### 4.2.16.2 接口说明

公共请求参数中的method填写alipay.fund.auth.operation.detail.query。

##### 4.2.16.2.1 请求参数

##### 参数 类型 是否^ 必

##### 须

##### 最大 长

##### 度

##### 描述 示例值

out_order_no String (^) 是 32 商户的授权资金订单号 807773525593
8023
out_request_no String 是 32 商户的授权资金操作流水号 (^20140216001001)
org_pid String (^) 是 20 收单机构(例如银行)的标识，填
写该机构在支付宝的pid

##### 20882019167

##### 34621

##### 4.2.16.2.2 响应参数

##### 参数 类型

##### 是否必

##### 须

##### 最大长

##### 度

##### 描述 示例值


auth_no String 是 64 支付宝资金授权订单号

##### 20140316000

##### 02001260000

##### 001000

out_order_no String 是 32 商户的授权资金订单号 20140216001

total_freeze_amount Price 是^11

##### 订单累计的冻结金额，单位为：

##### 元（人民币）

##### 4800.00

rest_amount Price 是^11

##### 订单总共剩余的冻结金额，单

##### 位为：元（人民币）

##### 4600.00

total_pay_amount Price 是 11

##### 订单累计用于支付的金额，单

##### 位为：元（人民币）

##### 0.00

order_title String 是^100

##### 业务订单的简单描述，如商品

##### 名称等

##### 0 元购土豪金

payer_logon_id String 是 100

```
付款方支付宝账号（Email或手
机号），仅作展示使用，默认
会加“*”号处理
```
```
ali*@alipay.c
om
```
payer_user_id String 是 32

##### 付款方支付宝账号对应的支付

##### 宝唯一用户号，以 2088 开头的

##### 16 位纯数字组成

##### 20884020191

##### 48643

extra_param String 否^300

##### 商户请求创建预授权订单时传

##### 入的扩展参数，仅返回商户自

```
定义的扩展信息（merchantExt）
```
```
{"merchantEx
t":"key1=valu
e1,key2=valu
e2"}
```
operation_id String 是 64 支付宝资金操作流水号

##### 20140216355

##### 864862002

out_request_no String 是 32 商户资金操作的请求流水号

##### 20140216001

##### 001

amount Price 是^11

```
该笔资金操作流水opertion_id
对应的操作金额，单位为：元
（人民币）
```
##### 200.00


operation_type String 是^20

##### 支付宝资金操作类型，

##### 目前支持：

##### FREEZE：冻结

##### UNFREEZE：解冻

##### PAY：支付

##### UNFREEZE

status String 是 20

##### 资金操作流水的状态，

##### 目前支持：

##### INIT：初始

##### SUCCESS：成功

##### CLOSED：关闭

##### SUCCESS

remark String 是^100 商户对本次操作的附言描述。^

##### 2014 - 05 期解

##### 冻 200 .00元

gmt_create Date 是^20

##### 资金授权单据操作流水创建时

##### 间，

##### 格式：YYYY-MM-DD HH:M

##### M:SS

##### 2014 - 01 - 01 2

##### 0:00:00

gmt_trans Date 是 20

##### 支付宝账务处理成功时间，

##### 格式：YYYY-MM-DD HH:M

##### M:SS

##### 2014 - 01 - 01 2

##### 0:00:00

pre_auth_type String 否^20

##### 预授权类型，目前支持CREDI

##### T_AUTH(信用预授权);商户可

##### 根据该标识来判断该笔预授权

##### 的类型，当返回值为"CREDIT

##### _AUTH"表明该笔预授权为信

##### 用预授权，没有真实冻结资金；

##### 当返回值为空或者不为"CRED

##### IT_AUTH"则表明该笔预授权

##### 为普通资金预授权，会冻结用

##### 户资金。

##### CREDIT_AU

##### TH


```
trans_currency String 否 8
```
```
标价币种, amount 对应的币
```
```
种单位。支持澳元：AUD, 新
```
```
西兰元：NZD, 台币：TWD,
美元：USD, 欧元：EUR, 英镑
```
```
：GBP
```
##### USD

```
total_freeze_credit_a
mount
```
```
Price
```
##### 否 11 累计冻结信用金额，单位为：

##### 元（人民币），精确到小数点

##### 后两位

##### 0 .01

```
total_freeze_fund_am
ount
```
```
Price
```
##### 否 11 累计冻结自有资金金额，单位

##### 为：元（人民币），精确到小

##### 数点后两位

##### 0 .01

```
total_pay_credit_amo
unt
```
```
Price
```
##### 否 11 累计支付信用金额，单位为：

##### 元（人民币），精确到小数点

##### 后两位

##### 0 .01

```
total_pay_fund_amou
nt
```
```
Price
```
##### 否 11 累计支付自有资金金额，单位

##### 为：元（人民币），精确到小

##### 数点后两位

##### 0 .01

```
rest_credit_amount Price
```
##### 否 11 剩余冻结信用金额，单位为：

##### 元（人民币），精确到小数点

##### 后两位

##### 0 .01

```
rest_fund_amount Price
```
##### 否 11 剩余冻结自有资金金额，单位

##### 为：元（人民币），精确到小

##### 数点后两位

##### 0 .01

```
credit_amount Price
```
##### 否

##### 11

```
该笔资金操作流水opertion_id
对应的操作信用金额
```
##### 0 .01

```
fund_amount Price 是^11
```
```
该笔资金操作流水opertion_id
对应的操作自有资金金额
```
##### 0 .01

##### 4.2.16.3 业务错误码

##### 错误码 错误描述 解决方案


##### ILLEGAL_ARGUMENT

##### 参数异常或参

##### 数缺失

##### 检查请求参数，修改后重新发起请求

##### AUTH_ORDER_NOT_EXIST

##### 支付宝资金授

##### 权订单不存在

##### 检查传入参数中的支付宝资金授权订单号或商户授

##### 权订单号，修改后重新发起请求

##### AUTH_OPERATION_NOT_EXIST

##### 支付宝资金操

##### 作流水不存在

##### 检查传入参数中的支付宝的授权资金操作流水号或

##### 商户的授权资金操作流水号，修改后重新发起请求

##### ACCESS_FORBIDDEN

##### 商户无权查看

##### 该笔订单信息

##### 请检查该商户是否创建了该笔授权订单

##### SYSTEM_ERROR 系统错误 请使用相同的参数再次调用

##### 4.2.16.4 异步通知触发

##### 无。

#### 4.2.17 小程序资金授权冻结接口（未启用）

##### 4.2.17.1 场景说明

##### 创建支付宝授权订单并完成资金冻结。适用于线上小程序支付场景完成资金授权, 例如通过小程序方式拉

##### 起支付宝收银台完成冻结。

##### 4.2.17.2 接口说明

公共请求参数中的method填写alipay.fund.auth.order.app.freeze。

##### 4.2.17.2.1 请求参数

##### 参数 类型 是否^

##### 必须

##### 最大

##### 长度

##### 描述 示例值

```
out_order_no String 是 32
```
##### 商户授权资金订单号 ,不能包含除中

##### 文、英文、数字以外的字符，创建后

##### 不能修改，需要保证在商户端不重复。

##### 807773525593

##### 8023

```
out_request_no String 是 32
```
##### 商户本次资金操作的请求流水号，用

##### 于标示请求流水的唯一性，不能包含

##### 除中文、英文、数字以外的字符，需

##### 要保证在商户端不重复。

##### 807773525593

##### 8032

```
order_title String 是 100 业务订单的简单描述，如商品名称等。 预授权冻结
```
```
amount Price 是 11
```
##### 需要冻结的金额，单位为：元（人民

##### 币），精确到小数点后两位取值范围：

##### [0.01,100000000.00]

##### 100.00

```
product_code String 是 32
```
##### 销售产品码，新接入线上预授权的业

##### 务，支付宝预授权产品取值PRE_AU

##### TH_ONLINE，境外预授权产品取值O

##### VERSEAS_INSTORE_AUTH。

##### PRE_AUTH_

##### ONLINE


pay_timeout String (^) 否 5

##### 该笔订单允许的最晚付款时间，逾期

```
将关闭该笔订单取值范围：1m～15d。
m-分钟，h-小时，d-天。 该参数数值
不接受小数点， 如 1.5h，可转换为 9
0m如果为空，默认15m
```
```
2d
```
extra_param String 是 300

##### 业务扩展参数，用于商户的特定业务

```
信息的传递，json格式。
```
1. 间联模式必须传入二级商户ID，k
ey为secondaryMerchantId；
2. 当面资金授权业务对应的类目，ke
y为category，value由支付宝分配，
酒店业务传"HOTEL"，若使用信用预
授权，则该值必传；
3. 外部商户的门店编号，key为outSt
oreCode，间联场景下建议传；
4. 外部商户的门店简称，key为outSt
oreAlias，可选。
5. 间联模式必须传入二级商户所属
机构id，key为requestOrgId；
6. 信用服务Id，key为serviceId，信
用场景下必传，具体值需要联系芝麻
客服。

```
{"secondaryM
erchantId":"
2088xx34","
requestOrgId
":" 2088201916
734621 ","cate
gory":"CHAR
GE
_PILE_CAR"}
```
trans_currency String 否 8

```
标价币种, amount 对应的币种单位。
支持澳元：AUD, 新西兰元：NZD, 台
币：TWD, 美元：USD, 欧元：EUR, 英
镑：GBP，人民币：CNY
```
##### USD

settle_currency String (^) 否 8

##### 商户指定的结算币种。支持澳元：

##### AUD, 新西兰元：NZD, 台币：TWD,

##### 美元：USD, 欧元：EUR, 英镑：GBP

##### USD

scene_code String (^) 否 128

##### 场景码，用于区分预授权不同业务场

##### 景。如：当面预授权通用场景（O2O_

##### AUTH_COMMON_SCENE）、支付宝

##### 预授权通用场景（ONLINE_AUTH_C

##### OMMON_SCENE）、境外当面预授权

##### 通用场景（OVERSEAS_O2O_AUTH_

##### COMMON_SCENE）、境外支付预授

##### 权通用场景（OVERSEAS_ONLINE_

##### AUTH_COMMON_SCENE）等

##### OVERSEAS_

##### ONLINE_AU

##### TH_COMMO

##### N_SCENE

enable_pay_channels String 否 128

##### 商户可用该参数指定用户可使用的支

##### 付渠道，本期支持商户可支持三种支

##### 付渠道，余额宝（MONEY_FUND）、

##### 花呗（PCREDIT_PAY）以及芝麻信用

##### （CREDITZHIMA）。商户可设置一

##### 种支付渠道，也可设置多种支付渠道。

```
[{"payChannelT
ype":"PCREDI
T_PAY"},{"pay
ChannelType":
"MONEY_FU
ND"}]
```

```
identity_params String 否 300
```
##### 用户实名信息参数，包含：姓名+身份

```
证号的hash值、指定用户的uid。商户
传入用户实名信息参数，支付宝会对
比用户在支付宝端的实名信息。
姓名+身份证号hash值使用SHA256摘
要方式与UTF8编码,返回十六进制的
字符串。
identity_hash和alipay_user_id都是可
选的，如果两个都传，则会先校验ide
ntity_hash，然后校验
alipay_user_id。其中identity_hash的
待 加 密 字 样 如 " 张三
4566498798498498498498"
```
```
{"identity_has
h":"ABCDEF
Dxxxxxx","ali
payuser_id":"2
088xxx"}
```
org_pid String (^) 是 20 收单机构(例如银行)的标识，填写该
机构在支付宝的pid

##### 20882019167

##### 34621

##### 4.2.17.2.2 响应参数

##### 参数 类型 是否

##### 必须

##### 最大长度 描述 示例值

```
order_str^ String 是
```
##### -

##### 本域长度随请

##### 求报文总长度

##### 增加而增加，

##### 如机构希望控

##### 制应答报文长

##### 度，建议按照

##### 请求报文总长

##### 度的三倍限定

##### 本域长度。^

##### 小 程 序 支 付 资

##### 金 预 授 权 冻 结

##### 请 求 参 数 字 符

##### 串 ， 主 要 包 含

##### 商 户 的 订 单 信

```
息，key=value
形式，以&连
接。
```
```
app_id=2015052600090779&biz_content
=%7B%22out_order_no%22%3A%2230
m%22%2C%22out_request_no%22%3A%2
2%22%2C%22order_title%22%3A%22% 2
2%2C%22product_code%22%3A%22^ PRE
_AUTH_ONLINE %22%2C%22amount%2
2%3A%220.02%22%2C%22&charset=utf- 8
&method=alipay.fund.auth.order.app.freeze
&sign_type=RSA2&timestamp=201 9 - 08 - 15
%2012%3A12%3A15&version=1.0&sign=
MsbylYkCzlfYLy9PeRwUUIg9nZPeN9SfX
PNavUCroGKR5Kqvx0nEnd3eRmKxJuthN
Ux4ERCXe552EV9PfwexqW%2B1wbKOd
YtDIb4%2B7PL3Pc94RZL0zKaWcaY3tSL
89%2FuAVUsQuFqEJdhIukuKygrXucvejO
UgTCfoUdwTi7z%2BZzQ%3D
```
##### 4.2.17.3 业务错误码

##### 错误码 错误描述 解决方案

##### ORDER_ALREADY_CLOSE

##### D

##### 授权失败，本笔授权订单已关闭

##### 更换商户授权资金订单号后，重新发起

##### 请求

##### FREEZE_ALREADY_SUCC

##### ESS

##### 授权失败，授权订单已经冻结成

##### 功，请勿重复授权

##### 确认该笔预授权信息是否为当前付款方

##### 的，如果是则认为授权成功，如果不是

##### 则更换商家授权资金订单号后，重新发

##### 起请求

##### ORDER_ALREADY_FINISH

##### 授权失败，本笔授权订单已经完

##### 结，无法再进行资金操作

##### 更换商家授权资金订单号后，重新发起

##### 请求


##### EXIST_FORBIDDEN_WOR

##### D

##### 授权失败，订单信息中包含违禁

##### 词

##### 修改订单信息后，重新发起请求

##### ILLEGAL_ARGUMENT

##### 授权失败，预授权冻结参数异常

##### 或参数缺失，请顾客刷新付款码

##### 后重新收款

##### 检查请求参数，修改后重新发起请求

##### ACCESS_FORBIDDEN

##### 授权失败，本商户没有权限使用

##### 该产品，建议顾客使用其他方式

##### 付款

##### 未签约合同或者合同已到期

##### PAYEE_NOT_EXIST 授权失败，收款方账号不存在^

##### 确认该收款方账号是注册过的支付宝账

##### 号

##### PAYER_NOT_EXIST

##### 授权失败，获取顾客账户信息失

##### 败

##### 顾客重新登录支付宝后，再发起请求

##### PAYER_USER_STATUS_LI

##### MIT

##### 授权失败，顾客账户暂时无法支

##### 付，建议顾客使用其他方式付款

##### 买家支付宝账户受限，请登录支付宝认

##### 证升级，详情咨询 95188

##### PAYEE_USER_STATUS_LI

##### MIT

##### 授权失败，收款方账号异常

##### 卖家支付宝账户受限，请登录支付宝认

##### 证升级，详情咨询 95188

##### CURRENCY_VERIFICATIO

##### N_FAIL

##### 币种校验失败

##### 确认标价币种、结算币种正确后重新发

##### 起请求

##### RESTRICTED_MERCHANT

##### _INDUSTRY

##### 商户所属行业MCC单笔订单金额

##### 限制

##### 请商户与支付宝客服确认行业MCC 订

##### 单金额限制信息

##### FOREX_ID_VERIFICATION

##### _FAIL

##### 用户身份校验失败 请确认用户为大陆身份证认证用户

##### PRODUCT_AMOUNT_LIMI

##### T_ERROR

##### 购汇额度校验失败 请与客服确认用户购汇额度信息

##### SECONDARY_MERCHANT

##### _STATUS_ERROR

##### 商户状态异常 请商户与支付宝客服联系确认

##### USER_IDENTITY_INFO_V

##### ALIDATE_FAIL

##### 用户实名信息校验失败

##### 用户实名信息校验失败，请确认当前用

##### 户与支付宝用户是否匹配。


##### USER_ACCOUNT_VALIDA

##### TE_FAIL

##### 用户账号校验失败

##### 用户账号信息校验失败，请确认当前用

##### 户与支付宝用户是否匹配。

##### SUB_MERCHANT_ORG_ID

##### _ERROR

##### 间联模式下，传入的二级商户的

```
机构id为空或错误
```
```
间联模式下，传入正确的机构id
```
##### SUB_MERCHANT_LEVEL_

##### ERROR

##### 间联商户等级校验错误

##### 间联商户等级校验错误，请提高间联商

##### 户的等级

##### SUB_MERCHANT_NO_PER

##### MISSION

##### 间联商户无权使用该产品 商户暂时不符合产品的使用场景

##### 4.2.17.4 异步通知触发

##### 根据交易状态后续可能会触发异步通知交易。

##### 触发通知类型

##### 通知类 描述 默认开启

fund_auth_freeze (^) 资金预授权冻结成功 是
fund_auth_freeze.closed (^) 资金预授权订单关闭 否
fund_auth_freeze.init (^) 资金预授权订单创建 否^

##### 触发通知字段

##### 参数 类型 是否^

##### 必须

##### 最大

##### 长度

##### 描述 示例值

sign (^) String
是 344 签名
sign_type (^) String
是 10 本域不出现时，默认为
RSA2算法。
银联生成签名字符串所
使用的签名算法类型，本
域值同收单请求银联上
送的sign_type。

##### RSA2

```
cert_id
String 是 128 签名证书序列号
```
app_id (^) String
是 32 支付宝分配给开发者的
应用Id
(^2088102146225135)
auth_no String 是^
64 支付宝资金授权订单号^

##### 2014070800002001550

##### 000014417


out_order_no String 是^
64 商户的资金授权订单号^

##### 4977164666634053

operation_id String (^) 是 64
支付宝资金操作流水号

##### 2014070800032850551

out_request_no String (^) 是 64
商户资金操作流水号

##### 8077735255938032

operation_type String 是^

(^16) 资金操作类型，支持【F
REEZE，UNFREEZE，P
AY】

##### FREEZE

amount String 是^

(^11) 本次操作冻结的金额，单
位为：元（人民币），精
确到小数点后两位

##### 0.01

status String

##### 是 20 资金预授权明细的状态

##### 目前支持：

##### INIT：初始

##### SUCCESS：成功

##### CLOSED：关闭

##### SUCCESS

gmt_create String (^) 是 20
操作创建时间

##### 2014 - 09 - 15 11:23:04

gmt_trans String (^) 是 20
操作处理完成时间

##### 2014 - 09 - 15 11:23:04

payer_logon_id String 是 100 付款方支付宝账号登录
号

```
test***@alitest.com
```
payer_user_id String (^) 是 32
付款方支付宝账号UID

##### 2088102000275885

payee_logon_id String 是 100 收款方支付宝账号登录
号

##### 159****5620

payee_user_id String (^) 是 32
收款方支付宝账号UID
2088102000275795
total_freeze_amount String (^) 是 11
累计冻结金额

##### 0 .01

total_unfreeze_amount String (^) 是 11
累计解冻金额

##### 0 .01

total_pay_amount String (^) 是 11
累计支付金额

##### 0 .01

rest_amount String (^) 是 11
剩余冻结金额

##### 0 .01

credit_amount String (^) 是 11 本次操作中信用金额，单
位为：元（人民币），精
确到小数点后两位

##### 0 .01

fund_amount String 是 11

##### 本次操作中自有资金金

##### 额，单位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

total_freeze_credit_amount String 是 11 累计冻结信用金额，单位
为：元（人民币），精确
到小数点后两位

##### 0 .01

total_freeze_fund_amount String 是 11

##### 累计冻结自有资金金额，

##### 单位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

total_unfreeze_credit_amount String 是 11

##### 累计解冻信用金额，单位

##### 为：元（人民币），精确

##### 到小数点后两位

##### 0 .01

total_unfreeze_fund_amount String 是 11 累计解冻自有资金金额，
单位为：元（人民币），
精确到小数点后两位

##### 0 .01


```
total_pay_credit_amount String 是 11
```
##### 累计支付信用金额，单位

##### 为：元（人民币），精确

##### 到小数点后两位

##### 0 .01

```
total_pay_fund_amount String 是 11 累计支付自有资金金额，
单位为：元（人民币），
精确到小数点后两位
```
##### 0 .01

```
rest_credit_amount String 是 11
```
##### 剩余冻结信用金额，单位

##### 为：元（人民币），精确

##### 到小数点后两位

##### 0 .01

```
rest_fund_amount String 是 11
```
##### 剩余冻结自有资金金额，

##### 单位为：元（人民币），

##### 精确到小数点后两位

##### 0 .01

pre_auth_type String (^) 是 20

##### 预授权类型，目前支持C

##### REDIT_AUTH(信用预授

##### 权);商户可根据该标识

##### 来判断该笔预授权的类

##### 型，当返回值为"CREDI

##### T_AUTH"表明该笔预授

##### 权为信用预授权，没有真

##### 实冻结资金；当返回值为

##### 空或者不为"CREDIT_A

##### UTH"则表明该笔预授权

##### 为普通资金预授权，会冻

##### 结用户资金

##### CREDIT_AUTH

```
trans_currency String[] 否 8
```
```
标价币种, amount 对应
的币种单位。支持澳元：
AUD, 新西兰元：NZD,
台币：TWD, 美元：USD,
欧元：EUR, 英镑：GBP，
人民币：CNY
```
##### USD

### 4.3 商户报备类交易

#### 4.3.1 间连商户分级入驻接口

##### 4.3.1.1 场景说明

##### 间连商户分级入驻。

##### 4.3.1.2 接口说明

```
公共请求参数中的method填写ant.merchant.expand.indirect.create。
```
##### 4.3.1.2.1 请求参数

参数 类型 (^) 是否 必
须

##### 最大 长

##### 度

##### 描述 示例值

external_id String (^) 是 (^32) 商户编号，由机构定义，需要保证在
机构下唯一

##### 105290059990194

name^ String^ 是 (^128) 商户名称 (^) xxx信息服务有限公
司^
alias_name^ String^ 是 (^64) 商户简称 (^) xx公
司^
service_phone^ String^ 是 (^64) 商户客服电话 95188


category_id String (^) 否 32 商户经营类目，取值范围参考 4.1.4
章节说明^

##### 2015050700000000

mcc String^ 是 (^4) 标准商户类别码，例如 5976 表示“专
业销售-药品医疗-康复和身体辅助用
品”。取值范围参考4.1.4章节说明

##### 5976

source String (^) 是 20 与银行或机构合作的伙伴标识，填写
该合作伙伴在支付宝的pid

##### 2088100020003000

org_pid String (^) 是 20 收单机构(例如银行)的标识，填写该
机构在支付宝的pid

##### 2088201916734621

business_license^ String^ 否 (^20) 商户证件编号（企业或者个体工商户
提供营业执照，事业单位提供事证
号）

##### 100000011234561

business_license_typ
e

String (^) 否 (^32) 商户证件类型，取值范围：
NATIONAL_LEGAL：营业执照
；NATIONAL_LEGAL_MERGE
: 营业执照(多证合一) ；
INST_RGST_CTF：事业单位法人证
书

##### NATIONAL_LEGA

##### L

contact_info^ ContactInfo[]^ 是 -^ 商户联系人信息 -^

name^ String^ 是 (^128) 联系人名字 (^) 张三
phone^ String^ 否 (^20) 电话 0571 - 85022088
mobile^ String^ 否 (^20) 手机号 13888888888
email^ String^ 否 (^128) 电子邮箱 user@domain.com^
tag^ String[]^ 是 (^6) 商户联系人业务标识枚举，表示商户
联系人的职责。异议处理接口人:02;
商户关键联系人:06;数据反馈接口
人:11;服务联动接口人:08

##### 06

type^ String^ 是 (^20) 联系人类型，取 值 范 围 ：
LEGAL_PERSON ： 法 人 ；
CONTROLLER： 实 际 控 制 人 ；
AGENT：代理人；OTHER：其他

##### LEGAL_PERSON^

id_card_no^ String^ 否 (^32) 身份证号 110000199001011234
address_info^ AddressInfo[]^ 否 -^ 商户地址信息 -^
city_code String (^) 是 (^10) 城市编码，城市编码是与国家 统计
局 一 致 ， 请 查 询 :
[http://www.stats.gov.cn/tjsj/tjbz/tjyqhd](http://www.stats.gov.cn/tjsj/tjbz/tjyqhd)
mhcxhfdm/

##### 371000

district_code String (^) 是 (^10) 区县编码，区县编码是与国家 统计
局 一 致 ， 请 查 询 :
[http://www.stats.gov.cn/tjsj/tjbz/tjyqhd](http://www.stats.gov.cn/tjsj/tjbz/tjyqhd)
mhcxhfdm/

##### 371002

address String (^) 是 (^256) 地址。商户详细经营地址或人员所在
地点

##### 万塘路 18 号黄龙时

##### 代广 场B座

province_code^ String^ 是 (^10) 省份编码，省份编码是与国家统计局
一致，请查询:
[http://www.stats.gov.cn/tjsj/tjbz/tjyqhd](http://www.stats.gov.cn/tjsj/tjbz/tjyqhd)
mhcxhfdm/

##### 370000


longitude String (^) 否 (^11) 经度，浮点型, 小数点后最多保留 6
位。如需要录入经纬度，请以高德坐
标系为准，录入时请确保经纬度参数
准 确 。 高 德 经 纬 度 查 询 ：
[http://lbs.amap.com/cons](http://lbs.amap.com/cons)
ole/show/picker

##### 120.760001

latitude String (^) 否 (^10) 纬度，浮点型,小数点后最多保 留 6
位 如需要录入经纬度，请以高德 坐
标系为准，录入时请确保经纬度参数
准 确 。 高 德 经 纬 度 查 询 ：
[http://lbs.amap.com/cons](http://lbs.amap.com/cons)
ole/show/picker

##### 60.270001

type^ String^ 否 (^32) 地 址 类 型 。 取 值 范 围 ：
BUSINESS_ADDRESS：经营地址（默
认）

##### BUSINESS_ADDRE

##### SS^

```
bankcard_info BankCardInfo
[]
```
##### 否^ -^ 商户对应银行所开立的结算卡信息 -^

card_no^ String^ 是 (^48) 银行卡号 6228480402637874213
card_name^ String^ 是 (^128) 银行卡持卡人姓名 (^) 张三
bank_branch_nam
e
String (^) 否 512 银行开户行名称。填写支行名
称。
招商银行杭州高新支
行
pay_code_info String[] (^) 否 (^256) 商户的支付二维码中信息，用于营销
活动
[http://www.domain.c](http://www.domain.c)
om
logon_id^ String[]^ 否 (^128) 商户的支付宝账号 user@domain.com^
memo String (^) 否 (^512) 商户备注信息，可填写额外信息 备注信息
service_codes String[] (^) 否 - (^) 申请服务，默认情况下开通F2F服务，
可传送所有需要开通的服务。
允许同时申请多个服务，各服务的准
入验证相互独立，服务申请实时生效；
当前可用服务请关注出参
service_codes字段。目前支持：
PC：网站支付；
APP：无线支付；
F2F：当面付；
PRE_F2F：线下预授权；
PC和APP对应线上，F2F对应线下。

##### F2F

site_info siteInfo[] (^) 否 - (^) service_codes包含PC和APP时必填 PC必传site_url，APP
必传site_name
site_type String (^) 是 (^32) 网站： 01
APP : 02
服务窗:03
公众号:04
其他:05
支付宝小程序:06
01
site_url String (^) 否 (^256) 站点地址 [http://www.xxx.com](http://www.xxx.com)
site_name String (^) 否 (^512) 站点名称 XXX网站
account String (^) 否 (^128) 测试账号 测试账号
password String (^) 否 (^128) 测试密码 测试密码
其中，商户经营类目（category_id）取值如下：
一级分类 一级类目id
美食 2015050700000000


##### 超市便利店 2015091000052157

##### 休闲娱乐 2015062600004525

##### 购物 2015062600002758

##### 爱车 2016062900190124

##### 生活服务 2015063000020189

##### 教育培训 2016042200000148

##### 医疗健康 2016062900190296

##### 航旅 2015080600000001

##### 专业销售/批发 2016062900190337

##### 政府/社会组织 2016062900190371

##### 4.3.1.2.2 响应参数

参数 类型 (^) 是否 必
须

##### 最大 长

##### 度

##### 描述 示例值

sub_merchant_id String (^) 是 (^16) 商户在银联入驻成功后，生成的全局
唯一的商户编号

##### 2088101156429885

service_codes String[] (^) 否 - (^) 目前支持：
PC：网站支付；
APP：无线支付；
F2F：当面付；
PRE_F2F：线下预授权；
PC和APP对应线上，F2F对应线下。

##### F2F^

service_fail_reason String (^) 否 (^) 申请业务失败原因 申请业务失败原因

##### 4.3.1.3 业务错误码

##### 错误码^ 错误描述^ 解决方案^

SYSTEM_ERROR^ 系统繁忙 (^) 系统繁忙，请重试
MERCHANT_NULL_AR GUMENT 参数有误，参数为空^ 参数为空，请检查^
INVALID_PARAMETER^ 参数有误 (^) 参数格式非法，请检查
MERCHANT_NOT_EXI STS 机构信息不存在^ 机构信息不存在，请检查^
MERCHANT_CATEGOR
Y_ILLEGAL

##### 商户经营类目信息非法^ 商户经营类目信息非法，请检查^

##### MERCHANT_SOURCE_ ILLEGAL 商户来源不合法，请检查^ 商户来源不合法，请检查^

##### DISTRICT_CODE_ILLE GAL 地址码不合法^ 请按照国家标准填写地址编号信息^

CTU_INDIRECT_CREA TE_FAIL (^) 风险监测系统的监测结果,账户存在
风险，暂时不能创建

##### 风险监测系统的监测结果,账户存在

##### 风险，暂时不能创建

##### CTU_FAIL_BANK_STO

##### P_INCOMING

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：所属合作银行暂停进

##### 件

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：所属合作银行暂停进

##### 件

```
CTU_FAIL_ISV_STOP_I
NCOMING
```
##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：所属合作服务商暂停

##### 进件

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：所属合作服务商暂停

##### 进件


##### CTU_FAIL_MERCHANT

##### _INFO_LACK

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：商户信息未填写完整

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：商户信息未填写完整

##### CTU_FAIL_BIZ_CHECK^

##### _FAILED

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：工商信息校验不通过

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：工商信息校验不通过

##### CTU_FAIL_MERCHANT

##### _IN_BACKLIST

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：黑名单校验不通过

##### 根据我公司风险监测系统的监测结

##### 果，你的账户可能存在风险，暂时不

##### 能创建。原因：黑名单校验不通过

##### MER_ADDRESS_ILLEG AL 商户地址不合规，包含敏感关键词^ 商户地址不合规，包含敏感关键词，

##### 请检查你的录入地址

MER_NAME_ILLEGAL (^) 商户名称或简称不合规，包含敏感关
键词^

##### 商户名称或简称包含敏感关键词，请

##### 检查你的商户名称或简称

##### ACCOUNT_LEVEL_CH

##### ECK_FAILED

##### M3等级校验失败（身份证信息以及

##### 营业执照信息不合法）

##### 商户信息不全，请补充商户信息（营

##### 业执照信息、身份证信息必须有一个）

##### INDIRECT_COUNT_CH

##### ECK_FAILED

##### 进件数量超限^ 商户进件次数超限^

##### CERT_INFO_REF_LIMI

##### T_EXCEED

##### 同一证照使用次数超限^ 商户同一信息使用次数超限（可能是

##### 法人或者实际控制人身份证号、营业

##### 执照号、受理商户的支付宝账号信息

##### 超限）

##### SETTLED_UNION_BANK_NOT_

##### CONFIRMED

传入的银行或机构未通过支付宝签约 (^) 请检查银行或机构的pid是否通过了
支付宝签约
SETTLED_BANK_ISV_NOT_CON
FIRMED

##### 传入的间连受理商户的推荐组织未通

##### 过银行或者机构的邀约验证

##### 请检查间连受理商户的推荐组织是

##### 否通过了银行或者机构的邀约验证

##### SETTLED_MERCHANT_EXIST_O

##### LD

##### 银联网联进件时商户已经通过银行进

##### 件过

##### 通过银行进件过的商户不可以通过

##### 银联或网联再次进件，只能通过商户

##### 转移接口转移给银联或者网联

```
SETTLED_MCC_ILLEGAL mcc不合法^ MCC为标准商户类别码，例如 5812
表示生活百货-饮食保健-餐厅、订餐
服 务 。 详 情 可 查 看
https://doc.open.alipay.com/docs/doc.h
tm?&docType=1&articleId=10884 3
BANK_INDIRECT_TRISIDE_DIS
ABLED
```
##### 银行存量商户迁移双联完成后禁止新

##### 增或修改二级商户

##### 银行存量商户迁移双联完成后禁止

##### 新增或修改二级商户

##### 4.3.1.4 异步通知触发

##### 无。

#### 4.3.2 间连商户分级信息查询

##### 4.3.2.1 场景说明

##### 间连商户分级信息查询。

##### 4.3.2.2 接口说明

```
公共请求参数中的method填写ant.merchant.expand.indirect.query。
```
##### 4.3.2.2.1 请求参数

##### 参

##### 数^

##### 类

##### 型^

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值^


sub_merchant_id String (^) 否 (^16) 商户在银联入驻成功后，生成的全
局唯一的商户编号，与external_id
二选一必传

##### 2088101156429885

external_id^ String^ 否 (^32) 商户编号，由机构定义，需要保证
在机构下唯一，与
sub_merchant_id二选一

##### 105290059990194

org_pid String (^) 否 20 机构pid，根据org_pid +external_id
可以唯一确定商户，如果未传
sub_merchant_id ，则必传
external_id 和 org_pid

##### 2088201916734621

##### 4.3.2.2.2 响应参数

##### 参数^ 类型^ 是否 必

##### 须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值^

service_phone^ String^ 是 (^20) 商户客服电话 95188
sub_merchant_id^ String^ 是 (^16) 商户在银联入驻成功后，生成的全
局唯一的商户编号

##### 2088101156429885

external_id^ String^ 是 (^32) 商户编号，由机构定义，需要保证
在机构下唯一

##### 105290059990194

name^ String^ 是 (^128) 商户名称 (^) xxx信息服务有限公
司^
alias_name^ String^ 是 (^64) 商户简称 (^) xx公
司^
category_id^ String^ 否 (^32) 商户经营类目 2015050700000000
source^ String^ 是 20 与银行或机构合作的伙伴标识，填
写该合作伙伴在支付宝的pid^

##### 2088100020003000

indirect_level^ String^ 是 (^32) 间 连 商 户 等 级 。
INDIRECT_LEVEL_M0:M0等 级
;INDIRECT_LEVEL_M1:M1等 级
;INDIRECT_LEVEL_M2:M2等 级
;INDIRECT_LEVEL_M3:M3等 级

##### INDIRECT_LEVEL_

##### M2^

business_license String (^) 否 (^20) 商户证件编号（企业或者个体工商
户提供营业执照，事业单位提供事
证号）

##### 100000011234561

business_license_type^ String^ 否 (^32) 商户证件类型，取值范围
：NATIONAL_LEGAL：营业执照
；NATIONAL_LEGAL_MERGE:营
业执照( 多 证 合 一 ) ；
INST_RGST_CTF：事业单位法人证
书

##### NATIONAL_LEGA

##### L^

contact_info ContactInfo[] (^) 是 - (^) 商户联系人信息 -
name^ String^ 是 (^128) 联系人名字 (^) 张三
phone^ String^ 否 (^20) 电话 0571 - 85022088
mobile^ String^ 否 (^20) 手机号 13888888888
email^ String^ 否 (^128) 电子邮箱 user@domain.com^
tag String[] (^) 是 (^6) 商户联系人业务标识枚举，表示商
户联系人的职责。异议处理接口
人:02;商户关键联系人:06;数据反馈
接口人:11;服务联动接口人:08

##### 06


type String (^) 是 (^20) 联系人类型，取值范围：
LEGAL_PERSON ： 法 人 ；
CONTROLLER：实际控制人；
AGENT：代理人；OTHER：其他

##### LEGAL_PERSON

id_card_no^ String^ 否 (^32) 身份证号 110000199001011234
address_info^ AddressInfo[]^ 否 -^ 商户地址信息 -^
city_code^ String^ 是 (^10) 城市编码，城市编码是与国家统计
局一致，请查询:
[http://www.stats.gov.cn/tjsj/tjbz/tjyqh](http://www.stats.gov.cn/tjsj/tjbz/tjyqh)
dmhcxhfdm/

##### 371000

district_code^ String^ 是 (^10) 区县编码，区县编码是与国家统计
局一致，请查询:
[http://www.stats.gov.cn/tjsj/tjbz/tjyqh](http://www.stats.gov.cn/tjsj/tjbz/tjyqh)
dmhcxhfdm/

##### 371002

address^ String^ 是 (^256) 地址。商户详细经营地址或人员所
在地点

##### 万塘路 18 号黄龙时

##### 代广 场B座

province_code^ String^ 是 (^10) 省份编码， 省份编码是与国家统计
局一致，请查询:
[http://www.stats.gov.cn/tjsj/tjbz/tjyqh](http://www.stats.gov.cn/tjsj/tjbz/tjyqh)
dmhcxhfdm/

##### 370000

longitude String (^) 否 (^11) 经度，浮点型, 小数点后最多保留 6
位。 如需要录入经纬度，请以高德
坐标系为准，录入时请确保经纬度
参 数 准 确 。 高 德 经 纬 度 查 询：
[http://lbs.amap.com/cons](http://lbs.amap.com/cons)
ole/show/picker

##### 120.760001

latitude String (^) 否 (^10) 纬度，浮点型,小数点后最多保留 6
位，如需要录入经纬度，请以高德
坐标系为准，录入时请确保经纬度
参数准确。高德经纬度查询：
[http://lbs.amap.com/cons](http://lbs.amap.com/cons)
ole/show/picker

##### 60.270001

type String (^) 否 (^32) 地址类型。取值范围：
BUSINESS_ADDRESS：经营地址
（默认）

##### BUSINESS_ADDRE

##### SS

bankcard_info BankCardInfo
[]

##### 否 -^ 商户对应银行所开立的结算卡信息 -^

card_no^ String^ 是 (^48) 银行卡号 6228480402637874213
card_name^ String^ 是 (^128) 银行卡持卡人姓名 (^) 张三
bank_branch_name String (^) 否 512 银行开户行名称。填写支行名
称。
招商
银行
杭州
高新
支行
pay_code_info^ String[]^ 否 (^256) 受理商户的固定二维码链接地址，
商户所属的银行或ISV 给商户的二
维码url值。
[http://www.domain.c](http://www.domain.c)
om
logon_id String[] (^) 否 (^128) 受理商户的支付宝账号（用于关联
商户生活号、原服务窗，打通口碑
营销活动）
user@domain.com
memo^ String^ 否 (^512) 商户备注信息，可填写额外信息 备注信息
org_pid String^ 否 (^20) 收单机构(例如银行）的标识，填写
该机构在支付宝的pid

##### 2088201916734621


```
mcc String^ 否 4 标准商户类别码，例如 5976 表示“专
业销售-药品医疗-康复和身体辅助
用品”。取值范围参考4.1.4章节说明
```
##### 5976

service_codes String[] (^) 否 - (^) 申请服务，默认情况下开通F2F服
务，可传送所有需要开通的服务。
允许同时申请多个服务，各服务的
准入验证相互独立，服务申请实时
生效；当前可用服务请关注出参
service_codes字段。目前支持：
PC：网站支付；
APP：无线支付；
F2F：当面付；
PRE_F2F：线下预授权；
PC和APP对应线上，F2F对应线下。

##### F2F^

site_info siteInfo[] (^) 否 - (^) service_codes包含PC和APP时必填
site_type String 是 (^32) 网站： 01
APP : 02
服务窗:03
公众号:04
其他:05
支付宝小程序:06

##### 01

site_url String (^) 否 256 站点地址 [http://www.xxx.com](http://www.xxx.com)^
site_name String 否 512 站点名称 XXX网站
account String 否 128 测试账号 测试账号
password String 否 128 测试密码 测试密码

##### 4.3.2.3 业务错误码

##### 错误码^ 错误描述^ 解决方案^

SYSTEM_ERROR^ 系统繁忙 (^) 系统繁忙，请重试
MERCHANT_NULL_AR GUMENT 参数有误，参数为空^ 参数为空，请检查^
MERCHANT_ILLEGAL_ ARGUMENT 参数格式非法^ 参数格式非法，请检查^

##### 4.3.2.4 异步通知触发

##### 无。

#### 4.3.3 商户分级与信息修改

##### 4.3.3.1 场景说明

##### 商户分级与信息修改。

##### 4.3.3.2 接口说明

```
公共请求参数中的method填写ant.merchant.expand.indirect.modify。
```
##### 4.3.3.2.1 请求参数

##### 参

##### 数

##### 类

##### 型

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述^ 示例

##### 值

sub_merchant_id String (^) 否 (^16) 商户在银联入驻成功后，生成的全
局唯一的商户编号，与external_id
二选一

##### 2088101156429885


external_id String (^) 否 (^32) 商户编号，由机构定义，需要保证
在机构下唯一，与 sub_merchant_id
二选一

##### 105290059990194

org_pid String^ 否 (^20) 签约机构pid。银联或者网联调用时，
如果未传sub_merchant_id,则需要同
时传org_pid和externel_id。

##### 2088201916734621

name^ String^ 是 (^128) 商户名称 (^) xxx信息服务有限公
司^
alias_name^ String^ 是 (^64) 商户简称 (^) xx公
司
source String (^) 是 (^32) 与银行或机构合作的伙伴标识，填
写该合作伙伴在支付宝的pid

##### 2088100020003000

business_license String (^) 否 (^20) 商户证件编号（企业或者个体 工商
户提供营业执照，事业单位提供事
证号）

##### 100000011234561

service_phone^ String^ 是 (^20) 商户客服电话 95188
business_license_type^ String^ 否 (^32) 商户证件类型，取值范围
：NATIONAL_LEGAL：营业执照
；NATIONAL_LEGAL_MERGE
:营业执照(多证合一)；
INST_RGST_CTF：事业单位法人证
书

##### NATIONAL_LEGA

##### L^

address_info^ AddressInfo[
]^

##### 否^ -^ 商户地址信息^ -^

city_code String (^) 是 (^10) 城市编码，城市编码是与国家 统计
局一致，请查询:
[http://www.stats.gov.cn/tjsj/tjbz/tjyqh](http://www.stats.gov.cn/tjsj/tjbz/tjyqh)
dmhcxhfdm/

##### 371000

district_code String (^) 是 (^10) 区县编码，区县编码是与国家 统计
局一致，请查询:
[http://www.stats.gov.cn/tjsj/tjbz/tjyqh](http://www.stats.gov.cn/tjsj/tjbz/tjyqh)
dmhcxhfdm/

##### 371002

address String (^) 是 (^256) 地址。商户详细经营地址或人员所
在地点

##### 万塘路 18 号黄龙时

##### 代广 场B座

province_code^ String^ 是 (^10) 省份编码， 省份编码是与国家统计
局一致，请查询:
[http://www.stats.gov.cn/tjsj/tjbz/tjyqh](http://www.stats.gov.cn/tjsj/tjbz/tjyqh)
dmhcxhfdm/

##### 370000

longitude String (^) 否 (^11) 经度，浮点型, 小数点后最多保留 6
位。 如需要录入经纬度，请以高德
坐标系为准，录入时请确保经纬度
参数准确。高德经纬度查 询：
[http://lbs.amap.com/cons](http://lbs.amap.com/cons)
ole/show/picker

##### 120.760001

latitude String (^) 否 (^10) 纬度，浮点型,小数点后最多保留 6
位。如需要录入经纬度，请以高德
坐标系为准，录入时请确保经纬度
参数准确。高德经纬度查 询：
[http://lbs.amap.com/cons](http://lbs.amap.com/cons)
ole/show/picker

##### 60.270001

type^ String^ 否 (^32) 地 址 类 型 。 取 值 范 围 ：
BUSINESS_ADDRESS：经营地址
（默认）

##### BUSINESS_ADDRE

##### SS^


contact_info^ ContactInfo[
]^

##### 是^ -^ 商户负责人信息^ -^

name^ String^ 是 (^128) 联系人名字 (^) 张三
phone^ String^ 否 (^20) 电话 0571 - 85022088
mobile^ String^ 否 (^20) 手机号 13888888888
email^ String^ 否 (^128) 电子邮箱 user@domain.com^
tag String[] (^) 是 (^6) 商户联系人业务标识枚举，表示商
户联系人的职责。异议处理接口
人:02;商户关键联系人:06;数据反馈
接口人:11;服务 联动接口人:08

##### 06

type String (^) 是 (^20) 联 系 人 类 型 ， 取 值 范 围：
LEGAL_PERSON ： 法 人 ；
CONTROLLER：实际控制人；
AGENT：代理人；OTHER：其他

##### LEGAL_PERSON

id_card_no^ String^ 否 (^32) 身份证号 110000199001011234
bankcard_info BankCardInf
o[]

##### 否 -^ 商户对应银行所开立的结算卡信息 -^

card_no^ String^ 是 (^48) 银行卡号 6228480402637874213
card_name^ String^ 是 (^128) 银行卡持卡人姓名 (^) 张三
bank_branch_name String (^) 否 512 银行开户行名称。填写支行名
称。
招商
银行
杭州
高新
支行
pay_code_info String[] (^) 否 (^256) 受理商户的固定二维码链接地址，
商户所属的银行或ISV 给商户的二
维码url值。
[http://www.domain.c](http://www.domain.c)
om
logon_id^ String[]^ 否 (^128) 受理商户的支付宝账号（用于关联
商户生活号、原服务窗，打通口碑
营销活动）
user@domain.com^
category_id String (^) 否 32 商户经营类目 2015050700000000
memo String (^) 否 (^512) 商户备注信息，可填写额外信息 备注信息
mcc String^ 是 (^4) 标准商户类别码，例如 5976 表示“专
业销售-药品医疗-康复和身体辅助
用品”。取值范围参考4.1.4章节说明

##### 5976

service_codes String[] (^) 否 - (^) 申请服务，默认情况下开通F2F服
务，可传送所有需要开通的服务。
允许同时申请多个服务，各服务的
准入验证相互独立，服务申请实时
生效；当前可用服务请关注出参
service_codes字段。目前支持：
PC：网站支付；
APP：无线支付；
F2F：当面付；
PRE_F2F：线下预授权；
PC和APP对应线上，F2F对应线下。

##### F2F

site_info siteInfo[] 否 - (^) service_codes包含PC和APP时必填 PC必传site_url，APP
必传site_name^


site_type String 是 (^32) 网站： 01
APP : 02
服务窗:03
公众号: 04
其他:05
支付宝小程序:06

##### 01

```
site_url String 否 256 站点地址 http://www.xxx.com
site_name String 否 512 站点名称 XXX网站
account String 否 128 测试账号 测试账号
```
password String (^) 否 128 测试密码 测试密码

##### 4.3.3.2.2 响应参数

##### 参

##### 数^

##### 类

##### 型^

##### 是否 必

##### 须

##### 最大 长

##### 度

##### 描述 示例

##### 值^

sub_merchant_id^ String^ 是 (^16) 商户在银联入驻成功后，生成的全
局唯一的商户编号

##### 2088101156429885

service_codes String[] (^) 否 - (^) 可用服务，列表返回，取值范围：
PC：网站支付；
APP：无线支付；
F2F：当面付；
PRE_F2F：线下预授权；
返回为空为不支持所有服务；

##### APP

service_fail_reason String (^) 否 (^) 申请业务失败原因 申请业务失败原因

##### 4.3.3.3 业务错误码

##### 错误码^ 错误描述^ 解决方案^

SYSTEM_ERROR^ 系统繁忙 (^) 系统繁忙，请重试
MERCHANT_NULL_AR
GUMENT

##### 参数为空 参数为空，请检查

INVALID_PARAMETER^ 参数有误参数格式非法 (^) 参数格式非法，请检查
MERCHANT_NOT_EXI STS 商户信息不存在^ 受理商户信息不存在，请检查^
MERCHANT_SOURCE_
ILLEGAL

##### 商户来源不合法，请检查^ 商户来源不合法，请检查^

##### DISTRICT_CODE_ILLE GAL 地址编号不合法^ 请按照国家标准填写地址编号信息^

```
MERCHANT_CATEGOR
Y_ILLEGAL
```
##### 商户经营类目信息非法 商户经营类目信息非法，请检查

##### MER_ADDRESS_ILLEG AL 商户地址不合规，包含敏感关键词^ 商户地址不合规，包含敏感关键词，

##### 请检查你的录入地址

##### MER_NAME_ILLEGAL^ 商户名称或简称不合规，包含敏感

##### 关键词

##### 商户名称或简称包含敏感关键词，请

##### 检查你的商户名称或简称

##### ACCOUNT_LEVEL_CH

##### ECK_FAILED

##### M3等级校验失败（身份证信息以及

##### 营业执照信息 不合法）

##### 商户信息不全，请补充商户信息（营业

##### 执照信息、身份证信息必须有一个）^

##### INDIRECT_COUNT_CH

##### ECK_FAILED

##### 进件数量超限 商户进件次数超限

##### CERT_INFO_REF_LIMI

##### T_EXCEED

##### 同一证照使用次数超限^ 商户同一信息使用次数超限（可能是

##### 法人或者实际控制人身份证号、营业

##### 执照号、受理商户的支付宝账号信息

##### 超限）


##### 4.3.3.4 异步通知触发

##### 无。

## 5 清算文件

### 5.1 文件格式

##### 银联将收单机构受理的支付宝二维码交易明细（仅包含成功清算交易）次日以文件形式（包括明细和汇总

2 个文件）下发给收单机构。文件为文本文件，采用CSV格式，并使用zip算法压缩。文件名为收单机构在支
付宝的pid加上 0156 （人民币币种代码）再加下划线和日期构成，如pid0156_YYYYMMDD.csv.zip。

#### 5.1.1 明细文件

文件名：以收单机构在支付宝的pid加上 0156 （人民币币种代码），加下划线和日期再加下划线和DETAILS
构成，如pid0156_YYYYMMDD _DETAILS.csv。
文件说明：包括所有成功清算的交易明细，文件第1~3行为文件相关内容说明，从第 4 行开始为文件明细，
最后三行为汇总说明。
字段说明：字段之间用半角逗号分隔，对应的字段内容为：银联交易号,商户订单号,业务类型,商品名称,创
建时间,完成时间,门店编号,门店名称,操作员,终端号,对方账户,订单金额（元）,商家实收（元）,支付宝红包（元）,
集分宝（元）,支付宝优惠（元）,商家优惠（元）,券核销金额（元）,券名称,商家红包消费金额（元）,卡消费
金额（元）,退款批次号,服务费（元）,实收净额（元）,商户识别号,交易方式,备注,花呗分期手续费,花呗分期
数,应用ID,PID,活动标识,销售产品码,银联附加数据。

#### 5.1.2 汇总文件

文件名：以收单机构在支付宝的pid加上 0156 （人民币币种代码），加下划线和日期再加下划线和SUMMARY
构成，如pid0156_YYYYMMDD _SUMMARY.csv。
文件说明：包括所有成功清算的交易汇总信息，文件第1~3行为文件相关内容说明，从第 4 行开始为文件
汇总明细，最后一行为文件导出时间。
字段说明：字段之间用半角逗号分隔，对应的字段内容为：门店编号,门店名称,交易订单总笔数, 退款订单
总笔数,订单金额（元）,商家实收（元）,支付宝优惠（元）,商家优惠（元）,卡消费金额（元）,服务费（元）,
实收净额（元）。

### 5.2 文件示例

#### 5.2.1 明细文件

##### #支付宝业务明细查询

##### #账号：[20888216913267160156]

##### #起始日期：[2018年 01 月 17 日 00:00:00] 终止日期：[2018年 01 月 18 日 00:00:00]

##### #-----------------------------------------业务明细列表----------------------------------------

##### 银联交易号,商户订单号,业务类型,商品名称,创建时间,完成时间,门店编号,门店名称,操作员,终端号,对方账户,

##### 订单金额（元）,商家实收（元）,支付宝红包（元）,集分宝（元）,支付宝优惠（元）,商家优惠（元）,券核销

##### 金额（元）,券名称,商家红包消费金额（元）,卡消费金额（元）,退款批次号,服务费（元）,实收净额（元）,

##### 商户识别号,交易方式,备注,花呗分期手续费,花呗分期数,应用ID,PID,活动标识,销售产品码,银联附加数据

##### 123,123,交易,承德水费,2018/1/17 01:07,2018/1/17 01:08,123,123,,,123,0.01,0.01,0,0,0,0,0,,0,0,"",0,0.01,123,无线

##### 支付, 承 德 水

```
费,0,0, 2014072300007148 , 2088201916734621 ,bluesea_1,FACE_TO_FACE_PAYMENT,eyJrZXkxIjoidW5pb25wY
XkifQ==
#-----------------------------------------业务明细列表结束------------------------------------
#交易合计： 11 笔，商家实收共1361.07元，商家优惠共0.00元
#退款合计： 0 笔，商家实收退款共0.00元，商家优惠退款共0.00元
#导出时间：[2018年 01 月 18 日 04:30:07]
```
#### 5.2.2 汇总文件

##### #支付宝业务汇总查询

##### #账号：[20889112124162010156]

##### #起始日期：[2017年 04 月 09 日 00:00:00] 终止日期：[2017年 04 月 10 日 00:00:00]


##### #-----------------------------------------业务汇总列表----------------------------------------

##### 门店编号,门店名称,交易订单总笔数,退款订单总笔数,订单金额（元）,商家实收（元）,支付宝优惠（元）,商家

##### 优惠（元）,卡消费金额（元）,服务费（元）,实收净额（元）

##### 1111 ,1111 ,1,1,0.14,0.14,0.00,0.00,0.00,0.00,0.14

##### 合计 , , 1,1,0.14,0.14,0.00,0.00,0.00,0.00,0.14

##### #----------------------------------------业务汇总列表结束-------------------------------------

##### #导出时间：[2017年 04 月 10 日 04:41:31]

### 5 .3 获取方式

#### 5.3.1 FTP 方式

##### 5.3.1.1 适用范围

入网机构可通过FTP方式获取和发送文件。银联可主动向入网机构发送文件，入网机构也可以在银联文件服务器上获取文件。

##### 5.3.1.2 目录结构

在机构侧，按照机构的要求，根据不同文件属性设置不同的文件目录，基本策略是机构代码+日期作为文件存取路径。

在银联侧，统一使用机构代码+日期作为文件存取路径。具体路径为：/机构代码/日期/各类文件。

上述机构代码为银联为机构分配的 8 - 11 位数字形式的标准机构代码，例如工总行为 01020000 ，不是支付宝与机构之间约定的pid。

#### 5.3.2 SFTP 方式

##### 5.3.2.1 适用范围

入网机构可通过SFTP方式获取和发送文件。银联可主动向入网机构发送文件，入网机构也可以在银联文件服务器上获取文件。

##### 5.3.2.2 目录结构

同FTP目录结构，参见5.3.1.2。

##### 5.3.2.3 支持SSH2协议的功能

SFTP的Server端，银联系统支持SSH2协议规定的如下功能：
序号 功能类别 支持的功能列表

1. 公钥算法 ssh-rsa、ssh-dsa
2. 加密算法 aes128-cbc、3des-cbc
3. MAC算法 hmac-sha1、hmac-sha1- 96
4. 密钥交换算法 diffie-hellman-group1-sha1、diffie-hellman-group14-sha1
5. 压缩方式 zlib压缩算法、none不压缩方式
6. 验证方式 密码验证方式、公钥验证方式同时，SFTP的Server端，应忽略设置文件属性的命令SSH FXP SETSTAT(9)和SSH FXP FSETSTAT(10),直接返回成功。SFTP的Client端上传文件后，不得重新设置文件的属性信息。

##### 5.3.2.4 传输约束

（ 1 ）机构与银联交互时，应先传输临时文件，临时文件传输成功后，再将临时文件改名为正式文件。银联向机构传输的临时文件命名为“正式文件名.temp”。
（ 2 ）机构下载文件应以只读方式打开文件，然后进行读操作。
（ 3 ）同一条SFTP连接，只允许顺序依次传输文件。


#### 5.3.3 流传输方式

入网机构使用流传输程序获取和发送各类文件。流传输程序可以由银联提供，也可以按照中国银联银行卡交换系统技术规范自行开发。

在流传输模式下，银联与入网机构构成CLIENT/SERVER架构，银联既可以作为服务器接受入网机构发起的连接，也可以作为客户端主动与入网机构的系统建立连接。

流传输方式的实现通过一系列报文的交互来完成，报文的种类、交互流程及格式定义参见《中国银联银行卡交换系统技术规范 第 3 部分 文件接口规范》。


